ARM GAS  C:\Temp\ccuaF7U4.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"encoder.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.get_encordercount_r,"ax",%progbits
  18              		.align	1
  19              		.global	get_encordercount_r
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv4-sp-d16
  26              	get_encordercount_r:
  27              	.LFB133:
  28              		.file 1 "Src/encoder.c"
   1:Src/encoder.c **** /*
   2:Src/encoder.c ****  * encorder.c
   3:Src/encoder.c ****  *
   4:Src/encoder.c ****  *  Created on: Jul 14, 2019
   5:Src/encoder.c ****  *      Author: å²¡ç”° æ³°è£•
   6:Src/encoder.c ****  */
   7:Src/encoder.c **** 
   8:Src/encoder.c **** 
   9:Src/encoder.c **** 
  10:Src/encoder.c **** #include "index.h"
  11:Src/encoder.c **** #include "encorder.h"
  12:Src/encoder.c **** #include "param.h"
  13:Src/encoder.c **** #include "imu.h"
  14:Src/encoder.c **** 
  15:Src/encoder.c **** 
  16:Src/encoder.c **** 
  17:Src/encoder.c **** 
  18:Src/encoder.c **** 
  19:Src/encoder.c **** 
  20:Src/encoder.c **** static uint16_t enc_cnt_r_new = 0;
  21:Src/encoder.c **** static uint16_t enc_cnt_l_new = 0;
  22:Src/encoder.c **** static uint16_t enc_cnt_r_old = 0;
  23:Src/encoder.c **** static uint16_t enc_cnt_l_old = 0;
  24:Src/encoder.c **** float speed_r = 0;//m å³ã‚¿ã‚¤ãƒ¤é€Ÿåº¦[ m/s]
  25:Src/encoder.c **** float speed_r_max = 0;// mæœ€å¤§å³ã‚¿ã‚¤ãƒ¤é€Ÿåº¦ï¼ˆãƒ‡ãƒãƒƒã‚°ç”¨
  26:Src/encoder.c **** float speed_r_min = 0;// mæœ€å°å³ã‚¿ã‚¤ãƒ¤é€Ÿåº¦ï¼ˆãƒ‡ãƒãƒƒã‚°ç”¨
  27:Src/encoder.c **** float speed_l = 0;//m å·¦ã‚¿ã‚¤ãƒ¤é€Ÿåº¦[ m/s]
  28:Src/encoder.c **** float speed_l_max = 0;// mæœ€å¤§å·¦ã‚¿ã‚¤ãƒ¤é€Ÿåº¦ï¼ˆãƒ‡ãƒãƒƒã‚°ç”¨
  29:Src/encoder.c **** float speed_l_min = 0;// mæœ€å°å·¦ã‚¿ã‚¤ãƒ¤é€Ÿåº¦ï¼ˆãƒ‡ãƒãƒƒã‚°ç”¨
  30:Src/encoder.c **** float speed_m = 0;//m ä¸¦é€²æ–¹å‘é€Ÿåº¦[ m/s]
ARM GAS  C:\Temp\ccuaF7U4.s 			page 2


  31:Src/encoder.c **** float g_ave_speed_m = 0;//m ä¸¦é€²æ–¹å‘é€Ÿåº¦ã‚’ç§»å‹•å¹³å‡å‡¦ç†[m/s]
  32:Src/encoder.c **** float g_ave_accel_m = 0;//m ä¸¦é€²æ–¹å‘åŠ é€Ÿåº¦ã‚’ç§»å‹•å¹³å‡å‡¦ç†[m/s2]
  33:Src/encoder.c **** float speed_rad = 0;//m ã‚¨ãƒ³ã‚³ãƒ¼ãƒ€ã‹ã‚‰ç®—å‡ºã•ã‚Œã‚‹è§’é€Ÿåº¦[rad/s]
  34:Src/encoder.c **** 
  35:Src/encoder.c **** float delta_angle_motor_r = 0;	//m å³ãƒ¢ãƒ¼ã‚¿ã®å›žè»¢æ•°[rad/s]
  36:Src/encoder.c **** float delta_angle_motor_l = 0;	//m å·¦ãƒ¢ãƒ¼ã‚¿ã®å›žè»¢æ•°[rad/s]
  37:Src/encoder.c **** 
  38:Src/encoder.c **** typedef struct {	//a ç§»å‹•å¹³å‡ç”¨æ§‹é€ ä½“ã®å®šç¾©
  39:Src/encoder.c **** 	float	speed_m;			// mã€€æ¸¬å®šé–‹å§‹ã‹ã‚‰ã®æ™‚é–“(m/s)
  40:Src/encoder.c **** 	float   accel_m;			// m ç›®æ¨™é€Ÿåº¦(m/s)
  41:Src/encoder.c **** } ave_struct;
  42:Src/encoder.c **** 
  43:Src/encoder.c **** static ave_struct ave_store[ave_num];  // ãƒ‡ãƒ¼ã‚¿æ ¼ç´ç”¨ã®æ§‹é€ ä½“
  44:Src/encoder.c **** 
  45:Src/encoder.c **** 
  46:Src/encoder.c **** //æ©Ÿèƒ½	:å³ã‚¿ã‚¤ãƒ¤ã®ã‚«ã‚¦ãƒ³ã‚¿å€¤ã‚’å–å¾—
  47:Src/encoder.c **** //å¼•æ•°	:ãªã—
  48:Src/encoder.c **** //è¿”ã‚Šå€¤	:å³ã‚¿ã‚¤ãƒ¤ã®ã‚«ã‚¦ãƒ³ã‚¿å€¤
  49:Src/encoder.c **** uint16_t get_encordercount_r ( void )
  50:Src/encoder.c **** {
  29              		.loc 1 50 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		@ link register save eliminated.
  51:Src/encoder.c **** 	return ENC_CNT_R;
  34              		.loc 1 51 2 view .LVU1
  35              		.loc 1 51 9 is_stmt 0 view .LVU2
  36 0000 4FF08043 		mov	r3, #1073741824
  37 0004 586A     		ldr	r0, [r3, #36]
  52:Src/encoder.c **** }
  38              		.loc 1 52 1 view .LVU3
  39 0006 80B2     		uxth	r0, r0
  40 0008 7047     		bx	lr
  41              		.cfi_endproc
  42              	.LFE133:
  44              		.section	.text.get_encordercount_l,"ax",%progbits
  45              		.align	1
  46              		.global	get_encordercount_l
  47              		.syntax unified
  48              		.thumb
  49              		.thumb_func
  50              		.fpu fpv4-sp-d16
  52              	get_encordercount_l:
  53              	.LFB134:
  53:Src/encoder.c **** 
  54:Src/encoder.c **** //æ©Ÿèƒ½	:å·¦ã‚¿ã‚¤ãƒ¤ã®ã‚«ã‚¦ãƒ³ã‚¿å€¤ã‚’å–å¾—
  55:Src/encoder.c **** //å¼•æ•°	:ãªã—
  56:Src/encoder.c **** //è¿”ã‚Šå€¤	:å·¦ã‚¿ã‚¤ãƒ¤ã®ã‚«ã‚¦ãƒ³ã‚¿å€¤
  57:Src/encoder.c **** uint16_t get_encordercount_l ( void )
  58:Src/encoder.c **** {
  54              		.loc 1 58 1 is_stmt 1 view -0
  55              		.cfi_startproc
  56              		@ args = 0, pretend = 0, frame = 0
  57              		@ frame_needed = 0, uses_anonymous_args = 0
  58              		@ link register save eliminated.
  59:Src/encoder.c **** 	return ENC_CNT_L;
ARM GAS  C:\Temp\ccuaF7U4.s 			page 3


  59              		.loc 1 59 2 view .LVU5
  60              		.loc 1 59 9 is_stmt 0 view .LVU6
  61 0000 014B     		ldr	r3, .L3
  62 0002 586A     		ldr	r0, [r3, #36]
  60:Src/encoder.c **** }
  63              		.loc 1 60 1 view .LVU7
  64 0004 80B2     		uxth	r0, r0
  65 0006 7047     		bx	lr
  66              	.L4:
  67              		.align	2
  68              	.L3:
  69 0008 00040040 		.word	1073742848
  70              		.cfi_endproc
  71              	.LFE134:
  73              		.section	.text.Encoder_ResetCount_Left,"ax",%progbits
  74              		.align	1
  75              		.global	Encoder_ResetCount_Left
  76              		.syntax unified
  77              		.thumb
  78              		.thumb_func
  79              		.fpu fpv4-sp-d16
  81              	Encoder_ResetCount_Left:
  82              	.LFB136:
  61:Src/encoder.c **** 
  62:Src/encoder.c **** /* ---------------------------------------------------------------
  63:Src/encoder.c **** 	ä½ç›¸ä¿‚æ•°ãƒ¢ãƒ¼ãƒ‰ã®ã‚¿ã‚¤ãƒžãƒ¼ã‚’é–‹å§‹ã—ã€ä½ç›¸ã‚«ã‚¦ãƒ³ãƒˆã‚’åˆæœŸåŒ–ã™ã‚‹é–¢æ•°
  64:Src/encoder.c **** --------------------------------------------------------------- */
  65:Src/encoder.c **** void Encoder_Initialize( void )
  66:Src/encoder.c **** {
  67:Src/encoder.c **** 	HAL_TIM_Encoder_Start( &htim2, TIM_CHANNEL_ALL );
  68:Src/encoder.c **** 	HAL_TIM_Encoder_Start( &htim3, TIM_CHANNEL_ALL );
  69:Src/encoder.c **** 	Encoder_ResetCount_Left();
  70:Src/encoder.c **** 	Encoder_ResetCount_Right();
  71:Src/encoder.c **** }
  72:Src/encoder.c **** 
  73:Src/encoder.c **** /* ---------------------------------------------------------------
  74:Src/encoder.c **** 	å·¦ã‚¿ã‚¤ãƒ¤ã®ä½ç›¸ä¿‚æ•°ã‚«ã‚¦ãƒ³ãƒˆã‚’åˆæœŸåŒ–ã™ã‚‹é–¢æ•°
  75:Src/encoder.c **** --------------------------------------------------------------- */
  76:Src/encoder.c **** void Encoder_ResetCount_Left( void )
  77:Src/encoder.c **** {
  83              		.loc 1 77 1 is_stmt 1 view -0
  84              		.cfi_startproc
  85              		@ args = 0, pretend = 0, frame = 0
  86              		@ frame_needed = 0, uses_anonymous_args = 0
  87              		@ link register save eliminated.
  78:Src/encoder.c **** 	ENC_CNT_L = ENC_ZERO;
  88              		.loc 1 78 2 view .LVU9
  89              		.loc 1 78 12 is_stmt 0 view .LVU10
  90 0000 024B     		ldr	r3, .L6
  91 0002 47F6FE72 		movw	r2, #32766
  92 0006 5A62     		str	r2, [r3, #36]
  79:Src/encoder.c **** }
  93              		.loc 1 79 1 view .LVU11
  94 0008 7047     		bx	lr
  95              	.L7:
  96 000a 00BF     		.align	2
  97              	.L6:
ARM GAS  C:\Temp\ccuaF7U4.s 			page 4


  98 000c 00040040 		.word	1073742848
  99              		.cfi_endproc
 100              	.LFE136:
 102              		.section	.text.Encoder_ResetCount_Right,"ax",%progbits
 103              		.align	1
 104              		.global	Encoder_ResetCount_Right
 105              		.syntax unified
 106              		.thumb
 107              		.thumb_func
 108              		.fpu fpv4-sp-d16
 110              	Encoder_ResetCount_Right:
 111              	.LFB137:
  80:Src/encoder.c **** 
  81:Src/encoder.c **** /* ---------------------------------------------------------------
  82:Src/encoder.c **** 	å³ã‚¿ã‚¤ãƒ¤ã®ä½ç›¸ä¿‚æ•°ã‚«ã‚¦ãƒ³ãƒˆã‚’åˆæœŸåŒ–ã™ã‚‹é–¢æ•°
  83:Src/encoder.c **** --------------------------------------------------------------- */
  84:Src/encoder.c **** void Encoder_ResetCount_Right( void )
  85:Src/encoder.c **** {
 112              		.loc 1 85 1 is_stmt 1 view -0
 113              		.cfi_startproc
 114              		@ args = 0, pretend = 0, frame = 0
 115              		@ frame_needed = 0, uses_anonymous_args = 0
 116              		@ link register save eliminated.
  86:Src/encoder.c **** 	ENC_CNT_R = ENC_ZERO;
 117              		.loc 1 86 2 view .LVU13
 118              		.loc 1 86 12 is_stmt 0 view .LVU14
 119 0000 4FF08043 		mov	r3, #1073741824
 120 0004 47F6FE72 		movw	r2, #32766
 121 0008 5A62     		str	r2, [r3, #36]
  87:Src/encoder.c **** }
 122              		.loc 1 87 1 view .LVU15
 123 000a 7047     		bx	lr
 124              		.cfi_endproc
 125              	.LFE137:
 127              		.section	.text.Encoder_Initialize,"ax",%progbits
 128              		.align	1
 129              		.global	Encoder_Initialize
 130              		.syntax unified
 131              		.thumb
 132              		.thumb_func
 133              		.fpu fpv4-sp-d16
 135              	Encoder_Initialize:
 136              	.LFB135:
  66:Src/encoder.c **** 	HAL_TIM_Encoder_Start( &htim2, TIM_CHANNEL_ALL );
 137              		.loc 1 66 1 is_stmt 1 view -0
 138              		.cfi_startproc
 139              		@ args = 0, pretend = 0, frame = 0
 140              		@ frame_needed = 0, uses_anonymous_args = 0
 141 0000 08B5     		push	{r3, lr}
 142              	.LCFI0:
 143              		.cfi_def_cfa_offset 8
 144              		.cfi_offset 3, -8
 145              		.cfi_offset 14, -4
  67:Src/encoder.c **** 	HAL_TIM_Encoder_Start( &htim3, TIM_CHANNEL_ALL );
 146              		.loc 1 67 2 view .LVU17
 147 0002 3C21     		movs	r1, #60
 148 0004 0548     		ldr	r0, .L11
ARM GAS  C:\Temp\ccuaF7U4.s 			page 5


 149 0006 FFF7FEFF 		bl	HAL_TIM_Encoder_Start
 150              	.LVL0:
  68:Src/encoder.c **** 	Encoder_ResetCount_Left();
 151              		.loc 1 68 2 view .LVU18
 152 000a 3C21     		movs	r1, #60
 153 000c 0448     		ldr	r0, .L11+4
 154 000e FFF7FEFF 		bl	HAL_TIM_Encoder_Start
 155              	.LVL1:
  69:Src/encoder.c **** 	Encoder_ResetCount_Right();
 156              		.loc 1 69 2 view .LVU19
 157 0012 FFF7FEFF 		bl	Encoder_ResetCount_Left
 158              	.LVL2:
  70:Src/encoder.c **** }
 159              		.loc 1 70 2 view .LVU20
 160 0016 FFF7FEFF 		bl	Encoder_ResetCount_Right
 161              	.LVL3:
  71:Src/encoder.c **** 
 162              		.loc 1 71 1 is_stmt 0 view .LVU21
 163 001a 08BD     		pop	{r3, pc}
 164              	.L12:
 165              		.align	2
 166              	.L11:
 167 001c 00000000 		.word	htim2
 168 0020 00000000 		.word	htim3
 169              		.cfi_endproc
 170              	.LFE135:
 172              		.section	.text.Encoder_GetAngle_Left,"ax",%progbits
 173              		.align	1
 174              		.global	Encoder_GetAngle_Left
 175              		.syntax unified
 176              		.thumb
 177              		.thumb_func
 178              		.fpu fpv4-sp-d16
 180              	Encoder_GetAngle_Left:
 181              	.LFB138:
  88:Src/encoder.c **** 
  89:Src/encoder.c **** /* ---------------------------------------------------------------
  90:Src/encoder.c **** 	å·¦ã‚¿ã‚¤ãƒ¤ã®è§’åº¦ã‚’å–å¾—ã™ã‚‹é–¢æ•°[rad]
  91:Src/encoder.c **** --------------------------------------------------------------- */
  92:Src/encoder.c **** float Encoder_GetAngle_Left( void )
  93:Src/encoder.c **** {
 182              		.loc 1 93 1 is_stmt 1 view -0
 183              		.cfi_startproc
 184              		@ args = 0, pretend = 0, frame = 0
 185              		@ frame_needed = 0, uses_anonymous_args = 0
 186              		@ link register save eliminated.
  94:Src/encoder.c **** 	return(2 * PI * (float)( (int32_t)ENC_CNT_L - (int32_t)ENC_ZERO ) / (float)ENC_RESOLUTION);
 187              		.loc 1 94 2 view .LVU23
 188              		.loc 1 94 36 is_stmt 0 view .LVU24
 189 0000 084B     		ldr	r3, .L14
 190 0002 5B6A     		ldr	r3, [r3, #36]
 191              		.loc 1 94 46 view .LVU25
 192 0004 A3F5FF43 		sub	r3, r3, #32640
 193 0008 7E3B     		subs	r3, r3, #126
 194              		.loc 1 94 18 view .LVU26
 195 000a 07EE903A 		vmov	s15, r3	@ int
 196 000e F8EEE77A 		vcvt.f32.s32	s15, s15
ARM GAS  C:\Temp\ccuaF7U4.s 			page 6


 197              		.loc 1 94 16 view .LVU27
 198 0012 9FED050A 		vldr.32	s0, .L14+4
 199 0016 67EE807A 		vmul.f32	s15, s15, s0
  95:Src/encoder.c **** }
 200              		.loc 1 95 1 view .LVU28
 201 001a 9FED040A 		vldr.32	s0, .L14+8
 202 001e 87EE800A 		vdiv.f32	s0, s15, s0
 203 0022 7047     		bx	lr
 204              	.L15:
 205              		.align	2
 206              	.L14:
 207 0024 00040040 		.word	1073742848
 208 0028 DA0FC940 		.word	1086918618
 209 002c 00C07F44 		.word	1149222912
 210              		.cfi_endproc
 211              	.LFE138:
 213              		.section	.text.Encoder_GetAngle_Right,"ax",%progbits
 214              		.align	1
 215              		.global	Encoder_GetAngle_Right
 216              		.syntax unified
 217              		.thumb
 218              		.thumb_func
 219              		.fpu fpv4-sp-d16
 221              	Encoder_GetAngle_Right:
 222              	.LFB139:
  96:Src/encoder.c **** 
  97:Src/encoder.c **** /* ---------------------------------------------------------------
  98:Src/encoder.c **** 	å³ã‚¿ã‚¤ãƒ¤ã®è§’åº¦ã‚’å–å¾—ã™ã‚‹é–¢æ•°[rad]
  99:Src/encoder.c **** --------------------------------------------------------------- */
 100:Src/encoder.c **** float Encoder_GetAngle_Right( void )
 101:Src/encoder.c **** {
 223              		.loc 1 101 1 is_stmt 1 view -0
 224              		.cfi_startproc
 225              		@ args = 0, pretend = 0, frame = 0
 226              		@ frame_needed = 0, uses_anonymous_args = 0
 227              		@ link register save eliminated.
 102:Src/encoder.c **** 	return(2 * PI * (float)( (int32_t)ENC_ZERO - (int32_t)ENC_CNT_R ) / (float)ENC_RESOLUTION);
 228              		.loc 1 102 2 view .LVU30
 229              		.loc 1 102 56 is_stmt 0 view .LVU31
 230 0000 4FF08043 		mov	r3, #1073741824
 231 0004 5B6A     		ldr	r3, [r3, #36]
 232              		.loc 1 102 45 view .LVU32
 233 0006 C3F5FF43 		rsb	r3, r3, #32640
 234 000a 7E33     		adds	r3, r3, #126
 235              		.loc 1 102 18 view .LVU33
 236 000c 07EE903A 		vmov	s15, r3	@ int
 237 0010 F8EEE77A 		vcvt.f32.s32	s15, s15
 238              		.loc 1 102 16 view .LVU34
 239 0014 9FED040A 		vldr.32	s0, .L17
 240 0018 67EE807A 		vmul.f32	s15, s15, s0
 103:Src/encoder.c **** }
 241              		.loc 1 103 1 view .LVU35
 242 001c 9FED030A 		vldr.32	s0, .L17+4
 243 0020 87EE800A 		vdiv.f32	s0, s15, s0
 244 0024 7047     		bx	lr
 245              	.L18:
 246 0026 00BF     		.align	2
ARM GAS  C:\Temp\ccuaF7U4.s 			page 7


 247              	.L17:
 248 0028 DA0FC940 		.word	1086918618
 249 002c 00C07F44 		.word	1149222912
 250              		.cfi_endproc
 251              	.LFE139:
 253              		.section	.text.Get_speed,"ax",%progbits
 254              		.align	1
 255              		.global	Get_speed
 256              		.syntax unified
 257              		.thumb
 258              		.thumb_func
 259              		.fpu fpv4-sp-d16
 261              	Get_speed:
 262              	.LFB140:
 104:Src/encoder.c **** 
 105:Src/encoder.c **** 
 106:Src/encoder.c **** /* ---------------------------------------------------------------
 107:Src/encoder.c ****  	 é€Ÿåº¦ã‚’ç®—å‡ºã™ã‚‹é–¢æ•°(1msã‚¿ã‚¹ã‚¯)[m/s]
 108:Src/encoder.c ****  -------------------------------------------------------------- */
 109:Src/encoder.c **** void Get_speed(void)
 110:Src/encoder.c **** {
 263              		.loc 1 110 1 is_stmt 1 view -0
 264              		.cfi_startproc
 265              		@ args = 0, pretend = 0, frame = 0
 266              		@ frame_needed = 0, uses_anonymous_args = 0
 267              		@ link register save eliminated.
 111:Src/encoder.c **** 	uint16_t	uss_delta_cnt_r;	//mã€€å³ã‚¿ã‚¤ãƒ¤ã®ã‚«ã‚¦ãƒ³ãƒˆ[/ms](è¨ˆç®—ç”¨)
 268              		.loc 1 111 2 view .LVU37
 112:Src/encoder.c **** 	uint16_t	uss_delta_cnt_l;	//mã€€å·¦ã‚¿ã‚¤ãƒ¤ã®ã‚«ã‚¦ãƒ³ãƒˆ[/ms](è¨ˆç®—ç”¨)
 269              		.loc 1 112 2 view .LVU38
 113:Src/encoder.c **** 	int32_t		sl_delta_cnt_r;	//mã€€å³ã‚¿ã‚¤ãƒ¤ã®ã‚«ã‚¦ãƒ³ãƒˆ [/ms]
 270              		.loc 1 113 2 view .LVU39
 114:Src/encoder.c **** 	int32_t		sl_delta_cnt_l;	//mã€€å·¦ã‚¿ã‚¤ãƒ¤ã®ã‚«ã‚¦ãƒ³ãƒˆ [/ms]
 271              		.loc 1 114 2 view .LVU40
 115:Src/encoder.c **** 	float 		delta_angle_tire_r;	//mã€€å³ã‚¿ã‚¤ãƒ¤ã®è§’é€Ÿåº¦	[rad/s]
 272              		.loc 1 115 2 view .LVU41
 116:Src/encoder.c **** 	float		delta_angle_tire_l;	//m å·¦ã‚¿ã‚¤ãƒ¤ã®è§’é€Ÿåº¦	[rad/s]
 273              		.loc 1 116 2 view .LVU42
 117:Src/encoder.c **** 
 118:Src/encoder.c **** 	enc_cnt_r_new = ENC_CNT_R;
 274              		.loc 1 118 2 view .LVU43
 275              		.loc 1 118 18 is_stmt 0 view .LVU44
 276 0000 4FF08043 		mov	r3, #1073741824
 277 0004 596A     		ldr	r1, [r3, #36]
 278              		.loc 1 118 16 view .LVU45
 279 0006 89B2     		uxth	r1, r1
 119:Src/encoder.c **** 	enc_cnt_l_new = ENC_CNT_L;
 280              		.loc 1 119 2 is_stmt 1 view .LVU46
 281              		.loc 1 119 18 is_stmt 0 view .LVU47
 282 0008 544A     		ldr	r2, .L42
 283 000a 526A     		ldr	r2, [r2, #36]
 284              		.loc 1 119 16 view .LVU48
 285 000c 92B2     		uxth	r2, r2
 120:Src/encoder.c **** 
 121:Src/encoder.c **** 	if((ENC_CNT_SR_R & 0x0001) == 0x0000)//overflowãŒãªã„ã¨ã(UIF=0)
 286              		.loc 1 121 2 is_stmt 1 view .LVU49
 287              		.loc 1 121 6 is_stmt 0 view .LVU50
ARM GAS  C:\Temp\ccuaF7U4.s 			page 8


 288 000e 1B69     		ldr	r3, [r3, #16]
 289              		.loc 1 121 4 view .LVU51
 290 0010 13F0010F 		tst	r3, #1
 291 0014 63D1     		bne	.L20
 122:Src/encoder.c **** 	{
 123:Src/encoder.c **** 		sl_delta_cnt_r = (int32_t)enc_cnt_r_new - (int32_t)enc_cnt_r_old;	//mã€€å³ã‚¿ã‚¤ãƒ¤ã®ã‚«ã‚¦ãƒ³ã
 292              		.loc 1 123 3 is_stmt 1 view .LVU52
 293              		.loc 1 123 45 is_stmt 0 view .LVU53
 294 0016 524B     		ldr	r3, .L42+4
 295 0018 1B88     		ldrh	r3, [r3]
 296              		.loc 1 123 18 view .LVU54
 297 001a CB1A     		subs	r3, r1, r3
 298 001c 06EE903A 		vmov	s13, r3	@ int
 299              	.LVL4:
 300              	.L21:
 124:Src/encoder.c **** 	}
 125:Src/encoder.c **** 	else//overflowã€€or underflowãŒã‚ã‚‹ã¨ã(UIF=1)
 126:Src/encoder.c **** 	{
 127:Src/encoder.c **** 		if(enc_cnt_r_new >= enc_cnt_r_old)//m é€†å›žè»¢æ™‚
 128:Src/encoder.c **** 		{
 129:Src/encoder.c **** 			uss_delta_cnt_r = enc_cnt_r_old	- enc_cnt_r_new;
 130:Src/encoder.c **** 			sl_delta_cnt_r = -1 * (int32_t)uss_delta_cnt_r;
 131:Src/encoder.c **** 		}
 132:Src/encoder.c **** 		else	//m æ­£å›žè»¢æ™‚
 133:Src/encoder.c **** 		{
 134:Src/encoder.c **** 			uss_delta_cnt_r = enc_cnt_r_new	- enc_cnt_r_old;
 135:Src/encoder.c **** 			sl_delta_cnt_r = 1 * (int32_t)uss_delta_cnt_r;
 136:Src/encoder.c **** 		}
 137:Src/encoder.c **** 
 138:Src/encoder.c **** 		ENC_CNT_SR_R = ENC_CNT_SR_R & ~(0x0001); //UIFã‚¯ãƒªã‚¢
 139:Src/encoder.c **** 
 140:Src/encoder.c **** 	}
 141:Src/encoder.c **** 
 142:Src/encoder.c **** 
 143:Src/encoder.c **** 	if((ENC_CNT_SR_L & 0x0001) == 0x0000)//overflowãŒãªã„ã¨ã(UIF=0)
 301              		.loc 1 143 2 is_stmt 1 view .LVU55
 302              		.loc 1 143 6 is_stmt 0 view .LVU56
 303 0020 4E4B     		ldr	r3, .L42
 304 0022 1B69     		ldr	r3, [r3, #16]
 305              		.loc 1 143 4 view .LVU57
 306 0024 13F0010F 		tst	r3, #1
 307 0028 6ED1     		bne	.L24
 144:Src/encoder.c **** 	{
 145:Src/encoder.c **** 		sl_delta_cnt_l = (int32_t)enc_cnt_l_new - (int32_t)enc_cnt_l_old;	//mã€€å·¦ã‚¿ã‚¤ãƒ¤ã®ã‚«ã‚¦ãƒ³ã
 308              		.loc 1 145 3 is_stmt 1 view .LVU58
 309              		.loc 1 145 45 is_stmt 0 view .LVU59
 310 002a 4E4B     		ldr	r3, .L42+8
 311 002c 1B88     		ldrh	r3, [r3]
 312              		.loc 1 145 18 view .LVU60
 313 002e D31A     		subs	r3, r2, r3
 314 0030 07EE103A 		vmov	s14, r3	@ int
 315              	.LVL5:
 316              	.L25:
 146:Src/encoder.c **** 	}
 147:Src/encoder.c **** 	else//overflowã€€or underflowãŒã‚ã‚‹ã¨ã(UIF=1)
 148:Src/encoder.c **** 	{
 149:Src/encoder.c **** 		if(enc_cnt_l_new >= enc_cnt_l_old)//m é€†å›žè»¢æ™‚
ARM GAS  C:\Temp\ccuaF7U4.s 			page 9


 150:Src/encoder.c **** 		{
 151:Src/encoder.c **** 			uss_delta_cnt_l = enc_cnt_l_old	- enc_cnt_l_new;
 152:Src/encoder.c **** 			sl_delta_cnt_l = -1 * (int32_t)uss_delta_cnt_l;
 153:Src/encoder.c **** 		}
 154:Src/encoder.c **** 		else	//m æ­£å›žè»¢æ™‚
 155:Src/encoder.c **** 		{
 156:Src/encoder.c **** 			uss_delta_cnt_l = enc_cnt_l_new	- enc_cnt_l_old;
 157:Src/encoder.c **** 			sl_delta_cnt_l = 1 * (int32_t)uss_delta_cnt_l;
 158:Src/encoder.c **** 		}
 159:Src/encoder.c **** 
 160:Src/encoder.c **** 		ENC_CNT_SR_L = ENC_CNT_SR_L & ~(0x0001); //UIFã‚¯ãƒªã‚¢
 161:Src/encoder.c **** 
 162:Src/encoder.c **** 	}
 163:Src/encoder.c **** 
 164:Src/encoder.c **** 
 165:Src/encoder.c **** 
 166:Src/encoder.c **** 	/*m å„ã‚¿ã‚¤ãƒ¤ã®è§’é€Ÿåº¦ç®—å‡º */
 167:Src/encoder.c **** 	delta_angle_tire_r = -1 * 1000 * 2 * PI * (float)sl_delta_cnt_r / (float)ENC_RESOLUTION;//m å³ã‚¿
 317              		.loc 1 167 2 is_stmt 1 view .LVU61
 318              		.loc 1 167 44 is_stmt 0 view .LVU62
 319 0034 F8EEE66A 		vcvt.f32.s32	s13, s13
 320              	.LVL6:
 321              		.loc 1 167 42 view .LVU63
 322 0038 DFED4B7A 		vldr.32	s15, .L42+12
 323 003c 66EEA76A 		vmul.f32	s13, s13, s15
 324              		.loc 1 167 21 view .LVU64
 325 0040 9FED4A6A 		vldr.32	s12, .L42+16
 326 0044 C6EE867A 		vdiv.f32	s15, s13, s12
 327              	.LVL7:
 168:Src/encoder.c **** 	delta_angle_tire_l =  1 * 1000 * 2 * PI * (float)sl_delta_cnt_l / (float)ENC_RESOLUTION;//m å·¦ã‚¿
 328              		.loc 1 168 2 is_stmt 1 view .LVU65
 329              		.loc 1 168 44 is_stmt 0 view .LVU66
 330 0048 B8EEC77A 		vcvt.f32.s32	s14, s14
 331              	.LVL8:
 332              		.loc 1 168 42 view .LVU67
 333 004c DFED486A 		vldr.32	s13, .L42+20
 334 0050 27EE267A 		vmul.f32	s14, s14, s13
 335              		.loc 1 168 21 view .LVU68
 336 0054 C7EE066A 		vdiv.f32	s13, s14, s12
 337              	.LVL9:
 169:Src/encoder.c **** 
 170:Src/encoder.c **** 	/*m å„ãƒ¢ãƒ¼ã‚¿ã®è§’é€Ÿåº¦ç®—å‡º*/
 171:Src/encoder.c **** 	delta_angle_motor_r = gear_rate * delta_angle_tire_r;
 338              		.loc 1 171 2 is_stmt 1 view .LVU69
 339              		.loc 1 171 34 is_stmt 0 view .LVU70
 340 0058 9FED467A 		vldr.32	s14, .L42+24
 341 005c 27EE876A 		vmul.f32	s12, s15, s14
 342              		.loc 1 171 22 view .LVU71
 343 0060 454B     		ldr	r3, .L42+28
 344 0062 83ED006A 		vstr.32	s12, [r3]
 172:Src/encoder.c **** 	delta_angle_motor_l = gear_rate * delta_angle_tire_l;
 345              		.loc 1 172 2 is_stmt 1 view .LVU72
 346              		.loc 1 172 34 is_stmt 0 view .LVU73
 347 0066 26EE877A 		vmul.f32	s14, s13, s14
 348              		.loc 1 172 22 view .LVU74
 349 006a 444B     		ldr	r3, .L42+32
 350 006c 83ED007A 		vstr.32	s14, [r3]
ARM GAS  C:\Temp\ccuaF7U4.s 			page 10


 173:Src/encoder.c **** 
 174:Src/encoder.c **** 	/*m å„ã‚¿ã‚¤ãƒ¤ã®è§’é€Ÿåº¦ã‹ã‚‰å„ã‚¿ã‚¤ãƒ¤ã®é€Ÿåº¦ç®—å‡ºã€€*/
 175:Src/encoder.c **** 	speed_r = Tire_diameter * 0.5 * delta_angle_tire_r;	//m å³ã‚¿ã‚¤ãƒ¤é€Ÿåº¦[ m/s]
 351              		.loc 1 175 2 is_stmt 1 view .LVU75
 352              		.loc 1 175 10 is_stmt 0 view .LVU76
 353 0070 9FED437A 		vldr.32	s14, .L42+36
 354 0074 67EE877A 		vmul.f32	s15, s15, s14
 355              	.LVL10:
 356              		.loc 1 175 10 view .LVU77
 357 0078 424B     		ldr	r3, .L42+40
 358 007a C3ED007A 		vstr.32	s15, [r3]
 176:Src/encoder.c **** 	speed_l = Tire_diameter * 0.5 * delta_angle_tire_l;	//m å·¦ã‚¿ã‚¤ãƒ¤é€Ÿåº¦[ m/s]
 359              		.loc 1 176 2 is_stmt 1 view .LVU78
 360              		.loc 1 176 10 is_stmt 0 view .LVU79
 361 007e 26EE877A 		vmul.f32	s14, s13, s14
 362 0082 414B     		ldr	r3, .L42+44
 363 0084 83ED007A 		vstr.32	s14, [r3]
 177:Src/encoder.c **** 
 178:Src/encoder.c **** 
 179:Src/encoder.c **** 
 180:Src/encoder.c **** 	if(speed_r > speed_r_max)
 364              		.loc 1 180 2 is_stmt 1 view .LVU80
 365              		.loc 1 180 13 is_stmt 0 view .LVU81
 366 0088 404B     		ldr	r3, .L42+48
 367 008a D3ED006A 		vldr.32	s13, [r3]
 368              	.LVL11:
 369              		.loc 1 180 4 view .LVU82
 370 008e F4EEE67A 		vcmpe.f32	s15, s13
 371 0092 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 372 0096 4BDD     		ble	.L40
 181:Src/encoder.c **** 	{
 182:Src/encoder.c **** 		speed_r_max = speed_r;
 373              		.loc 1 182 3 is_stmt 1 view .LVU83
 374              		.loc 1 182 15 is_stmt 0 view .LVU84
 375 0098 C3ED007A 		vstr.32	s15, [r3]
 376              	.L30:
 183:Src/encoder.c **** 	}
 184:Src/encoder.c **** 	else if(speed_r < speed_r_min)
 185:Src/encoder.c **** 	{
 186:Src/encoder.c **** 		speed_r_min = speed_r;
 187:Src/encoder.c **** 	}
 188:Src/encoder.c **** 
 189:Src/encoder.c **** 	if(speed_l > speed_l_max)
 377              		.loc 1 189 2 is_stmt 1 view .LVU85
 378              		.loc 1 189 13 is_stmt 0 view .LVU86
 379 009c 3C4B     		ldr	r3, .L42+52
 380 009e D3ED006A 		vldr.32	s13, [r3]
 381              		.loc 1 189 4 view .LVU87
 382 00a2 B4EEE67A 		vcmpe.f32	s14, s13
 383 00a6 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 384 00aa 4CDD     		ble	.L41
 190:Src/encoder.c **** 	{
 191:Src/encoder.c **** 		speed_l_max = speed_l;
 385              		.loc 1 191 3 is_stmt 1 view .LVU88
 386              		.loc 1 191 15 is_stmt 0 view .LVU89
 387 00ac 83ED007A 		vstr.32	s14, [r3]
 388              	.L34:
ARM GAS  C:\Temp\ccuaF7U4.s 			page 11


 192:Src/encoder.c **** 	}
 193:Src/encoder.c **** 	else if(speed_l < speed_l_min)
 194:Src/encoder.c **** 	{
 195:Src/encoder.c **** 		speed_l_min = speed_l;
 196:Src/encoder.c **** 	}
 197:Src/encoder.c **** 
 198:Src/encoder.c **** 	speed_m = (speed_r + speed_l)/2;					//m æœ¬ä½“é€Ÿåº¦ï¼ˆå³ã¨å·¦ã®å¹³å‡å€¤ï¼‰  [m/s]
 389              		.loc 1 198 2 is_stmt 1 view .LVU90
 390              		.loc 1 198 21 is_stmt 0 view .LVU91
 391 00b0 77EE876A 		vadd.f32	s13, s15, s14
 392              		.loc 1 198 31 view .LVU92
 393 00b4 B6EE006A 		vmov.f32	s12, #5.0e-1
 394 00b8 66EE866A 		vmul.f32	s13, s13, s12
 395              		.loc 1 198 10 view .LVU93
 396 00bc 354B     		ldr	r3, .L42+56
 397 00be C3ED006A 		vstr.32	s13, [r3]
 199:Src/encoder.c **** 	speed_rad = (-speed_l + speed_r) / chassis_width;	//m ã‚¨ãƒ³ã‚³ãƒ¼ãƒ€å€¤ã‹ã‚‰ç®—å‡ºã•ã‚Œã‚‹è§’é€
 398              		.loc 1 199 2 is_stmt 1 view .LVU94
 399              		.loc 1 199 24 is_stmt 0 view .LVU95
 400 00c2 77EEC77A 		vsub.f32	s15, s15, s14
 401              		.loc 1 199 35 view .LVU96
 402 00c6 DFED346A 		vldr.32	s13, .L42+60
 403 00ca 87EEA67A 		vdiv.f32	s14, s15, s13
 404              		.loc 1 199 12 view .LVU97
 405 00ce 334B     		ldr	r3, .L42+64
 406 00d0 83ED007A 		vstr.32	s14, [r3]
 200:Src/encoder.c **** 
 201:Src/encoder.c **** 
 202:Src/encoder.c **** 	enc_cnt_r_old	=	enc_cnt_r_new;	//m å³ã‚¿ã‚¤ãƒ¤ã®ã‚«ã‚¦ãƒ³ãƒˆå€¤ã‚’æ›´æ–°
 407              		.loc 1 202 2 is_stmt 1 view .LVU98
 408              		.loc 1 202 16 is_stmt 0 view .LVU99
 409 00d4 224B     		ldr	r3, .L42+4
 410 00d6 1980     		strh	r1, [r3]	@ movhi
 203:Src/encoder.c **** 	enc_cnt_l_old	=	enc_cnt_l_new;	//m å·¦ã‚¿ã‚¤ãƒ¤ã®ã‚«ã‚¦ãƒ³ãƒˆå€¤ã‚’æ›´æ–°
 411              		.loc 1 203 2 is_stmt 1 view .LVU100
 412              		.loc 1 203 16 is_stmt 0 view .LVU101
 413 00d8 224B     		ldr	r3, .L42+8
 414 00da 1A80     		strh	r2, [r3]	@ movhi
 204:Src/encoder.c **** 
 205:Src/encoder.c **** }
 415              		.loc 1 205 1 view .LVU102
 416 00dc 7047     		bx	lr
 417              	.L20:
 127:Src/encoder.c **** 		{
 418              		.loc 1 127 3 is_stmt 1 view .LVU103
 127:Src/encoder.c **** 		{
 419              		.loc 1 127 20 is_stmt 0 view .LVU104
 420 00de 204B     		ldr	r3, .L42+4
 421 00e0 1B88     		ldrh	r3, [r3]
 127:Src/encoder.c **** 		{
 422              		.loc 1 127 5 view .LVU105
 423 00e2 9942     		cmp	r1, r3
 424 00e4 0BD3     		bcc	.L22
 129:Src/encoder.c **** 			sl_delta_cnt_r = -1 * (int32_t)uss_delta_cnt_r;
 425              		.loc 1 129 4 is_stmt 1 view .LVU106
 129:Src/encoder.c **** 			sl_delta_cnt_r = -1 * (int32_t)uss_delta_cnt_r;
 426              		.loc 1 129 20 is_stmt 0 view .LVU107
ARM GAS  C:\Temp\ccuaF7U4.s 			page 12


 427 00e6 5B1A     		subs	r3, r3, r1
 428 00e8 9BB2     		uxth	r3, r3
 429              	.LVL12:
 130:Src/encoder.c **** 		}
 430              		.loc 1 130 4 is_stmt 1 view .LVU108
 130:Src/encoder.c **** 		}
 431              		.loc 1 130 19 is_stmt 0 view .LVU109
 432 00ea 5B42     		rsbs	r3, r3, #0
 433              	.LVL13:
 130:Src/encoder.c **** 		}
 434              		.loc 1 130 19 view .LVU110
 435 00ec 06EE903A 		vmov	s13, r3	@ int
 436              	.LVL14:
 437              	.L23:
 138:Src/encoder.c **** 
 438              		.loc 1 138 3 is_stmt 1 view .LVU111
 138:Src/encoder.c **** 
 439              		.loc 1 138 18 is_stmt 0 view .LVU112
 440 00f0 4FF08040 		mov	r0, #1073741824
 441 00f4 0369     		ldr	r3, [r0, #16]
 442              	.LVL15:
 138:Src/encoder.c **** 
 443              		.loc 1 138 31 view .LVU113
 444 00f6 23F00103 		bic	r3, r3, #1
 138:Src/encoder.c **** 
 445              		.loc 1 138 16 view .LVU114
 446 00fa 0361     		str	r3, [r0, #16]
 447 00fc 90E7     		b	.L21
 448              	.LVL16:
 449              	.L22:
 134:Src/encoder.c **** 			sl_delta_cnt_r = 1 * (int32_t)uss_delta_cnt_r;
 450              		.loc 1 134 4 is_stmt 1 view .LVU115
 134:Src/encoder.c **** 			sl_delta_cnt_r = 1 * (int32_t)uss_delta_cnt_r;
 451              		.loc 1 134 20 is_stmt 0 view .LVU116
 452 00fe CB1A     		subs	r3, r1, r3
 453 0100 9BB2     		uxth	r3, r3
 454 0102 06EE903A 		vmov	s13, r3	@ int
 135:Src/encoder.c **** 		}
 455              		.loc 1 135 4 is_stmt 1 view .LVU117
 456              	.LVL17:
 135:Src/encoder.c **** 		}
 457              		.loc 1 135 4 is_stmt 0 view .LVU118
 458 0106 F3E7     		b	.L23
 459              	.LVL18:
 460              	.L24:
 149:Src/encoder.c **** 		{
 461              		.loc 1 149 3 is_stmt 1 view .LVU119
 149:Src/encoder.c **** 		{
 462              		.loc 1 149 20 is_stmt 0 view .LVU120
 463 0108 164B     		ldr	r3, .L42+8
 464 010a 1B88     		ldrh	r3, [r3]
 149:Src/encoder.c **** 		{
 465              		.loc 1 149 5 view .LVU121
 466 010c 9A42     		cmp	r2, r3
 467 010e 0AD3     		bcc	.L26
 151:Src/encoder.c **** 			sl_delta_cnt_l = -1 * (int32_t)uss_delta_cnt_l;
 468              		.loc 1 151 4 is_stmt 1 view .LVU122
ARM GAS  C:\Temp\ccuaF7U4.s 			page 13


 151:Src/encoder.c **** 			sl_delta_cnt_l = -1 * (int32_t)uss_delta_cnt_l;
 469              		.loc 1 151 20 is_stmt 0 view .LVU123
 470 0110 9B1A     		subs	r3, r3, r2
 471 0112 9BB2     		uxth	r3, r3
 472              	.LVL19:
 152:Src/encoder.c **** 		}
 473              		.loc 1 152 4 is_stmt 1 view .LVU124
 152:Src/encoder.c **** 		}
 474              		.loc 1 152 19 is_stmt 0 view .LVU125
 475 0114 5B42     		rsbs	r3, r3, #0
 476              	.LVL20:
 152:Src/encoder.c **** 		}
 477              		.loc 1 152 19 view .LVU126
 478 0116 07EE103A 		vmov	s14, r3	@ int
 479              	.LVL21:
 480              	.L27:
 160:Src/encoder.c **** 
 481              		.loc 1 160 3 is_stmt 1 view .LVU127
 160:Src/encoder.c **** 
 482              		.loc 1 160 18 is_stmt 0 view .LVU128
 483 011a 1048     		ldr	r0, .L42
 484 011c 0369     		ldr	r3, [r0, #16]
 485              	.LVL22:
 160:Src/encoder.c **** 
 486              		.loc 1 160 31 view .LVU129
 487 011e 23F00103 		bic	r3, r3, #1
 160:Src/encoder.c **** 
 488              		.loc 1 160 16 view .LVU130
 489 0122 0361     		str	r3, [r0, #16]
 490 0124 86E7     		b	.L25
 491              	.LVL23:
 492              	.L26:
 156:Src/encoder.c **** 			sl_delta_cnt_l = 1 * (int32_t)uss_delta_cnt_l;
 493              		.loc 1 156 4 is_stmt 1 view .LVU131
 156:Src/encoder.c **** 			sl_delta_cnt_l = 1 * (int32_t)uss_delta_cnt_l;
 494              		.loc 1 156 20 is_stmt 0 view .LVU132
 495 0126 D31A     		subs	r3, r2, r3
 496 0128 9BB2     		uxth	r3, r3
 497 012a 07EE103A 		vmov	s14, r3	@ int
 157:Src/encoder.c **** 		}
 498              		.loc 1 157 4 is_stmt 1 view .LVU133
 499              	.LVL24:
 157:Src/encoder.c **** 		}
 500              		.loc 1 157 4 is_stmt 0 view .LVU134
 501 012e F4E7     		b	.L27
 502              	.LVL25:
 503              	.L40:
 184:Src/encoder.c **** 	{
 504              		.loc 1 184 7 is_stmt 1 view .LVU135
 184:Src/encoder.c **** 	{
 505              		.loc 1 184 18 is_stmt 0 view .LVU136
 506 0130 1B4B     		ldr	r3, .L42+68
 507 0132 D3ED006A 		vldr.32	s13, [r3]
 184:Src/encoder.c **** 	{
 508              		.loc 1 184 9 view .LVU137
 509 0136 F4EEE67A 		vcmpe.f32	s15, s13
 510 013a F1EE10FA 		vmrs	APSR_nzcv, FPSCR
ARM GAS  C:\Temp\ccuaF7U4.s 			page 14


 511 013e ADD5     		bpl	.L30
 186:Src/encoder.c **** 	}
 512              		.loc 1 186 3 is_stmt 1 view .LVU138
 186:Src/encoder.c **** 	}
 513              		.loc 1 186 15 is_stmt 0 view .LVU139
 514 0140 C3ED007A 		vstr.32	s15, [r3]
 515 0144 AAE7     		b	.L30
 516              	.L41:
 193:Src/encoder.c **** 	{
 517              		.loc 1 193 7 is_stmt 1 view .LVU140
 193:Src/encoder.c **** 	{
 518              		.loc 1 193 18 is_stmt 0 view .LVU141
 519 0146 174B     		ldr	r3, .L42+72
 520 0148 D3ED006A 		vldr.32	s13, [r3]
 193:Src/encoder.c **** 	{
 521              		.loc 1 193 9 view .LVU142
 522 014c B4EEE67A 		vcmpe.f32	s14, s13
 523 0150 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 524 0154 ACD5     		bpl	.L34
 195:Src/encoder.c **** 	}
 525              		.loc 1 195 3 is_stmt 1 view .LVU143
 195:Src/encoder.c **** 	}
 526              		.loc 1 195 15 is_stmt 0 view .LVU144
 527 0156 83ED007A 		vstr.32	s14, [r3]
 528 015a A9E7     		b	.L34
 529              	.L43:
 530              		.align	2
 531              	.L42:
 532 015c 00040040 		.word	1073742848
 533 0160 00000000 		.word	.LANCHOR0
 534 0164 00000000 		.word	.LANCHOR1
 535 0168 7B59C4C5 		.word	-976987781
 536 016c 00C07F44 		.word	1149222912
 537 0170 7B59C445 		.word	1170495867
 538 0174 398E8340 		.word	1082363449
 539 0178 00000000 		.word	.LANCHOR2
 540 017c 00000000 		.word	.LANCHOR3
 541 0180 2F50D23B 		.word	1003638831
 542 0184 00000000 		.word	.LANCHOR4
 543 0188 00000000 		.word	.LANCHOR5
 544 018c 00000000 		.word	.LANCHOR6
 545 0190 00000000 		.word	.LANCHOR8
 546 0194 00000000 		.word	.LANCHOR10
 547 0198 F7AD163D 		.word	1024896503
 548 019c 00000000 		.word	.LANCHOR11
 549 01a0 00000000 		.word	.LANCHOR7
 550 01a4 00000000 		.word	.LANCHOR9
 551              		.cfi_endproc
 552              	.LFE140:
 554              		.global	__aeabi_f2d
 555              		.global	__aeabi_dmul
 556              		.global	__aeabi_dadd
 557              		.global	__aeabi_d2f
 558              		.section	.text.speed_m_average,"ax",%progbits
 559              		.align	1
 560              		.global	speed_m_average
 561              		.syntax unified
ARM GAS  C:\Temp\ccuaF7U4.s 			page 15


 562              		.thumb
 563              		.thumb_func
 564              		.fpu fpv4-sp-d16
 566              	speed_m_average:
 567              	.LFB141:
 206:Src/encoder.c **** 
 207:Src/encoder.c **** /* ---------------------------------------------------------------
 208:Src/encoder.c **** 	ä¸¦é€²æ–¹å‘ã®é€Ÿåº¦ã«ç§»å‹•å¹³å‡ã‚’ã‹ã‘ã€é…ã‚Œã‚’è£œå®Œã™ã‚‹é–¢æ•°(1msã‚¿ã‚¹ã‚¯)
 209:Src/encoder.c **** --------------------------------------------------------------- */
 210:Src/encoder.c **** void speed_m_average( void )
 211:Src/encoder.c **** {
 568              		.loc 1 211 1 is_stmt 1 view -0
 569              		.cfi_startproc
 570              		@ args = 0, pretend = 0, frame = 0
 571              		@ frame_needed = 0, uses_anonymous_args = 0
 572 0000 38B5     		push	{r3, r4, r5, lr}
 573              	.LCFI1:
 574              		.cfi_def_cfa_offset 16
 575              		.cfi_offset 3, -16
 576              		.cfi_offset 4, -12
 577              		.cfi_offset 5, -8
 578              		.cfi_offset 14, -4
 579 0002 2DED028B 		vpush.64	{d8}
 580              	.LCFI2:
 581              		.cfi_def_cfa_offset 24
 582              		.cfi_offset 80, -24
 583              		.cfi_offset 81, -20
 212:Src/encoder.c **** 	static uint16_t l_ave_counter = 0;
 584              		.loc 1 212 2 view .LVU146
 213:Src/encoder.c **** 	uint16_t i = 0;
 585              		.loc 1 213 2 view .LVU147
 586              	.LVL26:
 214:Src/encoder.c **** 	uint16_t j = 0;
 587              		.loc 1 214 2 view .LVU148
 215:Src/encoder.c **** 
 216:Src/encoder.c **** 	float l_ave_speed_m = 0;	//m ä¸¦é€²æ–¹å‘é€Ÿåº¦å¹³å‡
 588              		.loc 1 216 2 view .LVU149
 217:Src/encoder.c **** 	float l_ave_accel_m = 0;	//m ä¸¦é€²æ–¹å‘åŠ é€Ÿåº¦
 589              		.loc 1 217 2 view .LVU150
 218:Src/encoder.c **** 
 219:Src/encoder.c **** 	float l_sum_speed_m = 0; 	//m ä¸¦é€²æ–¹å‘é€Ÿåº¦åˆè¨ˆ
 590              		.loc 1 219 2 view .LVU151
 220:Src/encoder.c **** 	float l_sum_accel_m = 0;	//m ä¸¦é€²æ–¹å‘åŠ é€Ÿåº¦åˆè¨ˆ
 591              		.loc 1 220 2 view .LVU152
 221:Src/encoder.c **** 
 222:Src/encoder.c **** 	i = l_ave_counter % ave_num;
 592              		.loc 1 222 2 view .LVU153
 593              		.loc 1 222 4 is_stmt 0 view .LVU154
 594 0006 3A4B     		ldr	r3, .L57+8
 595 0008 1A88     		ldrh	r2, [r3]
 596 000a 3A4B     		ldr	r3, .L57+12
 597 000c A3FB0213 		umull	r1, r3, r3, r2
 598 0010 DB08     		lsrs	r3, r3, #3
 599 0012 03EB8303 		add	r3, r3, r3, lsl #2
 600 0016 A2EB4303 		sub	r3, r2, r3, lsl #1
 601 001a 9BB2     		uxth	r3, r3
 602              	.LVL27:
ARM GAS  C:\Temp\ccuaF7U4.s 			page 16


 223:Src/encoder.c **** 
 224:Src/encoder.c **** 	ave_store[i].speed_m = speed_m;
 603              		.loc 1 224 2 is_stmt 1 view .LVU155
 604              		.loc 1 224 23 is_stmt 0 view .LVU156
 605 001c 364C     		ldr	r4, .L57+16
 606 001e 04EBC304 		add	r4, r4, r3, lsl #3
 607 0022 364B     		ldr	r3, .L57+20
 608              	.LVL28:
 609              		.loc 1 224 23 view .LVU157
 610 0024 1B68     		ldr	r3, [r3]	@ float
 611 0026 2360     		str	r3, [r4]	@ float
 225:Src/encoder.c **** 	ave_store[i].accel_m = IMU_GetAccel_X();
 612              		.loc 1 225 2 is_stmt 1 view .LVU158
 613              		.loc 1 225 25 is_stmt 0 view .LVU159
 614 0028 FFF7FEFF 		bl	IMU_GetAccel_X
 615              	.LVL29:
 616              		.loc 1 225 23 view .LVU160
 617 002c 84ED010A 		vstr.32	s0, [r4, #4]
 226:Src/encoder.c **** 
 227:Src/encoder.c **** 	for(j=0; j < ave_num; j++)
 618              		.loc 1 227 2 is_stmt 1 view .LVU161
 220:Src/encoder.c **** 
 619              		.loc 1 220 8 is_stmt 0 view .LVU162
 620 0030 DFED337A 		vldr.32	s15, .L57+24
 219:Src/encoder.c **** 	float l_sum_accel_m = 0;	//m ä¸¦é€²æ–¹å‘åŠ é€Ÿåº¦åˆè¨ˆ
 621              		.loc 1 219 8 view .LVU163
 622 0034 B0EE677A 		vmov.f32	s14, s15
 623              		.loc 1 227 7 view .LVU164
 624 0038 0023     		movs	r3, #0
 625              	.LVL30:
 626              	.L45:
 627              		.loc 1 227 11 is_stmt 1 discriminator 1 view .LVU165
 628              		.loc 1 227 2 is_stmt 0 discriminator 1 view .LVU166
 629 003a 092B     		cmp	r3, #9
 630 003c 0DD8     		bhi	.L55
 228:Src/encoder.c **** 	{
 229:Src/encoder.c **** 		l_sum_speed_m += ave_store[j].speed_m;
 631              		.loc 1 229 3 is_stmt 1 discriminator 3 view .LVU167
 632              		.loc 1 229 32 is_stmt 0 discriminator 3 view .LVU168
 633 003e 2E4A     		ldr	r2, .L57+16
 634 0040 02EBC302 		add	r2, r2, r3, lsl #3
 635 0044 D2ED006A 		vldr.32	s13, [r2]
 636              		.loc 1 229 17 discriminator 3 view .LVU169
 637 0048 37EE267A 		vadd.f32	s14, s14, s13
 638              	.LVL31:
 230:Src/encoder.c **** 		l_sum_accel_m += ave_store[j].accel_m;
 639              		.loc 1 230 3 is_stmt 1 discriminator 3 view .LVU170
 640              		.loc 1 230 32 is_stmt 0 discriminator 3 view .LVU171
 641 004c D2ED016A 		vldr.32	s13, [r2, #4]
 642              		.loc 1 230 17 discriminator 3 view .LVU172
 643 0050 77EEA67A 		vadd.f32	s15, s15, s13
 644              	.LVL32:
 227:Src/encoder.c **** 	{
 645              		.loc 1 227 24 is_stmt 1 discriminator 3 view .LVU173
 227:Src/encoder.c **** 	{
 646              		.loc 1 227 25 is_stmt 0 discriminator 3 view .LVU174
 647 0054 0133     		adds	r3, r3, #1
ARM GAS  C:\Temp\ccuaF7U4.s 			page 17


 648              	.LVL33:
 227:Src/encoder.c **** 	{
 649              		.loc 1 227 25 discriminator 3 view .LVU175
 650 0056 9BB2     		uxth	r3, r3
 651              	.LVL34:
 227:Src/encoder.c **** 	{
 652              		.loc 1 227 25 discriminator 3 view .LVU176
 653 0058 EFE7     		b	.L45
 654              	.L55:
 231:Src/encoder.c **** 	}
 232:Src/encoder.c **** 
 233:Src/encoder.c **** 	l_ave_speed_m = l_sum_speed_m / ave_num;
 655              		.loc 1 233 2 is_stmt 1 view .LVU177
 656              		.loc 1 233 16 is_stmt 0 view .LVU178
 657 005a F2EE046A 		vmov.f32	s13, #1.0e+1
 658 005e C7EE268A 		vdiv.f32	s17, s14, s13
 659              	.LVL35:
 234:Src/encoder.c **** 	l_ave_accel_m = l_sum_accel_m / ave_num;
 660              		.loc 1 234 2 is_stmt 1 view .LVU179
 661              		.loc 1 234 16 is_stmt 0 view .LVU180
 662 0062 87EEA68A 		vdiv.f32	s16, s15, s13
 663              	.LVL36:
 235:Src/encoder.c **** 
 236:Src/encoder.c **** 	/*åŠ é€Ÿåº¦ã‚»ãƒ³ã‚µã®ã¶ã‚Œã‚’è£œæ­£ã€é–¾å€¤ç¯„å›²å†…ã‚’ï¼ã¨ã™ã‚‹*/
 237:Src/encoder.c **** 	if(ABS(l_ave_accel_m) < 0.5)
 664              		.loc 1 237 2 is_stmt 1 view .LVU181
 665              		.loc 1 237 24 is_stmt 0 view .LVU182
 666 0066 B5EEC08A 		vcmpe.f32	s16, #0
 667 006a F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 668 006e 30D4     		bmi	.L56
 669              		.loc 1 237 24 discriminator 2 view .LVU183
 670 0070 F6EE007A 		vmov.f32	s15, #5.0e-1
 671              	.LVL37:
 672              		.loc 1 237 24 discriminator 2 view .LVU184
 673 0074 B4EEE78A 		vcmpe.f32	s16, s15
 674 0078 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 675 007c 4CBF     		ite	mi
 676 007e 0123     		movmi	r3, #1
 677              	.LVL38:
 678              		.loc 1 237 24 discriminator 2 view .LVU185
 679 0080 0023     		movpl	r3, #0
 680              	.L49:
 681              		.loc 1 237 4 discriminator 4 view .LVU186
 682 0082 0BB1     		cbz	r3, .L50
 238:Src/encoder.c **** 	{
 239:Src/encoder.c **** 		l_ave_accel_m = 0;
 683              		.loc 1 239 17 view .LVU187
 684 0084 9FED1E8A 		vldr.32	s16, .L57+24
 685              	.LVL39:
 686              	.L50:
 240:Src/encoder.c **** 	}
 241:Src/encoder.c **** 
 242:Src/encoder.c **** 	/*m é…ã‚Œè£œæ­£*/
 243:Src/encoder.c **** 	l_ave_speed_m += 0.5 * ( l_ave_accel_m * (ave_num * 0.001)); //m å¹³å‡é€Ÿåº¦ï¼‹0.5(ã€€åŠ é€Ÿåº¦å¹
 687              		.loc 1 243 2 is_stmt 1 view .LVU188
 688              		.loc 1 243 41 is_stmt 0 view .LVU189
 689 0088 18EE100A 		vmov	r0, s16
ARM GAS  C:\Temp\ccuaF7U4.s 			page 18


 690 008c FFF7FEFF 		bl	__aeabi_f2d
 691              	.LVL40:
 692              		.loc 1 243 41 view .LVU190
 693 0090 15A3     		adr	r3, .L57
 694 0092 D3E90023 		ldrd	r2, [r3]
 695 0096 FFF7FEFF 		bl	__aeabi_dmul
 696              	.LVL41:
 697              		.loc 1 243 23 view .LVU191
 698 009a 0022     		movs	r2, #0
 699 009c 194B     		ldr	r3, .L57+28
 700 009e FFF7FEFF 		bl	__aeabi_dmul
 701              	.LVL42:
 702 00a2 0446     		mov	r4, r0
 703 00a4 0D46     		mov	r5, r1
 704              		.loc 1 243 16 view .LVU192
 705 00a6 18EE900A 		vmov	r0, s17
 706 00aa FFF7FEFF 		bl	__aeabi_f2d
 707              	.LVL43:
 708 00ae 2246     		mov	r2, r4
 709 00b0 2B46     		mov	r3, r5
 710 00b2 FFF7FEFF 		bl	__aeabi_dadd
 711              	.LVL44:
 712 00b6 FFF7FEFF 		bl	__aeabi_d2f
 713              	.LVL45:
 244:Src/encoder.c **** 
 245:Src/encoder.c **** 
 246:Src/encoder.c **** 	g_ave_speed_m = l_ave_speed_m;
 714              		.loc 1 246 2 is_stmt 1 view .LVU193
 715              		.loc 1 246 16 is_stmt 0 view .LVU194
 716 00ba 134B     		ldr	r3, .L57+32
 717 00bc 1860     		str	r0, [r3]	@ float
 247:Src/encoder.c **** 	g_ave_accel_m = l_ave_accel_m;
 718              		.loc 1 247 2 is_stmt 1 view .LVU195
 719              		.loc 1 247 16 is_stmt 0 view .LVU196
 720 00be 134B     		ldr	r3, .L57+36
 721 00c0 83ED008A 		vstr.32	s16, [r3]
 248:Src/encoder.c **** 
 249:Src/encoder.c **** 
 250:Src/encoder.c **** 	l_ave_counter += 1 ;
 722              		.loc 1 250 2 is_stmt 1 view .LVU197
 723              		.loc 1 250 16 is_stmt 0 view .LVU198
 724 00c4 0A4A     		ldr	r2, .L57+8
 725 00c6 1388     		ldrh	r3, [r2]
 726 00c8 0133     		adds	r3, r3, #1
 727 00ca 1380     		strh	r3, [r2]	@ movhi
 251:Src/encoder.c **** }
 728              		.loc 1 251 1 view .LVU199
 729 00cc BDEC028B 		vldm	sp!, {d8}
 730              	.LCFI3:
 731              		.cfi_remember_state
 732              		.cfi_restore 80
 733              		.cfi_restore 81
 734              		.cfi_def_cfa_offset 16
 735              	.LVL46:
 736              		.loc 1 251 1 view .LVU200
 737 00d0 38BD     		pop	{r3, r4, r5, pc}
 738              	.LVL47:
ARM GAS  C:\Temp\ccuaF7U4.s 			page 19


 739              	.L56:
 740              	.LCFI4:
 741              		.cfi_restore_state
 237:Src/encoder.c **** 	{
 742              		.loc 1 237 24 discriminator 1 view .LVU201
 743 00d2 FEEE007A 		vmov.f32	s15, #-5.0e-1
 744              	.LVL48:
 237:Src/encoder.c **** 	{
 745              		.loc 1 237 24 discriminator 1 view .LVU202
 746 00d6 B4EEE78A 		vcmpe.f32	s16, s15
 747 00da F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 748 00de CCBF     		ite	gt
 749 00e0 0123     		movgt	r3, #1
 750              	.LVL49:
 237:Src/encoder.c **** 	{
 751              		.loc 1 237 24 discriminator 1 view .LVU203
 752 00e2 0023     		movle	r3, #0
 753 00e4 CDE7     		b	.L49
 754              	.L58:
 755 00e6 00BF     		.align	3
 756              	.L57:
 757 00e8 7B14AE47 		.word	1202590843
 758 00ec E17A843F 		.word	1065646817
 759 00f0 00000000 		.word	.LANCHOR12
 760 00f4 CDCCCCCC 		.word	-858993459
 761 00f8 00000000 		.word	.LANCHOR13
 762 00fc 00000000 		.word	.LANCHOR10
 763 0100 00000000 		.word	0
 764 0104 0000E03F 		.word	1071644672
 765 0108 00000000 		.word	.LANCHOR14
 766 010c 00000000 		.word	.LANCHOR15
 767              		.cfi_endproc
 768              	.LFE141:
 770              		.global	delta_angle_motor_l
 771              		.global	delta_angle_motor_r
 772              		.global	speed_rad
 773              		.global	g_ave_accel_m
 774              		.global	g_ave_speed_m
 775              		.global	speed_m
 776              		.global	speed_l_min
 777              		.global	speed_l_max
 778              		.global	speed_l
 779              		.global	speed_r_min
 780              		.global	speed_r_max
 781              		.global	speed_r
 782              		.section	.bss.ave_store,"aw",%nobits
 783              		.align	2
 784              		.set	.LANCHOR13,. + 0
 787              	ave_store:
 788 0000 00000000 		.space	80
 788      00000000 
 788      00000000 
 788      00000000 
 788      00000000 
 789              		.section	.bss.delta_angle_motor_l,"aw",%nobits
 790              		.align	2
 791              		.set	.LANCHOR3,. + 0
ARM GAS  C:\Temp\ccuaF7U4.s 			page 20


 794              	delta_angle_motor_l:
 795 0000 00000000 		.space	4
 796              		.section	.bss.delta_angle_motor_r,"aw",%nobits
 797              		.align	2
 798              		.set	.LANCHOR2,. + 0
 801              	delta_angle_motor_r:
 802 0000 00000000 		.space	4
 803              		.section	.bss.enc_cnt_l_old,"aw",%nobits
 804              		.align	1
 805              		.set	.LANCHOR1,. + 0
 808              	enc_cnt_l_old:
 809 0000 0000     		.space	2
 810              		.section	.bss.enc_cnt_r_old,"aw",%nobits
 811              		.align	1
 812              		.set	.LANCHOR0,. + 0
 815              	enc_cnt_r_old:
 816 0000 0000     		.space	2
 817              		.section	.bss.g_ave_accel_m,"aw",%nobits
 818              		.align	2
 819              		.set	.LANCHOR15,. + 0
 822              	g_ave_accel_m:
 823 0000 00000000 		.space	4
 824              		.section	.bss.g_ave_speed_m,"aw",%nobits
 825              		.align	2
 826              		.set	.LANCHOR14,. + 0
 829              	g_ave_speed_m:
 830 0000 00000000 		.space	4
 831              		.section	.bss.l_ave_counter.10075,"aw",%nobits
 832              		.align	1
 833              		.set	.LANCHOR12,. + 0
 836              	l_ave_counter.10075:
 837 0000 0000     		.space	2
 838              		.section	.bss.speed_l,"aw",%nobits
 839              		.align	2
 840              		.set	.LANCHOR5,. + 0
 843              	speed_l:
 844 0000 00000000 		.space	4
 845              		.section	.bss.speed_l_max,"aw",%nobits
 846              		.align	2
 847              		.set	.LANCHOR8,. + 0
 850              	speed_l_max:
 851 0000 00000000 		.space	4
 852              		.section	.bss.speed_l_min,"aw",%nobits
 853              		.align	2
 854              		.set	.LANCHOR9,. + 0
 857              	speed_l_min:
 858 0000 00000000 		.space	4
 859              		.section	.bss.speed_m,"aw",%nobits
 860              		.align	2
 861              		.set	.LANCHOR10,. + 0
 864              	speed_m:
 865 0000 00000000 		.space	4
 866              		.section	.bss.speed_r,"aw",%nobits
 867              		.align	2
 868              		.set	.LANCHOR4,. + 0
 871              	speed_r:
 872 0000 00000000 		.space	4
ARM GAS  C:\Temp\ccuaF7U4.s 			page 21


 873              		.section	.bss.speed_r_max,"aw",%nobits
 874              		.align	2
 875              		.set	.LANCHOR6,. + 0
 878              	speed_r_max:
 879 0000 00000000 		.space	4
 880              		.section	.bss.speed_r_min,"aw",%nobits
 881              		.align	2
 882              		.set	.LANCHOR7,. + 0
 885              	speed_r_min:
 886 0000 00000000 		.space	4
 887              		.section	.bss.speed_rad,"aw",%nobits
 888              		.align	2
 889              		.set	.LANCHOR11,. + 0
 892              	speed_rad:
 893 0000 00000000 		.space	4
 894              		.text
 895              	.Letext0:
 896              		.file 2 "c:\\tools\\gcc-arm-none-eabi-9-2019-q4-major\\arm-none-eabi\\include\\machine\\_default_t
 897              		.file 3 "c:\\tools\\gcc-arm-none-eabi-9-2019-q4-major\\arm-none-eabi\\include\\sys\\lock.h"
 898              		.file 4 "c:\\tools\\gcc-arm-none-eabi-9-2019-q4-major\\arm-none-eabi\\include\\sys\\_types.h"
 899              		.file 5 "c:\\tools\\gcc-arm-none-eabi-9-2019-q4-major\\lib\\gcc\\arm-none-eabi\\9.2.1\\include\\st
 900              		.file 6 "c:\\tools\\gcc-arm-none-eabi-9-2019-q4-major\\arm-none-eabi\\include\\sys\\reent.h"
 901              		.file 7 "c:\\tools\\gcc-arm-none-eabi-9-2019-q4-major\\arm-none-eabi\\include\\sys\\_stdint.h"
 902              		.file 8 "c:\\tools\\gcc-arm-none-eabi-9-2019-q4-major\\arm-none-eabi\\include\\math.h"
 903              		.file 9 "Drivers/CMSIS/Include/core_cm4.h"
 904              		.file 10 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/system_stm32f4xx.h"
 905              		.file 11 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f413xx.h"
 906              		.file 12 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f4xx.h"
 907              		.file 13 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 908              		.file 14 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_dma.h"
 909              		.file 15 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_adc.h"
 910              		.file 16 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_spi.h"
 911              		.file 17 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_tim.h"
 912              		.file 18 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_uart.h"
 913              		.file 19 "Inc/adc.h"
 914              		.file 20 "Inc/spi.h"
 915              		.file 21 "Inc/tim.h"
 916              		.file 22 "Inc/usart.h"
 917              		.file 23 "Inc/imu.h"
ARM GAS  C:\Temp\ccuaF7U4.s 			page 22


DEFINED SYMBOLS
                            *ABS*:00000000 encoder.c
  C:\Temp\ccuaF7U4.s:18     .text.get_encordercount_r:00000000 $t
  C:\Temp\ccuaF7U4.s:26     .text.get_encordercount_r:00000000 get_encordercount_r
  C:\Temp\ccuaF7U4.s:45     .text.get_encordercount_l:00000000 $t
  C:\Temp\ccuaF7U4.s:52     .text.get_encordercount_l:00000000 get_encordercount_l
  C:\Temp\ccuaF7U4.s:69     .text.get_encordercount_l:00000008 $d
  C:\Temp\ccuaF7U4.s:74     .text.Encoder_ResetCount_Left:00000000 $t
  C:\Temp\ccuaF7U4.s:81     .text.Encoder_ResetCount_Left:00000000 Encoder_ResetCount_Left
  C:\Temp\ccuaF7U4.s:98     .text.Encoder_ResetCount_Left:0000000c $d
  C:\Temp\ccuaF7U4.s:103    .text.Encoder_ResetCount_Right:00000000 $t
  C:\Temp\ccuaF7U4.s:110    .text.Encoder_ResetCount_Right:00000000 Encoder_ResetCount_Right
  C:\Temp\ccuaF7U4.s:128    .text.Encoder_Initialize:00000000 $t
  C:\Temp\ccuaF7U4.s:135    .text.Encoder_Initialize:00000000 Encoder_Initialize
  C:\Temp\ccuaF7U4.s:167    .text.Encoder_Initialize:0000001c $d
  C:\Temp\ccuaF7U4.s:173    .text.Encoder_GetAngle_Left:00000000 $t
  C:\Temp\ccuaF7U4.s:180    .text.Encoder_GetAngle_Left:00000000 Encoder_GetAngle_Left
  C:\Temp\ccuaF7U4.s:207    .text.Encoder_GetAngle_Left:00000024 $d
  C:\Temp\ccuaF7U4.s:214    .text.Encoder_GetAngle_Right:00000000 $t
  C:\Temp\ccuaF7U4.s:221    .text.Encoder_GetAngle_Right:00000000 Encoder_GetAngle_Right
  C:\Temp\ccuaF7U4.s:248    .text.Encoder_GetAngle_Right:00000028 $d
  C:\Temp\ccuaF7U4.s:254    .text.Get_speed:00000000 $t
  C:\Temp\ccuaF7U4.s:261    .text.Get_speed:00000000 Get_speed
  C:\Temp\ccuaF7U4.s:532    .text.Get_speed:0000015c $d
  C:\Temp\ccuaF7U4.s:559    .text.speed_m_average:00000000 $t
  C:\Temp\ccuaF7U4.s:566    .text.speed_m_average:00000000 speed_m_average
  C:\Temp\ccuaF7U4.s:757    .text.speed_m_average:000000e8 $d
  C:\Temp\ccuaF7U4.s:794    .bss.delta_angle_motor_l:00000000 delta_angle_motor_l
  C:\Temp\ccuaF7U4.s:801    .bss.delta_angle_motor_r:00000000 delta_angle_motor_r
  C:\Temp\ccuaF7U4.s:892    .bss.speed_rad:00000000 speed_rad
  C:\Temp\ccuaF7U4.s:822    .bss.g_ave_accel_m:00000000 g_ave_accel_m
  C:\Temp\ccuaF7U4.s:829    .bss.g_ave_speed_m:00000000 g_ave_speed_m
  C:\Temp\ccuaF7U4.s:864    .bss.speed_m:00000000 speed_m
  C:\Temp\ccuaF7U4.s:857    .bss.speed_l_min:00000000 speed_l_min
  C:\Temp\ccuaF7U4.s:850    .bss.speed_l_max:00000000 speed_l_max
  C:\Temp\ccuaF7U4.s:843    .bss.speed_l:00000000 speed_l
  C:\Temp\ccuaF7U4.s:885    .bss.speed_r_min:00000000 speed_r_min
  C:\Temp\ccuaF7U4.s:878    .bss.speed_r_max:00000000 speed_r_max
  C:\Temp\ccuaF7U4.s:871    .bss.speed_r:00000000 speed_r
  C:\Temp\ccuaF7U4.s:783    .bss.ave_store:00000000 $d
  C:\Temp\ccuaF7U4.s:787    .bss.ave_store:00000000 ave_store
  C:\Temp\ccuaF7U4.s:790    .bss.delta_angle_motor_l:00000000 $d
  C:\Temp\ccuaF7U4.s:797    .bss.delta_angle_motor_r:00000000 $d
  C:\Temp\ccuaF7U4.s:804    .bss.enc_cnt_l_old:00000000 $d
  C:\Temp\ccuaF7U4.s:808    .bss.enc_cnt_l_old:00000000 enc_cnt_l_old
  C:\Temp\ccuaF7U4.s:811    .bss.enc_cnt_r_old:00000000 $d
  C:\Temp\ccuaF7U4.s:815    .bss.enc_cnt_r_old:00000000 enc_cnt_r_old
  C:\Temp\ccuaF7U4.s:818    .bss.g_ave_accel_m:00000000 $d
  C:\Temp\ccuaF7U4.s:825    .bss.g_ave_speed_m:00000000 $d
  C:\Temp\ccuaF7U4.s:832    .bss.l_ave_counter.10075:00000000 $d
  C:\Temp\ccuaF7U4.s:836    .bss.l_ave_counter.10075:00000000 l_ave_counter.10075
  C:\Temp\ccuaF7U4.s:839    .bss.speed_l:00000000 $d
  C:\Temp\ccuaF7U4.s:846    .bss.speed_l_max:00000000 $d
  C:\Temp\ccuaF7U4.s:853    .bss.speed_l_min:00000000 $d
  C:\Temp\ccuaF7U4.s:860    .bss.speed_m:00000000 $d
  C:\Temp\ccuaF7U4.s:867    .bss.speed_r:00000000 $d
  C:\Temp\ccuaF7U4.s:874    .bss.speed_r_max:00000000 $d
ARM GAS  C:\Temp\ccuaF7U4.s 			page 23


  C:\Temp\ccuaF7U4.s:881    .bss.speed_r_min:00000000 $d
  C:\Temp\ccuaF7U4.s:888    .bss.speed_rad:00000000 $d

UNDEFINED SYMBOLS
HAL_TIM_Encoder_Start
htim2
htim3
__aeabi_f2d
__aeabi_dmul
__aeabi_dadd
__aeabi_d2f
IMU_GetAccel_X
