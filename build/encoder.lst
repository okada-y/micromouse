ARM GAS  C:\Temp\ccPeizZ9.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"encoder.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.Encoder_ResetCount_Left,"ax",%progbits
  18              		.align	1
  19              		.global	Encoder_ResetCount_Left
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv4-sp-d16
  26              	Encoder_ResetCount_Left:
  27              	.LFB134:
  28              		.file 1 "Src/encoder.c"
   1:Src/encoder.c **** /*
   2:Src/encoder.c ****  * encorder.c
   3:Src/encoder.c ****  *
   4:Src/encoder.c ****  *  Created on: Jul 14, 2019
   5:Src/encoder.c ****  *      Author: å²¡ç”° æ³°è£•
   6:Src/encoder.c ****  */
   7:Src/encoder.c **** 
   8:Src/encoder.c **** 
   9:Src/encoder.c **** 
  10:Src/encoder.c **** #include "index.h"
  11:Src/encoder.c **** 
  12:Src/encoder.c **** #define ENC_CNT_L		(TIM3 -> CNT)
  13:Src/encoder.c **** #define ENC_CNT_R		(TIM2 -> CNT)
  14:Src/encoder.c **** #define ENC_CNT_SR_L	(TIM3 -> SR)	//TIM3ã®status register
  15:Src/encoder.c **** #define ENC_CNT_SR_R	(TIM2 -> SR) 	//TIM2ã®status register
  16:Src/encoder.c **** 
  17:Src/encoder.c **** 
  18:Src/encoder.c **** #define ENC_ZERO		(32767 - 1)		/* encoderã®åˆæœŸå€¤ */
  19:Src/encoder.c **** #define ENC_RESOLUTION 	(1024 - 1)		/* encoderã®åˆ†è§£èƒ½ */
  20:Src/encoder.c **** 
  21:Src/encoder.c **** 
  22:Src/encoder.c **** 
  23:Src/encoder.c **** static uint16_t enc_cnt_r_new = 0;
  24:Src/encoder.c **** static uint16_t enc_cnt_l_new = 0;
  25:Src/encoder.c **** static uint16_t enc_cnt_r_old = 0;
  26:Src/encoder.c **** static uint16_t enc_cnt_l_old = 0;
  27:Src/encoder.c **** float speed_r = 0;//m å³ã‚¿ã‚¤ãƒ¤é€Ÿåº¦[ m/s]
  28:Src/encoder.c **** float speed_r_max = 0;// mæœ€å¤§å³ã‚¿ã‚¤ãƒ¤é€Ÿåº¦ï¼ˆãƒ‡ãƒãƒƒã‚°ç”¨
  29:Src/encoder.c **** float speed_r_min = 0;// mæœ€å°å³ã‚¿ã‚¤ãƒ¤é€Ÿåº¦ï¼ˆãƒ‡ãƒãƒƒã‚°ç”¨
  30:Src/encoder.c **** float speed_l = 0;//m å·¦ã‚¿ã‚¤ãƒ¤é€Ÿåº¦[ m/s]
ARM GAS  C:\Temp\ccPeizZ9.s 			page 2


  31:Src/encoder.c **** float speed_l_max = 0;// mæœ€å¤§å·¦ã‚¿ã‚¤ãƒ¤é€Ÿåº¦ï¼ˆãƒ‡ãƒãƒƒã‚°ç”¨
  32:Src/encoder.c **** float speed_l_min = 0;// mæœ€å°å·¦ã‚¿ã‚¤ãƒ¤é€Ÿåº¦ï¼ˆãƒ‡ãƒãƒƒã‚°ç”¨
  33:Src/encoder.c **** float speed_m = 0;//m ä¸¦é€²æ–¹å‘é€Ÿåº¦[ m/s]
  34:Src/encoder.c **** float g_ave_speed_m = 0;//m ä¸¦é€²æ–¹å‘é€Ÿåº¦ã‚’ç§»å‹•å¹³å‡å‡¦ç†[m/s]
  35:Src/encoder.c **** float g_ave_accel_m = 0;//m ä¸¦é€²æ–¹å‘åŠ é€Ÿåº¦ã‚’ç§»å‹•å¹³å‡å‡¦ç†[m/s2]
  36:Src/encoder.c **** float speed_rad = 0;//m ã‚¨ãƒ³ã‚³ãƒ¼ãƒ€ã‹ã‚‰ç®—å‡ºã•ã‚Œã‚‹è§’é€Ÿåº¦[rad/s]
  37:Src/encoder.c **** 
  38:Src/encoder.c **** float delta_angle_motor_r = 0;	//m å³ãƒ¢ãƒ¼ã‚¿ã®å›žè»¢æ•°[rad/s]
  39:Src/encoder.c **** float delta_angle_motor_l = 0;	//m å·¦ãƒ¢ãƒ¼ã‚¿ã®å›žè»¢æ•°[rad/s]
  40:Src/encoder.c **** 
  41:Src/encoder.c **** typedef struct {	//a ç§»å‹•å¹³å‡ç”¨æ§‹é€ ä½“ã®å®šç¾©
  42:Src/encoder.c **** 	float	speed_m;			// mã€€æ¸¬å®šé–‹å§‹ã‹ã‚‰ã®æ™‚é–“(m/s)
  43:Src/encoder.c **** 	float   accel_m;			// m ç›®æ¨™é€Ÿåº¦(m/s)
  44:Src/encoder.c **** } ave_struct;
  45:Src/encoder.c **** 
  46:Src/encoder.c **** static ave_struct ave_store[m_ave_num];  // ãƒ‡ãƒ¼ã‚¿æ ¼ç´ç”¨ã®æ§‹é€ ä½“
  47:Src/encoder.c **** 
  48:Src/encoder.c **** 
  49:Src/encoder.c **** 
  50:Src/encoder.c **** 
  51:Src/encoder.c **** 
  52:Src/encoder.c **** /* ---------------------------------------------------------------
  53:Src/encoder.c **** 	ä½ç›¸ä¿‚æ•°ãƒ¢ãƒ¼ãƒ‰ã®ã‚¿ã‚¤ãƒžãƒ¼ã‚’é–‹å§‹ã—ã€ä½ç›¸ã‚«ã‚¦ãƒ³ãƒˆã‚’åˆæœŸåŒ–ã™ã‚‹é–¢æ•°
  54:Src/encoder.c **** --------------------------------------------------------------- */
  55:Src/encoder.c **** void Encoder_Initialize( void )
  56:Src/encoder.c **** {
  57:Src/encoder.c **** 	HAL_TIM_Encoder_Start( &htim2, TIM_CHANNEL_ALL );
  58:Src/encoder.c **** 	HAL_TIM_Encoder_Start( &htim3, TIM_CHANNEL_ALL );
  59:Src/encoder.c **** 	Encoder_ResetCount_Left();
  60:Src/encoder.c **** 	Encoder_ResetCount_Right();
  61:Src/encoder.c **** 	enc_cnt_r_old	=	ENC_CNT_R;
  62:Src/encoder.c **** 	enc_cnt_l_old	=	ENC_CNT_L;
  63:Src/encoder.c **** }
  64:Src/encoder.c **** 
  65:Src/encoder.c **** /* ---------------------------------------------------------------
  66:Src/encoder.c **** 	å·¦ã‚¿ã‚¤ãƒ¤ã®ä½ç›¸ä¿‚æ•°ã‚«ã‚¦ãƒ³ãƒˆã‚’åˆæœŸåŒ–ã™ã‚‹é–¢æ•°
  67:Src/encoder.c **** --------------------------------------------------------------- */
  68:Src/encoder.c **** void Encoder_ResetCount_Left( void )
  69:Src/encoder.c **** {
  29              		.loc 1 69 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		@ link register save eliminated.
  70:Src/encoder.c **** 	ENC_CNT_L = ENC_ZERO;
  34              		.loc 1 70 2 view .LVU1
  35              		.loc 1 70 12 is_stmt 0 view .LVU2
  36 0000 024B     		ldr	r3, .L2
  37 0002 47F6FE72 		movw	r2, #32766
  38 0006 5A62     		str	r2, [r3, #36]
  71:Src/encoder.c **** }
  39              		.loc 1 71 1 view .LVU3
  40 0008 7047     		bx	lr
  41              	.L3:
  42 000a 00BF     		.align	2
  43              	.L2:
  44 000c 00040040 		.word	1073742848
ARM GAS  C:\Temp\ccPeizZ9.s 			page 3


  45              		.cfi_endproc
  46              	.LFE134:
  48              		.section	.text.Encoder_ResetCount_Right,"ax",%progbits
  49              		.align	1
  50              		.global	Encoder_ResetCount_Right
  51              		.syntax unified
  52              		.thumb
  53              		.thumb_func
  54              		.fpu fpv4-sp-d16
  56              	Encoder_ResetCount_Right:
  57              	.LFB135:
  72:Src/encoder.c **** 
  73:Src/encoder.c **** /* ---------------------------------------------------------------
  74:Src/encoder.c **** 	å³ã‚¿ã‚¤ãƒ¤ã®ä½ç›¸ä¿‚æ•°ã‚«ã‚¦ãƒ³ãƒˆã‚’åˆæœŸåŒ–ã™ã‚‹é–¢æ•°
  75:Src/encoder.c **** --------------------------------------------------------------- */
  76:Src/encoder.c **** void Encoder_ResetCount_Right( void )
  77:Src/encoder.c **** {
  58              		.loc 1 77 1 is_stmt 1 view -0
  59              		.cfi_startproc
  60              		@ args = 0, pretend = 0, frame = 0
  61              		@ frame_needed = 0, uses_anonymous_args = 0
  62              		@ link register save eliminated.
  78:Src/encoder.c **** 	ENC_CNT_R = ENC_ZERO;
  63              		.loc 1 78 2 view .LVU5
  64              		.loc 1 78 12 is_stmt 0 view .LVU6
  65 0000 4FF08043 		mov	r3, #1073741824
  66 0004 47F6FE72 		movw	r2, #32766
  67 0008 5A62     		str	r2, [r3, #36]
  79:Src/encoder.c **** }
  68              		.loc 1 79 1 view .LVU7
  69 000a 7047     		bx	lr
  70              		.cfi_endproc
  71              	.LFE135:
  73              		.section	.text.Encoder_Initialize,"ax",%progbits
  74              		.align	1
  75              		.global	Encoder_Initialize
  76              		.syntax unified
  77              		.thumb
  78              		.thumb_func
  79              		.fpu fpv4-sp-d16
  81              	Encoder_Initialize:
  82              	.LFB133:
  56:Src/encoder.c **** 	HAL_TIM_Encoder_Start( &htim2, TIM_CHANNEL_ALL );
  83              		.loc 1 56 1 is_stmt 1 view -0
  84              		.cfi_startproc
  85              		@ args = 0, pretend = 0, frame = 0
  86              		@ frame_needed = 0, uses_anonymous_args = 0
  87 0000 08B5     		push	{r3, lr}
  88              	.LCFI0:
  89              		.cfi_def_cfa_offset 8
  90              		.cfi_offset 3, -8
  91              		.cfi_offset 14, -4
  57:Src/encoder.c **** 	HAL_TIM_Encoder_Start( &htim3, TIM_CHANNEL_ALL );
  92              		.loc 1 57 2 view .LVU9
  93 0002 3C21     		movs	r1, #60
  94 0004 0A48     		ldr	r0, .L7
  95 0006 FFF7FEFF 		bl	HAL_TIM_Encoder_Start
ARM GAS  C:\Temp\ccPeizZ9.s 			page 4


  96              	.LVL0:
  58:Src/encoder.c **** 	Encoder_ResetCount_Left();
  97              		.loc 1 58 2 view .LVU10
  98 000a 3C21     		movs	r1, #60
  99 000c 0948     		ldr	r0, .L7+4
 100 000e FFF7FEFF 		bl	HAL_TIM_Encoder_Start
 101              	.LVL1:
  59:Src/encoder.c **** 	Encoder_ResetCount_Right();
 102              		.loc 1 59 2 view .LVU11
 103 0012 FFF7FEFF 		bl	Encoder_ResetCount_Left
 104              	.LVL2:
  60:Src/encoder.c **** 	enc_cnt_r_old	=	ENC_CNT_R;
 105              		.loc 1 60 2 view .LVU12
 106 0016 FFF7FEFF 		bl	Encoder_ResetCount_Right
 107              	.LVL3:
  61:Src/encoder.c **** 	enc_cnt_l_old	=	ENC_CNT_L;
 108              		.loc 1 61 2 view .LVU13
  61:Src/encoder.c **** 	enc_cnt_l_old	=	ENC_CNT_L;
 109              		.loc 1 61 18 is_stmt 0 view .LVU14
 110 001a 4FF08043 		mov	r3, #1073741824
 111 001e 5A6A     		ldr	r2, [r3, #36]
  61:Src/encoder.c **** 	enc_cnt_l_old	=	ENC_CNT_L;
 112              		.loc 1 61 16 view .LVU15
 113 0020 054B     		ldr	r3, .L7+8
 114 0022 1A80     		strh	r2, [r3]	@ movhi
  62:Src/encoder.c **** }
 115              		.loc 1 62 2 is_stmt 1 view .LVU16
  62:Src/encoder.c **** }
 116              		.loc 1 62 18 is_stmt 0 view .LVU17
 117 0024 054B     		ldr	r3, .L7+12
 118 0026 5A6A     		ldr	r2, [r3, #36]
  62:Src/encoder.c **** }
 119              		.loc 1 62 16 view .LVU18
 120 0028 054B     		ldr	r3, .L7+16
 121 002a 1A80     		strh	r2, [r3]	@ movhi
  63:Src/encoder.c **** 
 122              		.loc 1 63 1 view .LVU19
 123 002c 08BD     		pop	{r3, pc}
 124              	.L8:
 125 002e 00BF     		.align	2
 126              	.L7:
 127 0030 00000000 		.word	htim2
 128 0034 00000000 		.word	htim3
 129 0038 00000000 		.word	.LANCHOR0
 130 003c 00040040 		.word	1073742848
 131 0040 00000000 		.word	.LANCHOR1
 132              		.cfi_endproc
 133              	.LFE133:
 135              		.section	.text.Encoder_GetAngle_Left,"ax",%progbits
 136              		.align	1
 137              		.global	Encoder_GetAngle_Left
 138              		.syntax unified
 139              		.thumb
 140              		.thumb_func
 141              		.fpu fpv4-sp-d16
 143              	Encoder_GetAngle_Left:
 144              	.LFB136:
ARM GAS  C:\Temp\ccPeizZ9.s 			page 5


  80:Src/encoder.c **** 
  81:Src/encoder.c **** /* ---------------------------------------------------------------
  82:Src/encoder.c **** 	å·¦ã‚¿ã‚¤ãƒ¤ã®è§’åº¦ã‚’å–å¾—ã™ã‚‹é–¢æ•°[rad]
  83:Src/encoder.c **** --------------------------------------------------------------- */
  84:Src/encoder.c **** float Encoder_GetAngle_Left( void )
  85:Src/encoder.c **** {
 145              		.loc 1 85 1 is_stmt 1 view -0
 146              		.cfi_startproc
 147              		@ args = 0, pretend = 0, frame = 0
 148              		@ frame_needed = 0, uses_anonymous_args = 0
 149              		@ link register save eliminated.
  86:Src/encoder.c **** 	return(2 * PI * (float)( (int32_t)ENC_CNT_L - (int32_t)ENC_ZERO ) / (float)ENC_RESOLUTION);
 150              		.loc 1 86 2 view .LVU21
 151              		.loc 1 86 36 is_stmt 0 view .LVU22
 152 0000 084B     		ldr	r3, .L10
 153 0002 5B6A     		ldr	r3, [r3, #36]
 154              		.loc 1 86 46 view .LVU23
 155 0004 A3F5FF43 		sub	r3, r3, #32640
 156 0008 7E3B     		subs	r3, r3, #126
 157              		.loc 1 86 18 view .LVU24
 158 000a 07EE903A 		vmov	s15, r3	@ int
 159 000e F8EEE77A 		vcvt.f32.s32	s15, s15
 160              		.loc 1 86 16 view .LVU25
 161 0012 9FED050A 		vldr.32	s0, .L10+4
 162 0016 67EE807A 		vmul.f32	s15, s15, s0
  87:Src/encoder.c **** }
 163              		.loc 1 87 1 view .LVU26
 164 001a 9FED040A 		vldr.32	s0, .L10+8
 165 001e 87EE800A 		vdiv.f32	s0, s15, s0
 166 0022 7047     		bx	lr
 167              	.L11:
 168              		.align	2
 169              	.L10:
 170 0024 00040040 		.word	1073742848
 171 0028 DA0FC940 		.word	1086918618
 172 002c 00C07F44 		.word	1149222912
 173              		.cfi_endproc
 174              	.LFE136:
 176              		.section	.text.Encoder_GetAngle_Right,"ax",%progbits
 177              		.align	1
 178              		.global	Encoder_GetAngle_Right
 179              		.syntax unified
 180              		.thumb
 181              		.thumb_func
 182              		.fpu fpv4-sp-d16
 184              	Encoder_GetAngle_Right:
 185              	.LFB137:
  88:Src/encoder.c **** 
  89:Src/encoder.c **** /* ---------------------------------------------------------------
  90:Src/encoder.c **** 	å³ã‚¿ã‚¤ãƒ¤ã®è§’åº¦ã‚’å–å¾—ã™ã‚‹é–¢æ•°[rad]
  91:Src/encoder.c **** --------------------------------------------------------------- */
  92:Src/encoder.c **** float Encoder_GetAngle_Right( void )
  93:Src/encoder.c **** {
 186              		.loc 1 93 1 is_stmt 1 view -0
 187              		.cfi_startproc
 188              		@ args = 0, pretend = 0, frame = 0
 189              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  C:\Temp\ccPeizZ9.s 			page 6


 190              		@ link register save eliminated.
  94:Src/encoder.c **** 	return(2 * PI * (float)( (int32_t)ENC_ZERO - (int32_t)ENC_CNT_R ) / (float)ENC_RESOLUTION);
 191              		.loc 1 94 2 view .LVU28
 192              		.loc 1 94 56 is_stmt 0 view .LVU29
 193 0000 4FF08043 		mov	r3, #1073741824
 194 0004 5B6A     		ldr	r3, [r3, #36]
 195              		.loc 1 94 45 view .LVU30
 196 0006 C3F5FF43 		rsb	r3, r3, #32640
 197 000a 7E33     		adds	r3, r3, #126
 198              		.loc 1 94 18 view .LVU31
 199 000c 07EE903A 		vmov	s15, r3	@ int
 200 0010 F8EEE77A 		vcvt.f32.s32	s15, s15
 201              		.loc 1 94 16 view .LVU32
 202 0014 9FED040A 		vldr.32	s0, .L13
 203 0018 67EE807A 		vmul.f32	s15, s15, s0
  95:Src/encoder.c **** }
 204              		.loc 1 95 1 view .LVU33
 205 001c 9FED030A 		vldr.32	s0, .L13+4
 206 0020 87EE800A 		vdiv.f32	s0, s15, s0
 207 0024 7047     		bx	lr
 208              	.L14:
 209 0026 00BF     		.align	2
 210              	.L13:
 211 0028 DA0FC940 		.word	1086918618
 212 002c 00C07F44 		.word	1149222912
 213              		.cfi_endproc
 214              	.LFE137:
 216              		.section	.text.Get_speed,"ax",%progbits
 217              		.align	1
 218              		.global	Get_speed
 219              		.syntax unified
 220              		.thumb
 221              		.thumb_func
 222              		.fpu fpv4-sp-d16
 224              	Get_speed:
 225              	.LFB138:
  96:Src/encoder.c **** 
  97:Src/encoder.c **** 
  98:Src/encoder.c **** /* ---------------------------------------------------------------
  99:Src/encoder.c ****  	 é€Ÿåº¦ã‚’ç®—å‡ºã™ã‚‹é–¢æ•°(1msã‚¿ã‚¹ã‚¯)[m/s]
 100:Src/encoder.c ****  -------------------------------------------------------------- */
 101:Src/encoder.c **** void Get_speed(void)
 102:Src/encoder.c **** {
 226              		.loc 1 102 1 is_stmt 1 view -0
 227              		.cfi_startproc
 228              		@ args = 0, pretend = 0, frame = 0
 229              		@ frame_needed = 0, uses_anonymous_args = 0
 230              		@ link register save eliminated.
 103:Src/encoder.c **** 	uint16_t	uss_delta_cnt_r;	//mã€€å³ã‚¿ã‚¤ãƒ¤ã®ã‚«ã‚¦ãƒ³ãƒˆ[/ms](è¨ˆç®—ç”¨)
 231              		.loc 1 103 2 view .LVU35
 104:Src/encoder.c **** 	uint16_t	uss_delta_cnt_l;	//mã€€å·¦ã‚¿ã‚¤ãƒ¤ã®ã‚«ã‚¦ãƒ³ãƒˆ[/ms](è¨ˆç®—ç”¨)
 232              		.loc 1 104 2 view .LVU36
 105:Src/encoder.c **** 	int32_t		sl_delta_cnt_r;	//mã€€å³ã‚¿ã‚¤ãƒ¤ã®ã‚«ã‚¦ãƒ³ãƒˆ [/ms]
 233              		.loc 1 105 2 view .LVU37
 106:Src/encoder.c **** 	int32_t		sl_delta_cnt_l;	//mã€€å·¦ã‚¿ã‚¤ãƒ¤ã®ã‚«ã‚¦ãƒ³ãƒˆ [/ms]
 234              		.loc 1 106 2 view .LVU38
 107:Src/encoder.c **** 	float 		delta_angle_tire_r;	//mã€€å³ã‚¿ã‚¤ãƒ¤ã®è§’é€Ÿåº¦	[rad/s]
ARM GAS  C:\Temp\ccPeizZ9.s 			page 7


 235              		.loc 1 107 2 view .LVU39
 108:Src/encoder.c **** 	float		delta_angle_tire_l;	//m å·¦ã‚¿ã‚¤ãƒ¤ã®è§’é€Ÿåº¦	[rad/s]
 236              		.loc 1 108 2 view .LVU40
 109:Src/encoder.c **** 
 110:Src/encoder.c **** 	enc_cnt_r_new = ENC_CNT_R;
 237              		.loc 1 110 2 view .LVU41
 238              		.loc 1 110 18 is_stmt 0 view .LVU42
 239 0000 4FF08043 		mov	r3, #1073741824
 240 0004 596A     		ldr	r1, [r3, #36]
 241              		.loc 1 110 16 view .LVU43
 242 0006 89B2     		uxth	r1, r1
 111:Src/encoder.c **** 	enc_cnt_l_new = ENC_CNT_L;
 243              		.loc 1 111 2 is_stmt 1 view .LVU44
 244              		.loc 1 111 18 is_stmt 0 view .LVU45
 245 0008 544A     		ldr	r2, .L38
 246 000a 526A     		ldr	r2, [r2, #36]
 247              		.loc 1 111 16 view .LVU46
 248 000c 92B2     		uxth	r2, r2
 112:Src/encoder.c **** 
 113:Src/encoder.c **** 	if((ENC_CNT_SR_R & 0x0001) == 0x0000)//overflowãŒãªã„ã¨ã(UIF=0)
 249              		.loc 1 113 2 is_stmt 1 view .LVU47
 250              		.loc 1 113 6 is_stmt 0 view .LVU48
 251 000e 1B69     		ldr	r3, [r3, #16]
 252              		.loc 1 113 4 view .LVU49
 253 0010 13F0010F 		tst	r3, #1
 254 0014 63D1     		bne	.L16
 114:Src/encoder.c **** 	{
 115:Src/encoder.c **** 		sl_delta_cnt_r = (int32_t)enc_cnt_r_new - (int32_t)enc_cnt_r_old;	//mã€€å³ã‚¿ã‚¤ãƒ¤ã®ã‚«ã‚¦ãƒ³ã
 255              		.loc 1 115 3 is_stmt 1 view .LVU50
 256              		.loc 1 115 45 is_stmt 0 view .LVU51
 257 0016 524B     		ldr	r3, .L38+4
 258 0018 1B88     		ldrh	r3, [r3]
 259              		.loc 1 115 18 view .LVU52
 260 001a CB1A     		subs	r3, r1, r3
 261 001c 06EE903A 		vmov	s13, r3	@ int
 262              	.LVL4:
 263              	.L17:
 116:Src/encoder.c **** 	}
 117:Src/encoder.c **** 	else//overflowã€€or underflowãŒã‚ã‚‹ã¨ã(UIF=1)
 118:Src/encoder.c **** 	{
 119:Src/encoder.c **** 		if(enc_cnt_r_new >= enc_cnt_r_old)//m é€†å›žè»¢æ™‚
 120:Src/encoder.c **** 		{
 121:Src/encoder.c **** 			uss_delta_cnt_r = enc_cnt_r_old	- enc_cnt_r_new;
 122:Src/encoder.c **** 			sl_delta_cnt_r = -1 * (int32_t)uss_delta_cnt_r;
 123:Src/encoder.c **** 		}
 124:Src/encoder.c **** 		else	//m æ­£å›žè»¢æ™‚
 125:Src/encoder.c **** 		{
 126:Src/encoder.c **** 			uss_delta_cnt_r = enc_cnt_r_new	- enc_cnt_r_old;
 127:Src/encoder.c **** 			sl_delta_cnt_r = 1 * (int32_t)uss_delta_cnt_r;
 128:Src/encoder.c **** 		}
 129:Src/encoder.c **** 
 130:Src/encoder.c **** 		ENC_CNT_SR_R = ENC_CNT_SR_R & ~(0x0001); //UIFã‚¯ãƒªã‚¢
 131:Src/encoder.c **** 
 132:Src/encoder.c **** 	}
 133:Src/encoder.c **** 
 134:Src/encoder.c **** 
 135:Src/encoder.c **** 	if((ENC_CNT_SR_L & 0x0001) == 0x0000)//overflowãŒãªã„ã¨ã(UIF=0)
ARM GAS  C:\Temp\ccPeizZ9.s 			page 8


 264              		.loc 1 135 2 is_stmt 1 view .LVU53
 265              		.loc 1 135 6 is_stmt 0 view .LVU54
 266 0020 4E4B     		ldr	r3, .L38
 267 0022 1B69     		ldr	r3, [r3, #16]
 268              		.loc 1 135 4 view .LVU55
 269 0024 13F0010F 		tst	r3, #1
 270 0028 6ED1     		bne	.L20
 136:Src/encoder.c **** 	{
 137:Src/encoder.c **** 		sl_delta_cnt_l = (int32_t)enc_cnt_l_new - (int32_t)enc_cnt_l_old;	//mã€€å³ã‚¿ã‚¤ãƒ¤ã®ã‚«ã‚¦ãƒ³ã
 271              		.loc 1 137 3 is_stmt 1 view .LVU56
 272              		.loc 1 137 45 is_stmt 0 view .LVU57
 273 002a 4E4B     		ldr	r3, .L38+8
 274 002c 1B88     		ldrh	r3, [r3]
 275              		.loc 1 137 18 view .LVU58
 276 002e D31A     		subs	r3, r2, r3
 277 0030 07EE103A 		vmov	s14, r3	@ int
 278              	.LVL5:
 279              	.L21:
 138:Src/encoder.c **** 	}
 139:Src/encoder.c **** 	else//overflowã€€or underflowãŒã‚ã‚‹ã¨ã(UIF=1)
 140:Src/encoder.c **** 	{
 141:Src/encoder.c **** 		if(enc_cnt_l_new >= enc_cnt_l_old)//m é€†å›žè»¢æ™‚
 142:Src/encoder.c **** 		{
 143:Src/encoder.c **** 			uss_delta_cnt_l = enc_cnt_l_old	- enc_cnt_l_new;
 144:Src/encoder.c **** 			sl_delta_cnt_l = -1 * (int32_t)uss_delta_cnt_l;
 145:Src/encoder.c **** 		}
 146:Src/encoder.c **** 		else	//m æ­£å›žè»¢æ™‚
 147:Src/encoder.c **** 		{
 148:Src/encoder.c **** 			uss_delta_cnt_l = enc_cnt_l_new	- enc_cnt_l_old;
 149:Src/encoder.c **** 			sl_delta_cnt_l = 1 * (int32_t)uss_delta_cnt_l;
 150:Src/encoder.c **** 		}
 151:Src/encoder.c **** 
 152:Src/encoder.c **** 		ENC_CNT_SR_L = ENC_CNT_SR_L & ~(0x0001); //UIFã‚¯ãƒªã‚¢
 153:Src/encoder.c **** 
 154:Src/encoder.c **** 	}
 155:Src/encoder.c **** 
 156:Src/encoder.c **** 
 157:Src/encoder.c **** 
 158:Src/encoder.c **** 	/*m å„ã‚¿ã‚¤ãƒ¤ã®è§’é€Ÿåº¦ç®—å‡º */
 159:Src/encoder.c **** 	delta_angle_tire_r = -1 * 1000 * 2 * PI * (float)sl_delta_cnt_r / (float)ENC_RESOLUTION;//m å³ã‚¿
 280              		.loc 1 159 2 is_stmt 1 view .LVU59
 281              		.loc 1 159 44 is_stmt 0 view .LVU60
 282 0034 F8EEE66A 		vcvt.f32.s32	s13, s13
 283              	.LVL6:
 284              		.loc 1 159 42 view .LVU61
 285 0038 DFED4B7A 		vldr.32	s15, .L38+12
 286 003c 66EEA76A 		vmul.f32	s13, s13, s15
 287              		.loc 1 159 21 view .LVU62
 288 0040 9FED4A6A 		vldr.32	s12, .L38+16
 289 0044 C6EE867A 		vdiv.f32	s15, s13, s12
 290              	.LVL7:
 160:Src/encoder.c **** 	delta_angle_tire_l =  1 * 1000 * 2 * PI * (float)sl_delta_cnt_l / (float)ENC_RESOLUTION;//m å·¦ã‚¿
 291              		.loc 1 160 2 is_stmt 1 view .LVU63
 292              		.loc 1 160 44 is_stmt 0 view .LVU64
 293 0048 B8EEC77A 		vcvt.f32.s32	s14, s14
 294              	.LVL8:
 295              		.loc 1 160 42 view .LVU65
ARM GAS  C:\Temp\ccPeizZ9.s 			page 9


 296 004c DFED486A 		vldr.32	s13, .L38+20
 297 0050 27EE267A 		vmul.f32	s14, s14, s13
 298              		.loc 1 160 21 view .LVU66
 299 0054 C7EE066A 		vdiv.f32	s13, s14, s12
 300              	.LVL9:
 161:Src/encoder.c **** 
 162:Src/encoder.c **** 	/*m å„ãƒ¢ãƒ¼ã‚¿ã®è§’é€Ÿåº¦ç®—å‡º*/
 163:Src/encoder.c **** 	delta_angle_motor_r = gear_rate * delta_angle_tire_r;
 301              		.loc 1 163 2 is_stmt 1 view .LVU67
 302              		.loc 1 163 34 is_stmt 0 view .LVU68
 303 0058 9FED467A 		vldr.32	s14, .L38+24
 304 005c 27EE876A 		vmul.f32	s12, s15, s14
 305              		.loc 1 163 22 view .LVU69
 306 0060 454B     		ldr	r3, .L38+28
 307 0062 83ED006A 		vstr.32	s12, [r3]
 164:Src/encoder.c **** 	delta_angle_motor_l = gear_rate * delta_angle_tire_l;
 308              		.loc 1 164 2 is_stmt 1 view .LVU70
 309              		.loc 1 164 34 is_stmt 0 view .LVU71
 310 0066 26EE877A 		vmul.f32	s14, s13, s14
 311              		.loc 1 164 22 view .LVU72
 312 006a 444B     		ldr	r3, .L38+32
 313 006c 83ED007A 		vstr.32	s14, [r3]
 165:Src/encoder.c **** 
 166:Src/encoder.c **** 	/*m å„ã‚¿ã‚¤ãƒ¤ã®è§’é€Ÿåº¦ã‹ã‚‰å„ã‚¿ã‚¤ãƒ¤ã®é€Ÿåº¦ç®—å‡ºã€€*/
 167:Src/encoder.c **** 	speed_r = Tire_diameter * 0.5 * delta_angle_tire_r;	//m å³ã‚¿ã‚¤ãƒ¤é€Ÿåº¦[ m/s]
 314              		.loc 1 167 2 is_stmt 1 view .LVU73
 315              		.loc 1 167 10 is_stmt 0 view .LVU74
 316 0070 9FED437A 		vldr.32	s14, .L38+36
 317 0074 67EE877A 		vmul.f32	s15, s15, s14
 318              	.LVL10:
 319              		.loc 1 167 10 view .LVU75
 320 0078 424B     		ldr	r3, .L38+40
 321 007a C3ED007A 		vstr.32	s15, [r3]
 168:Src/encoder.c **** 	speed_l = Tire_diameter * 0.5 * delta_angle_tire_l;	//m å·¦ã‚¿ã‚¤ãƒ¤é€Ÿåº¦[ m/s]
 322              		.loc 1 168 2 is_stmt 1 view .LVU76
 323              		.loc 1 168 10 is_stmt 0 view .LVU77
 324 007e 26EE877A 		vmul.f32	s14, s13, s14
 325 0082 414B     		ldr	r3, .L38+44
 326 0084 83ED007A 		vstr.32	s14, [r3]
 169:Src/encoder.c **** 
 170:Src/encoder.c **** 
 171:Src/encoder.c **** 
 172:Src/encoder.c **** 	if(speed_r > speed_r_max)
 327              		.loc 1 172 2 is_stmt 1 view .LVU78
 328              		.loc 1 172 13 is_stmt 0 view .LVU79
 329 0088 404B     		ldr	r3, .L38+48
 330 008a D3ED006A 		vldr.32	s13, [r3]
 331              	.LVL11:
 332              		.loc 1 172 4 view .LVU80
 333 008e F4EEE67A 		vcmpe.f32	s15, s13
 334 0092 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 335 0096 4BDD     		ble	.L36
 173:Src/encoder.c **** 	{
 174:Src/encoder.c **** 		speed_r_max = speed_r;
 336              		.loc 1 174 3 is_stmt 1 view .LVU81
 337              		.loc 1 174 15 is_stmt 0 view .LVU82
 338 0098 C3ED007A 		vstr.32	s15, [r3]
ARM GAS  C:\Temp\ccPeizZ9.s 			page 10


 339              	.L26:
 175:Src/encoder.c **** 	}
 176:Src/encoder.c **** 	else if(speed_r < speed_r_min)
 177:Src/encoder.c **** 	{
 178:Src/encoder.c **** 		speed_r_min = speed_r;
 179:Src/encoder.c **** 	}
 180:Src/encoder.c **** 
 181:Src/encoder.c **** 	if(speed_l > speed_l_max)
 340              		.loc 1 181 2 is_stmt 1 view .LVU83
 341              		.loc 1 181 13 is_stmt 0 view .LVU84
 342 009c 3C4B     		ldr	r3, .L38+52
 343 009e D3ED006A 		vldr.32	s13, [r3]
 344              		.loc 1 181 4 view .LVU85
 345 00a2 B4EEE67A 		vcmpe.f32	s14, s13
 346 00a6 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 347 00aa 4CDD     		ble	.L37
 182:Src/encoder.c **** 	{
 183:Src/encoder.c **** 		speed_l_max = speed_l;
 348              		.loc 1 183 3 is_stmt 1 view .LVU86
 349              		.loc 1 183 15 is_stmt 0 view .LVU87
 350 00ac 83ED007A 		vstr.32	s14, [r3]
 351              	.L30:
 184:Src/encoder.c **** 	}
 185:Src/encoder.c **** 	else if(speed_l < speed_l_min)
 186:Src/encoder.c **** 	{
 187:Src/encoder.c **** 		speed_l_min = speed_l;
 188:Src/encoder.c **** 	}
 189:Src/encoder.c **** 
 190:Src/encoder.c **** 	speed_m = (speed_r + speed_l)/2;					//m æœ¬ä½“é€Ÿåº¦ï¼ˆå³ã¨å·¦ã®å¹³å‡å€¤ï¼‰  [m/s]
 352              		.loc 1 190 2 is_stmt 1 view .LVU88
 353              		.loc 1 190 21 is_stmt 0 view .LVU89
 354 00b0 77EE876A 		vadd.f32	s13, s15, s14
 355              		.loc 1 190 31 view .LVU90
 356 00b4 B6EE006A 		vmov.f32	s12, #5.0e-1
 357 00b8 66EE866A 		vmul.f32	s13, s13, s12
 358              		.loc 1 190 10 view .LVU91
 359 00bc 354B     		ldr	r3, .L38+56
 360 00be C3ED006A 		vstr.32	s13, [r3]
 191:Src/encoder.c **** 	speed_rad = (-speed_l + speed_r) / chassis_width;	//m ã‚¨ãƒ³ã‚³ãƒ¼ãƒ€å€¤ã‹ã‚‰ç®—å‡ºã•ã‚Œã‚‹è§’é€
 361              		.loc 1 191 2 is_stmt 1 view .LVU92
 362              		.loc 1 191 24 is_stmt 0 view .LVU93
 363 00c2 77EEC77A 		vsub.f32	s15, s15, s14
 364              		.loc 1 191 35 view .LVU94
 365 00c6 DFED346A 		vldr.32	s13, .L38+60
 366 00ca 87EEA67A 		vdiv.f32	s14, s15, s13
 367              		.loc 1 191 12 view .LVU95
 368 00ce 334B     		ldr	r3, .L38+64
 369 00d0 83ED007A 		vstr.32	s14, [r3]
 192:Src/encoder.c **** 
 193:Src/encoder.c **** 
 194:Src/encoder.c **** 	enc_cnt_r_old	=	enc_cnt_r_new;	//m å³ã‚¿ã‚¤ãƒ¤ã®ã‚«ã‚¦ãƒ³ãƒˆå€¤ã‚’æ›´æ–°
 370              		.loc 1 194 2 is_stmt 1 view .LVU96
 371              		.loc 1 194 16 is_stmt 0 view .LVU97
 372 00d4 224B     		ldr	r3, .L38+4
 373 00d6 1980     		strh	r1, [r3]	@ movhi
 195:Src/encoder.c **** 	enc_cnt_l_old	=	enc_cnt_l_new;	//m å·¦ã‚¿ã‚¤ãƒ¤ã®ã‚«ã‚¦ãƒ³ãƒˆå€¤ã‚’æ›´æ–°
 374              		.loc 1 195 2 is_stmt 1 view .LVU98
ARM GAS  C:\Temp\ccPeizZ9.s 			page 11


 375              		.loc 1 195 16 is_stmt 0 view .LVU99
 376 00d8 224B     		ldr	r3, .L38+8
 377 00da 1A80     		strh	r2, [r3]	@ movhi
 196:Src/encoder.c **** 
 197:Src/encoder.c **** }
 378              		.loc 1 197 1 view .LVU100
 379 00dc 7047     		bx	lr
 380              	.L16:
 119:Src/encoder.c **** 		{
 381              		.loc 1 119 3 is_stmt 1 view .LVU101
 119:Src/encoder.c **** 		{
 382              		.loc 1 119 20 is_stmt 0 view .LVU102
 383 00de 204B     		ldr	r3, .L38+4
 384 00e0 1B88     		ldrh	r3, [r3]
 119:Src/encoder.c **** 		{
 385              		.loc 1 119 5 view .LVU103
 386 00e2 9942     		cmp	r1, r3
 387 00e4 0BD3     		bcc	.L18
 121:Src/encoder.c **** 			sl_delta_cnt_r = -1 * (int32_t)uss_delta_cnt_r;
 388              		.loc 1 121 4 is_stmt 1 view .LVU104
 121:Src/encoder.c **** 			sl_delta_cnt_r = -1 * (int32_t)uss_delta_cnt_r;
 389              		.loc 1 121 20 is_stmt 0 view .LVU105
 390 00e6 5B1A     		subs	r3, r3, r1
 391 00e8 9BB2     		uxth	r3, r3
 392              	.LVL12:
 122:Src/encoder.c **** 		}
 393              		.loc 1 122 4 is_stmt 1 view .LVU106
 122:Src/encoder.c **** 		}
 394              		.loc 1 122 19 is_stmt 0 view .LVU107
 395 00ea 5B42     		rsbs	r3, r3, #0
 396              	.LVL13:
 122:Src/encoder.c **** 		}
 397              		.loc 1 122 19 view .LVU108
 398 00ec 06EE903A 		vmov	s13, r3	@ int
 399              	.LVL14:
 400              	.L19:
 130:Src/encoder.c **** 
 401              		.loc 1 130 3 is_stmt 1 view .LVU109
 130:Src/encoder.c **** 
 402              		.loc 1 130 18 is_stmt 0 view .LVU110
 403 00f0 4FF08040 		mov	r0, #1073741824
 404 00f4 0369     		ldr	r3, [r0, #16]
 405              	.LVL15:
 130:Src/encoder.c **** 
 406              		.loc 1 130 31 view .LVU111
 407 00f6 23F00103 		bic	r3, r3, #1
 130:Src/encoder.c **** 
 408              		.loc 1 130 16 view .LVU112
 409 00fa 0361     		str	r3, [r0, #16]
 410 00fc 90E7     		b	.L17
 411              	.LVL16:
 412              	.L18:
 126:Src/encoder.c **** 			sl_delta_cnt_r = 1 * (int32_t)uss_delta_cnt_r;
 413              		.loc 1 126 4 is_stmt 1 view .LVU113
 126:Src/encoder.c **** 			sl_delta_cnt_r = 1 * (int32_t)uss_delta_cnt_r;
 414              		.loc 1 126 20 is_stmt 0 view .LVU114
 415 00fe CB1A     		subs	r3, r1, r3
ARM GAS  C:\Temp\ccPeizZ9.s 			page 12


 416 0100 9BB2     		uxth	r3, r3
 417 0102 06EE903A 		vmov	s13, r3	@ int
 127:Src/encoder.c **** 		}
 418              		.loc 1 127 4 is_stmt 1 view .LVU115
 419              	.LVL17:
 127:Src/encoder.c **** 		}
 420              		.loc 1 127 4 is_stmt 0 view .LVU116
 421 0106 F3E7     		b	.L19
 422              	.LVL18:
 423              	.L20:
 141:Src/encoder.c **** 		{
 424              		.loc 1 141 3 is_stmt 1 view .LVU117
 141:Src/encoder.c **** 		{
 425              		.loc 1 141 20 is_stmt 0 view .LVU118
 426 0108 164B     		ldr	r3, .L38+8
 427 010a 1B88     		ldrh	r3, [r3]
 141:Src/encoder.c **** 		{
 428              		.loc 1 141 5 view .LVU119
 429 010c 9A42     		cmp	r2, r3
 430 010e 0AD3     		bcc	.L22
 143:Src/encoder.c **** 			sl_delta_cnt_l = -1 * (int32_t)uss_delta_cnt_l;
 431              		.loc 1 143 4 is_stmt 1 view .LVU120
 143:Src/encoder.c **** 			sl_delta_cnt_l = -1 * (int32_t)uss_delta_cnt_l;
 432              		.loc 1 143 20 is_stmt 0 view .LVU121
 433 0110 9B1A     		subs	r3, r3, r2
 434 0112 9BB2     		uxth	r3, r3
 435              	.LVL19:
 144:Src/encoder.c **** 		}
 436              		.loc 1 144 4 is_stmt 1 view .LVU122
 144:Src/encoder.c **** 		}
 437              		.loc 1 144 19 is_stmt 0 view .LVU123
 438 0114 5B42     		rsbs	r3, r3, #0
 439              	.LVL20:
 144:Src/encoder.c **** 		}
 440              		.loc 1 144 19 view .LVU124
 441 0116 07EE103A 		vmov	s14, r3	@ int
 442              	.LVL21:
 443              	.L23:
 152:Src/encoder.c **** 
 444              		.loc 1 152 3 is_stmt 1 view .LVU125
 152:Src/encoder.c **** 
 445              		.loc 1 152 18 is_stmt 0 view .LVU126
 446 011a 1048     		ldr	r0, .L38
 447 011c 0369     		ldr	r3, [r0, #16]
 448              	.LVL22:
 152:Src/encoder.c **** 
 449              		.loc 1 152 31 view .LVU127
 450 011e 23F00103 		bic	r3, r3, #1
 152:Src/encoder.c **** 
 451              		.loc 1 152 16 view .LVU128
 452 0122 0361     		str	r3, [r0, #16]
 453 0124 86E7     		b	.L21
 454              	.LVL23:
 455              	.L22:
 148:Src/encoder.c **** 			sl_delta_cnt_l = 1 * (int32_t)uss_delta_cnt_l;
 456              		.loc 1 148 4 is_stmt 1 view .LVU129
 148:Src/encoder.c **** 			sl_delta_cnt_l = 1 * (int32_t)uss_delta_cnt_l;
ARM GAS  C:\Temp\ccPeizZ9.s 			page 13


 457              		.loc 1 148 20 is_stmt 0 view .LVU130
 458 0126 D31A     		subs	r3, r2, r3
 459 0128 9BB2     		uxth	r3, r3
 460 012a 07EE103A 		vmov	s14, r3	@ int
 149:Src/encoder.c **** 		}
 461              		.loc 1 149 4 is_stmt 1 view .LVU131
 462              	.LVL24:
 149:Src/encoder.c **** 		}
 463              		.loc 1 149 4 is_stmt 0 view .LVU132
 464 012e F4E7     		b	.L23
 465              	.LVL25:
 466              	.L36:
 176:Src/encoder.c **** 	{
 467              		.loc 1 176 7 is_stmt 1 view .LVU133
 176:Src/encoder.c **** 	{
 468              		.loc 1 176 18 is_stmt 0 view .LVU134
 469 0130 1B4B     		ldr	r3, .L38+68
 470 0132 D3ED006A 		vldr.32	s13, [r3]
 176:Src/encoder.c **** 	{
 471              		.loc 1 176 9 view .LVU135
 472 0136 F4EEE67A 		vcmpe.f32	s15, s13
 473 013a F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 474 013e ADD5     		bpl	.L26
 178:Src/encoder.c **** 	}
 475              		.loc 1 178 3 is_stmt 1 view .LVU136
 178:Src/encoder.c **** 	}
 476              		.loc 1 178 15 is_stmt 0 view .LVU137
 477 0140 C3ED007A 		vstr.32	s15, [r3]
 478 0144 AAE7     		b	.L26
 479              	.L37:
 185:Src/encoder.c **** 	{
 480              		.loc 1 185 7 is_stmt 1 view .LVU138
 185:Src/encoder.c **** 	{
 481              		.loc 1 185 18 is_stmt 0 view .LVU139
 482 0146 174B     		ldr	r3, .L38+72
 483 0148 D3ED006A 		vldr.32	s13, [r3]
 185:Src/encoder.c **** 	{
 484              		.loc 1 185 9 view .LVU140
 485 014c B4EEE67A 		vcmpe.f32	s14, s13
 486 0150 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 487 0154 ACD5     		bpl	.L30
 187:Src/encoder.c **** 	}
 488              		.loc 1 187 3 is_stmt 1 view .LVU141
 187:Src/encoder.c **** 	}
 489              		.loc 1 187 15 is_stmt 0 view .LVU142
 490 0156 83ED007A 		vstr.32	s14, [r3]
 491 015a A9E7     		b	.L30
 492              	.L39:
 493              		.align	2
 494              	.L38:
 495 015c 00040040 		.word	1073742848
 496 0160 00000000 		.word	.LANCHOR0
 497 0164 00000000 		.word	.LANCHOR1
 498 0168 7B59C4C5 		.word	-976987781
 499 016c 00C07F44 		.word	1149222912
 500 0170 7B59C445 		.word	1170495867
 501 0174 398E8340 		.word	1082363449
ARM GAS  C:\Temp\ccPeizZ9.s 			page 14


 502 0178 00000000 		.word	.LANCHOR2
 503 017c 00000000 		.word	.LANCHOR3
 504 0180 2F50D23B 		.word	1003638831
 505 0184 00000000 		.word	.LANCHOR4
 506 0188 00000000 		.word	.LANCHOR5
 507 018c 00000000 		.word	.LANCHOR6
 508 0190 00000000 		.word	.LANCHOR8
 509 0194 00000000 		.word	.LANCHOR10
 510 0198 F7AD163D 		.word	1024896503
 511 019c 00000000 		.word	.LANCHOR11
 512 01a0 00000000 		.word	.LANCHOR7
 513 01a4 00000000 		.word	.LANCHOR9
 514              		.cfi_endproc
 515              	.LFE138:
 517              		.global	__aeabi_f2d
 518              		.global	__aeabi_dmul
 519              		.global	__aeabi_dadd
 520              		.global	__aeabi_d2f
 521              		.section	.text.speed_m_average,"ax",%progbits
 522              		.align	1
 523              		.global	speed_m_average
 524              		.syntax unified
 525              		.thumb
 526              		.thumb_func
 527              		.fpu fpv4-sp-d16
 529              	speed_m_average:
 530              	.LFB139:
 198:Src/encoder.c **** 
 199:Src/encoder.c **** /* ---------------------------------------------------------------
 200:Src/encoder.c **** 	ä¸¦é€²æ–¹å‘ã®é€Ÿåº¦ã«ç§»å‹•å¹³å‡ã‚’ã‹ã‘ã€é…ã‚Œã‚’è£œå®Œã™ã‚‹é–¢æ•°(1msã‚¿ã‚¹ã‚¯)
 201:Src/encoder.c **** --------------------------------------------------------------- */
 202:Src/encoder.c **** void speed_m_average( void )
 203:Src/encoder.c **** {
 531              		.loc 1 203 1 is_stmt 1 view -0
 532              		.cfi_startproc
 533              		@ args = 0, pretend = 0, frame = 0
 534              		@ frame_needed = 0, uses_anonymous_args = 0
 535 0000 38B5     		push	{r3, r4, r5, lr}
 536              	.LCFI1:
 537              		.cfi_def_cfa_offset 16
 538              		.cfi_offset 3, -16
 539              		.cfi_offset 4, -12
 540              		.cfi_offset 5, -8
 541              		.cfi_offset 14, -4
 542 0002 2DED028B 		vpush.64	{d8}
 543              	.LCFI2:
 544              		.cfi_def_cfa_offset 24
 545              		.cfi_offset 80, -24
 546              		.cfi_offset 81, -20
 204:Src/encoder.c **** 	static uint16_t l_ave_counter = 0;
 547              		.loc 1 204 2 view .LVU144
 205:Src/encoder.c **** 	uint16_t i = 0;
 548              		.loc 1 205 2 view .LVU145
 549              	.LVL26:
 206:Src/encoder.c **** 	uint16_t j = 0;
 550              		.loc 1 206 2 view .LVU146
 207:Src/encoder.c **** 
ARM GAS  C:\Temp\ccPeizZ9.s 			page 15


 208:Src/encoder.c **** 	float l_ave_speed_m = 0;	//m ä¸¦é€²æ–¹å‘é€Ÿåº¦å¹³å‡
 551              		.loc 1 208 2 view .LVU147
 209:Src/encoder.c **** 	float l_ave_accel_m = 0;	//m ä¸¦é€²æ–¹å‘åŠ é€Ÿåº¦
 552              		.loc 1 209 2 view .LVU148
 210:Src/encoder.c **** 
 211:Src/encoder.c **** 	float l_sum_speed_m = 0; 	//m ä¸¦é€²æ–¹å‘é€Ÿåº¦åˆè¨ˆ
 553              		.loc 1 211 2 view .LVU149
 212:Src/encoder.c **** 	float l_sum_accel_m = 0;	//m ä¸¦é€²æ–¹å‘åŠ é€Ÿåº¦åˆè¨ˆ
 554              		.loc 1 212 2 view .LVU150
 213:Src/encoder.c **** 
 214:Src/encoder.c **** 	i = l_ave_counter % m_ave_num;
 555              		.loc 1 214 2 view .LVU151
 556              		.loc 1 214 4 is_stmt 0 view .LVU152
 557 0006 3A4B     		ldr	r3, .L53+8
 558 0008 1A88     		ldrh	r2, [r3]
 559 000a 3A4B     		ldr	r3, .L53+12
 560 000c A3FB0213 		umull	r1, r3, r3, r2
 561 0010 DB08     		lsrs	r3, r3, #3
 562 0012 03EB8303 		add	r3, r3, r3, lsl #2
 563 0016 A2EB4303 		sub	r3, r2, r3, lsl #1
 564 001a 9BB2     		uxth	r3, r3
 565              	.LVL27:
 215:Src/encoder.c **** 
 216:Src/encoder.c **** 	ave_store[i].speed_m = speed_m;
 566              		.loc 1 216 2 is_stmt 1 view .LVU153
 567              		.loc 1 216 23 is_stmt 0 view .LVU154
 568 001c 364C     		ldr	r4, .L53+16
 569 001e 04EBC304 		add	r4, r4, r3, lsl #3
 570 0022 364B     		ldr	r3, .L53+20
 571              	.LVL28:
 572              		.loc 1 216 23 view .LVU155
 573 0024 1B68     		ldr	r3, [r3]	@ float
 574 0026 2360     		str	r3, [r4]	@ float
 217:Src/encoder.c **** 	ave_store[i].accel_m = IMU_GetAccel_X();
 575              		.loc 1 217 2 is_stmt 1 view .LVU156
 576              		.loc 1 217 25 is_stmt 0 view .LVU157
 577 0028 FFF7FEFF 		bl	IMU_GetAccel_X
 578              	.LVL29:
 579              		.loc 1 217 23 view .LVU158
 580 002c 84ED010A 		vstr.32	s0, [r4, #4]
 218:Src/encoder.c **** 
 219:Src/encoder.c **** 	for(j=0; j < m_ave_num; j++)
 581              		.loc 1 219 2 is_stmt 1 view .LVU159
 212:Src/encoder.c **** 
 582              		.loc 1 212 8 is_stmt 0 view .LVU160
 583 0030 DFED337A 		vldr.32	s15, .L53+24
 211:Src/encoder.c **** 	float l_sum_accel_m = 0;	//m ä¸¦é€²æ–¹å‘åŠ é€Ÿåº¦åˆè¨ˆ
 584              		.loc 1 211 8 view .LVU161
 585 0034 B0EE677A 		vmov.f32	s14, s15
 586              		.loc 1 219 7 view .LVU162
 587 0038 0023     		movs	r3, #0
 588              	.LVL30:
 589              	.L41:
 590              		.loc 1 219 11 is_stmt 1 discriminator 1 view .LVU163
 591              		.loc 1 219 2 is_stmt 0 discriminator 1 view .LVU164
 592 003a 092B     		cmp	r3, #9
 593 003c 0DD8     		bhi	.L51
ARM GAS  C:\Temp\ccPeizZ9.s 			page 16


 220:Src/encoder.c **** 	{
 221:Src/encoder.c **** 		l_sum_speed_m += ave_store[j].speed_m;
 594              		.loc 1 221 3 is_stmt 1 discriminator 3 view .LVU165
 595              		.loc 1 221 32 is_stmt 0 discriminator 3 view .LVU166
 596 003e 2E4A     		ldr	r2, .L53+16
 597 0040 02EBC302 		add	r2, r2, r3, lsl #3
 598 0044 D2ED006A 		vldr.32	s13, [r2]
 599              		.loc 1 221 17 discriminator 3 view .LVU167
 600 0048 37EE267A 		vadd.f32	s14, s14, s13
 601              	.LVL31:
 222:Src/encoder.c **** 		l_sum_accel_m += ave_store[j].accel_m;
 602              		.loc 1 222 3 is_stmt 1 discriminator 3 view .LVU168
 603              		.loc 1 222 32 is_stmt 0 discriminator 3 view .LVU169
 604 004c D2ED016A 		vldr.32	s13, [r2, #4]
 605              		.loc 1 222 17 discriminator 3 view .LVU170
 606 0050 77EEA67A 		vadd.f32	s15, s15, s13
 607              	.LVL32:
 219:Src/encoder.c **** 	{
 608              		.loc 1 219 26 is_stmt 1 discriminator 3 view .LVU171
 219:Src/encoder.c **** 	{
 609              		.loc 1 219 27 is_stmt 0 discriminator 3 view .LVU172
 610 0054 0133     		adds	r3, r3, #1
 611              	.LVL33:
 219:Src/encoder.c **** 	{
 612              		.loc 1 219 27 discriminator 3 view .LVU173
 613 0056 9BB2     		uxth	r3, r3
 614              	.LVL34:
 219:Src/encoder.c **** 	{
 615              		.loc 1 219 27 discriminator 3 view .LVU174
 616 0058 EFE7     		b	.L41
 617              	.L51:
 223:Src/encoder.c **** 	}
 224:Src/encoder.c **** 
 225:Src/encoder.c **** 	l_ave_speed_m = l_sum_speed_m / m_ave_num;
 618              		.loc 1 225 2 is_stmt 1 view .LVU175
 619              		.loc 1 225 16 is_stmt 0 view .LVU176
 620 005a F2EE046A 		vmov.f32	s13, #1.0e+1
 621 005e C7EE268A 		vdiv.f32	s17, s14, s13
 622              	.LVL35:
 226:Src/encoder.c **** 	l_ave_accel_m = l_sum_accel_m / m_ave_num;
 623              		.loc 1 226 2 is_stmt 1 view .LVU177
 624              		.loc 1 226 16 is_stmt 0 view .LVU178
 625 0062 87EEA68A 		vdiv.f32	s16, s15, s13
 626              	.LVL36:
 227:Src/encoder.c **** 
 228:Src/encoder.c **** 	/*åŠ é€Ÿåº¦ã‚»ãƒ³ã‚µã®ã¶ã‚Œã‚’è£œæ­£ã€é–¾å€¤ç¯„å›²å†…ã‚’ï¼ã¨ã™ã‚‹*/
 229:Src/encoder.c **** 	if(ABS(l_ave_accel_m) < 0.5)
 627              		.loc 1 229 2 is_stmt 1 view .LVU179
 628              		.loc 1 229 24 is_stmt 0 view .LVU180
 629 0066 B5EEC08A 		vcmpe.f32	s16, #0
 630 006a F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 631 006e 30D4     		bmi	.L52
 632              		.loc 1 229 24 discriminator 2 view .LVU181
 633 0070 F6EE007A 		vmov.f32	s15, #5.0e-1
 634              	.LVL37:
 635              		.loc 1 229 24 discriminator 2 view .LVU182
 636 0074 B4EEE78A 		vcmpe.f32	s16, s15
ARM GAS  C:\Temp\ccPeizZ9.s 			page 17


 637 0078 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 638 007c 4CBF     		ite	mi
 639 007e 0123     		movmi	r3, #1
 640              	.LVL38:
 641              		.loc 1 229 24 discriminator 2 view .LVU183
 642 0080 0023     		movpl	r3, #0
 643              	.L45:
 644              		.loc 1 229 4 discriminator 4 view .LVU184
 645 0082 0BB1     		cbz	r3, .L46
 230:Src/encoder.c **** 	{
 231:Src/encoder.c **** 		l_ave_accel_m = 0;
 646              		.loc 1 231 17 view .LVU185
 647 0084 9FED1E8A 		vldr.32	s16, .L53+24
 648              	.LVL39:
 649              	.L46:
 232:Src/encoder.c **** 	}
 233:Src/encoder.c **** 
 234:Src/encoder.c **** 	/*m é…ã‚Œè£œæ­£*/
 235:Src/encoder.c **** 	l_ave_speed_m += 0.5 * ( l_ave_accel_m * (m_ave_num * 0.001)); //m å¹³å‡é€Ÿåº¦ï¼‹0.5(ã€€åŠ é€Ÿåº¦
 650              		.loc 1 235 2 is_stmt 1 view .LVU186
 651              		.loc 1 235 41 is_stmt 0 view .LVU187
 652 0088 18EE100A 		vmov	r0, s16
 653 008c FFF7FEFF 		bl	__aeabi_f2d
 654              	.LVL40:
 655              		.loc 1 235 41 view .LVU188
 656 0090 15A3     		adr	r3, .L53
 657 0092 D3E90023 		ldrd	r2, [r3]
 658 0096 FFF7FEFF 		bl	__aeabi_dmul
 659              	.LVL41:
 660              		.loc 1 235 23 view .LVU189
 661 009a 0022     		movs	r2, #0
 662 009c 194B     		ldr	r3, .L53+28
 663 009e FFF7FEFF 		bl	__aeabi_dmul
 664              	.LVL42:
 665 00a2 0446     		mov	r4, r0
 666 00a4 0D46     		mov	r5, r1
 667              		.loc 1 235 16 view .LVU190
 668 00a6 18EE900A 		vmov	r0, s17
 669 00aa FFF7FEFF 		bl	__aeabi_f2d
 670              	.LVL43:
 671 00ae 2246     		mov	r2, r4
 672 00b0 2B46     		mov	r3, r5
 673 00b2 FFF7FEFF 		bl	__aeabi_dadd
 674              	.LVL44:
 675 00b6 FFF7FEFF 		bl	__aeabi_d2f
 676              	.LVL45:
 236:Src/encoder.c **** 
 237:Src/encoder.c **** 
 238:Src/encoder.c **** 	g_ave_speed_m = l_ave_speed_m;
 677              		.loc 1 238 2 is_stmt 1 view .LVU191
 678              		.loc 1 238 16 is_stmt 0 view .LVU192
 679 00ba 134B     		ldr	r3, .L53+32
 680 00bc 1860     		str	r0, [r3]	@ float
 239:Src/encoder.c **** 	g_ave_accel_m = l_ave_accel_m;
 681              		.loc 1 239 2 is_stmt 1 view .LVU193
 682              		.loc 1 239 16 is_stmt 0 view .LVU194
 683 00be 134B     		ldr	r3, .L53+36
ARM GAS  C:\Temp\ccPeizZ9.s 			page 18


 684 00c0 83ED008A 		vstr.32	s16, [r3]
 240:Src/encoder.c **** 
 241:Src/encoder.c **** 
 242:Src/encoder.c **** 	l_ave_counter += 1 ;
 685              		.loc 1 242 2 is_stmt 1 view .LVU195
 686              		.loc 1 242 16 is_stmt 0 view .LVU196
 687 00c4 0A4A     		ldr	r2, .L53+8
 688 00c6 1388     		ldrh	r3, [r2]
 689 00c8 0133     		adds	r3, r3, #1
 690 00ca 1380     		strh	r3, [r2]	@ movhi
 243:Src/encoder.c **** }
 691              		.loc 1 243 1 view .LVU197
 692 00cc BDEC028B 		vldm	sp!, {d8}
 693              	.LCFI3:
 694              		.cfi_remember_state
 695              		.cfi_restore 80
 696              		.cfi_restore 81
 697              		.cfi_def_cfa_offset 16
 698              	.LVL46:
 699              		.loc 1 243 1 view .LVU198
 700 00d0 38BD     		pop	{r3, r4, r5, pc}
 701              	.LVL47:
 702              	.L52:
 703              	.LCFI4:
 704              		.cfi_restore_state
 229:Src/encoder.c **** 	{
 705              		.loc 1 229 24 discriminator 1 view .LVU199
 706 00d2 FEEE007A 		vmov.f32	s15, #-5.0e-1
 707              	.LVL48:
 229:Src/encoder.c **** 	{
 708              		.loc 1 229 24 discriminator 1 view .LVU200
 709 00d6 B4EEE78A 		vcmpe.f32	s16, s15
 710 00da F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 711 00de CCBF     		ite	gt
 712 00e0 0123     		movgt	r3, #1
 713              	.LVL49:
 229:Src/encoder.c **** 	{
 714              		.loc 1 229 24 discriminator 1 view .LVU201
 715 00e2 0023     		movle	r3, #0
 716 00e4 CDE7     		b	.L45
 717              	.L54:
 718 00e6 00BF     		.align	3
 719              	.L53:
 720 00e8 7B14AE47 		.word	1202590843
 721 00ec E17A843F 		.word	1065646817
 722 00f0 00000000 		.word	.LANCHOR12
 723 00f4 CDCCCCCC 		.word	-858993459
 724 00f8 00000000 		.word	.LANCHOR13
 725 00fc 00000000 		.word	.LANCHOR10
 726 0100 00000000 		.word	0
 727 0104 0000E03F 		.word	1071644672
 728 0108 00000000 		.word	.LANCHOR14
 729 010c 00000000 		.word	.LANCHOR15
 730              		.cfi_endproc
 731              	.LFE139:
 733              		.global	delta_angle_motor_l
 734              		.global	delta_angle_motor_r
ARM GAS  C:\Temp\ccPeizZ9.s 			page 19


 735              		.global	speed_rad
 736              		.global	g_ave_accel_m
 737              		.global	g_ave_speed_m
 738              		.global	speed_m
 739              		.global	speed_l_min
 740              		.global	speed_l_max
 741              		.global	speed_l
 742              		.global	speed_r_min
 743              		.global	speed_r_max
 744              		.global	speed_r
 745              		.section	.bss.ave_store,"aw",%nobits
 746              		.align	2
 747              		.set	.LANCHOR13,. + 0
 750              	ave_store:
 751 0000 00000000 		.space	80
 751      00000000 
 751      00000000 
 751      00000000 
 751      00000000 
 752              		.section	.bss.delta_angle_motor_l,"aw",%nobits
 753              		.align	2
 754              		.set	.LANCHOR3,. + 0
 757              	delta_angle_motor_l:
 758 0000 00000000 		.space	4
 759              		.section	.bss.delta_angle_motor_r,"aw",%nobits
 760              		.align	2
 761              		.set	.LANCHOR2,. + 0
 764              	delta_angle_motor_r:
 765 0000 00000000 		.space	4
 766              		.section	.bss.enc_cnt_l_old,"aw",%nobits
 767              		.align	1
 768              		.set	.LANCHOR1,. + 0
 771              	enc_cnt_l_old:
 772 0000 0000     		.space	2
 773              		.section	.bss.enc_cnt_r_old,"aw",%nobits
 774              		.align	1
 775              		.set	.LANCHOR0,. + 0
 778              	enc_cnt_r_old:
 779 0000 0000     		.space	2
 780              		.section	.bss.g_ave_accel_m,"aw",%nobits
 781              		.align	2
 782              		.set	.LANCHOR15,. + 0
 785              	g_ave_accel_m:
 786 0000 00000000 		.space	4
 787              		.section	.bss.g_ave_speed_m,"aw",%nobits
 788              		.align	2
 789              		.set	.LANCHOR14,. + 0
 792              	g_ave_speed_m:
 793 0000 00000000 		.space	4
 794              		.section	.bss.l_ave_counter.10212,"aw",%nobits
 795              		.align	1
 796              		.set	.LANCHOR12,. + 0
 799              	l_ave_counter.10212:
 800 0000 0000     		.space	2
 801              		.section	.bss.speed_l,"aw",%nobits
 802              		.align	2
 803              		.set	.LANCHOR5,. + 0
ARM GAS  C:\Temp\ccPeizZ9.s 			page 20


 806              	speed_l:
 807 0000 00000000 		.space	4
 808              		.section	.bss.speed_l_max,"aw",%nobits
 809              		.align	2
 810              		.set	.LANCHOR8,. + 0
 813              	speed_l_max:
 814 0000 00000000 		.space	4
 815              		.section	.bss.speed_l_min,"aw",%nobits
 816              		.align	2
 817              		.set	.LANCHOR9,. + 0
 820              	speed_l_min:
 821 0000 00000000 		.space	4
 822              		.section	.bss.speed_m,"aw",%nobits
 823              		.align	2
 824              		.set	.LANCHOR10,. + 0
 827              	speed_m:
 828 0000 00000000 		.space	4
 829              		.section	.bss.speed_r,"aw",%nobits
 830              		.align	2
 831              		.set	.LANCHOR4,. + 0
 834              	speed_r:
 835 0000 00000000 		.space	4
 836              		.section	.bss.speed_r_max,"aw",%nobits
 837              		.align	2
 838              		.set	.LANCHOR6,. + 0
 841              	speed_r_max:
 842 0000 00000000 		.space	4
 843              		.section	.bss.speed_r_min,"aw",%nobits
 844              		.align	2
 845              		.set	.LANCHOR7,. + 0
 848              	speed_r_min:
 849 0000 00000000 		.space	4
 850              		.section	.bss.speed_rad,"aw",%nobits
 851              		.align	2
 852              		.set	.LANCHOR11,. + 0
 855              	speed_rad:
 856 0000 00000000 		.space	4
 857              		.text
 858              	.Letext0:
 859              		.file 2 "c:\\tools\\gcc-arm-none-eabi-9-2019-q4-major\\arm-none-eabi\\include\\machine\\_default_t
 860              		.file 3 "c:\\tools\\gcc-arm-none-eabi-9-2019-q4-major\\arm-none-eabi\\include\\sys\\lock.h"
 861              		.file 4 "c:\\tools\\gcc-arm-none-eabi-9-2019-q4-major\\arm-none-eabi\\include\\sys\\_types.h"
 862              		.file 5 "c:\\tools\\gcc-arm-none-eabi-9-2019-q4-major\\lib\\gcc\\arm-none-eabi\\9.2.1\\include\\st
 863              		.file 6 "c:\\tools\\gcc-arm-none-eabi-9-2019-q4-major\\arm-none-eabi\\include\\sys\\reent.h"
 864              		.file 7 "c:\\tools\\gcc-arm-none-eabi-9-2019-q4-major\\arm-none-eabi\\include\\sys\\_stdint.h"
 865              		.file 8 "c:\\tools\\gcc-arm-none-eabi-9-2019-q4-major\\arm-none-eabi\\include\\math.h"
 866              		.file 9 "Drivers/CMSIS/Include/core_cm4.h"
 867              		.file 10 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/system_stm32f4xx.h"
 868              		.file 11 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f413xx.h"
 869              		.file 12 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f4xx.h"
 870              		.file 13 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 871              		.file 14 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_dma.h"
 872              		.file 15 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_adc.h"
 873              		.file 16 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_spi.h"
 874              		.file 17 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_tim.h"
 875              		.file 18 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_uart.h"
 876              		.file 19 "Inc/adc.h"
ARM GAS  C:\Temp\ccPeizZ9.s 			page 21


 877              		.file 20 "Inc/spi.h"
 878              		.file 21 "Inc/tim.h"
 879              		.file 22 "Inc/usart.h"
 880              		.file 23 "Inc/index.h"
ARM GAS  C:\Temp\ccPeizZ9.s 			page 22


DEFINED SYMBOLS
                            *ABS*:00000000 encoder.c
  C:\Temp\ccPeizZ9.s:18     .text.Encoder_ResetCount_Left:00000000 $t
  C:\Temp\ccPeizZ9.s:26     .text.Encoder_ResetCount_Left:00000000 Encoder_ResetCount_Left
  C:\Temp\ccPeizZ9.s:44     .text.Encoder_ResetCount_Left:0000000c $d
  C:\Temp\ccPeizZ9.s:49     .text.Encoder_ResetCount_Right:00000000 $t
  C:\Temp\ccPeizZ9.s:56     .text.Encoder_ResetCount_Right:00000000 Encoder_ResetCount_Right
  C:\Temp\ccPeizZ9.s:74     .text.Encoder_Initialize:00000000 $t
  C:\Temp\ccPeizZ9.s:81     .text.Encoder_Initialize:00000000 Encoder_Initialize
  C:\Temp\ccPeizZ9.s:127    .text.Encoder_Initialize:00000030 $d
  C:\Temp\ccPeizZ9.s:136    .text.Encoder_GetAngle_Left:00000000 $t
  C:\Temp\ccPeizZ9.s:143    .text.Encoder_GetAngle_Left:00000000 Encoder_GetAngle_Left
  C:\Temp\ccPeizZ9.s:170    .text.Encoder_GetAngle_Left:00000024 $d
  C:\Temp\ccPeizZ9.s:177    .text.Encoder_GetAngle_Right:00000000 $t
  C:\Temp\ccPeizZ9.s:184    .text.Encoder_GetAngle_Right:00000000 Encoder_GetAngle_Right
  C:\Temp\ccPeizZ9.s:211    .text.Encoder_GetAngle_Right:00000028 $d
  C:\Temp\ccPeizZ9.s:217    .text.Get_speed:00000000 $t
  C:\Temp\ccPeizZ9.s:224    .text.Get_speed:00000000 Get_speed
  C:\Temp\ccPeizZ9.s:495    .text.Get_speed:0000015c $d
  C:\Temp\ccPeizZ9.s:522    .text.speed_m_average:00000000 $t
  C:\Temp\ccPeizZ9.s:529    .text.speed_m_average:00000000 speed_m_average
  C:\Temp\ccPeizZ9.s:720    .text.speed_m_average:000000e8 $d
  C:\Temp\ccPeizZ9.s:757    .bss.delta_angle_motor_l:00000000 delta_angle_motor_l
  C:\Temp\ccPeizZ9.s:764    .bss.delta_angle_motor_r:00000000 delta_angle_motor_r
  C:\Temp\ccPeizZ9.s:855    .bss.speed_rad:00000000 speed_rad
  C:\Temp\ccPeizZ9.s:785    .bss.g_ave_accel_m:00000000 g_ave_accel_m
  C:\Temp\ccPeizZ9.s:792    .bss.g_ave_speed_m:00000000 g_ave_speed_m
  C:\Temp\ccPeizZ9.s:827    .bss.speed_m:00000000 speed_m
  C:\Temp\ccPeizZ9.s:820    .bss.speed_l_min:00000000 speed_l_min
  C:\Temp\ccPeizZ9.s:813    .bss.speed_l_max:00000000 speed_l_max
  C:\Temp\ccPeizZ9.s:806    .bss.speed_l:00000000 speed_l
  C:\Temp\ccPeizZ9.s:848    .bss.speed_r_min:00000000 speed_r_min
  C:\Temp\ccPeizZ9.s:841    .bss.speed_r_max:00000000 speed_r_max
  C:\Temp\ccPeizZ9.s:834    .bss.speed_r:00000000 speed_r
  C:\Temp\ccPeizZ9.s:746    .bss.ave_store:00000000 $d
  C:\Temp\ccPeizZ9.s:750    .bss.ave_store:00000000 ave_store
  C:\Temp\ccPeizZ9.s:753    .bss.delta_angle_motor_l:00000000 $d
  C:\Temp\ccPeizZ9.s:760    .bss.delta_angle_motor_r:00000000 $d
  C:\Temp\ccPeizZ9.s:767    .bss.enc_cnt_l_old:00000000 $d
  C:\Temp\ccPeizZ9.s:771    .bss.enc_cnt_l_old:00000000 enc_cnt_l_old
  C:\Temp\ccPeizZ9.s:774    .bss.enc_cnt_r_old:00000000 $d
  C:\Temp\ccPeizZ9.s:778    .bss.enc_cnt_r_old:00000000 enc_cnt_r_old
  C:\Temp\ccPeizZ9.s:781    .bss.g_ave_accel_m:00000000 $d
  C:\Temp\ccPeizZ9.s:788    .bss.g_ave_speed_m:00000000 $d
  C:\Temp\ccPeizZ9.s:795    .bss.l_ave_counter.10212:00000000 $d
  C:\Temp\ccPeizZ9.s:799    .bss.l_ave_counter.10212:00000000 l_ave_counter.10212
  C:\Temp\ccPeizZ9.s:802    .bss.speed_l:00000000 $d
  C:\Temp\ccPeizZ9.s:809    .bss.speed_l_max:00000000 $d
  C:\Temp\ccPeizZ9.s:816    .bss.speed_l_min:00000000 $d
  C:\Temp\ccPeizZ9.s:823    .bss.speed_m:00000000 $d
  C:\Temp\ccPeizZ9.s:830    .bss.speed_r:00000000 $d
  C:\Temp\ccPeizZ9.s:837    .bss.speed_r_max:00000000 $d
  C:\Temp\ccPeizZ9.s:844    .bss.speed_r_min:00000000 $d
  C:\Temp\ccPeizZ9.s:851    .bss.speed_rad:00000000 $d

UNDEFINED SYMBOLS
HAL_TIM_Encoder_Start
ARM GAS  C:\Temp\ccPeizZ9.s 			page 23


htim2
htim3
__aeabi_f2d
__aeabi_dmul
__aeabi_dadd
__aeabi_d2f
IMU_GetAccel_X
