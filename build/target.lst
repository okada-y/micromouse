ARM GAS  C:\Temp\cczuL672.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"target.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.set_direction_mode,"ax",%progbits
  18              		.align	1
  19              		.global	set_direction_mode
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv4-sp-d16
  26              	set_direction_mode:
  27              	.LVL0:
  28              	.LFB4:
  29              		.file 1 "Src/target.c"
   1:Src/target.c  **** /*
   2:Src/target.c  ****  * target.c
   3:Src/target.c  ****  *
   4:Src/target.c  ****  *  Created on: Aug 7, 2019
   5:Src/target.c  ****  *      Author: 岡田 泰裕
   6:Src/target.c  ****  */
   7:Src/target.c  **** 
   8:Src/target.c  **** #include "param.h"
   9:Src/target.c  **** #include "ir_sensor.h"
  10:Src/target.c  **** #include "target.h"
  11:Src/target.c  **** #include "mouse_state.h"
  12:Src/target.c  **** 
  13:Src/target.c  **** 
  14:Src/target.c  **** static float target_move_speed = 0;			//目標移動速度[m/s]
  15:Src/target.c  **** static float target_move_speed_fin = 0;		//目標終端速度[m/s]
  16:Src/target.c  **** static float target_rotation_speed = 0;		//目標角速度[rad/s]
  17:Src/target.c  **** static float target_move_accel = 0;			//目標移動加速度[m/s2]
  18:Src/target.c  **** static float target_rotation_accel = 0;		//目標角加速度[rad/s2]
  19:Src/target.c  **** static float target_length = 0;				//目標移動距離[m]
  20:Src/target.c  **** static float target_angle = 0;				//目標回転角度[rad]
  21:Src/target.c  **** static float ideal_length = 0;				//理想移動距離[m]
  22:Src/target.c  **** static float ideal_angle = 0;				//理想回転角度[rad]
  23:Src/target.c  **** 
  24:Src/target.c  **** static direction_mode move_dir_flg = forward_mode;			//移動方向フラグ　0:前進 1:後進
  25:Src/target.c  **** static rotation_mode rotation_dir_flg = counter_clockwise;	//回転方向フラグ　0:反時計周
  26:Src/target.c  **** static accel_mode accel_dir_flg = acceleration;		   		//加減速フラグ　　0:加速 1:減速
  27:Src/target.c  **** static speed_under_lim_mode speed_under_lim_flg = zero;		//下限速度フラグ
  28:Src/target.c  **** 
  29:Src/target.c  **** 
ARM GAS  C:\Temp\cczuL672.s 			page 2


  30:Src/target.c  **** //機能	: traget.cの1msタスクのまとめ
  31:Src/target.c  **** //引数	: なし
  32:Src/target.c  **** //返り値	: なし
  33:Src/target.c  **** void target_1ms ( void )
  34:Src/target.c  **** {
  35:Src/target.c  **** 	calc_target_move_accel();		//移動加速度更新
  36:Src/target.c  **** 	calc_rotate_accel();			//回転角速度更新
  37:Src/target.c  **** 	calc_target_move_speed();		//目標移動速度更新
  38:Src/target.c  **** 	calc_target_rotation_speed();	//目標角速度更新
  39:Src/target.c  **** }
  40:Src/target.c  **** 
  41:Src/target.c  **** //機能	: 移動方向モードをセットする
  42:Src/target.c  **** //引数	: 移動方向モード(forward,back)
  43:Src/target.c  **** //返り値	: なし
  44:Src/target.c  **** void set_direction_mode ( direction_mode dmode )
  45:Src/target.c  **** {
  30              		.loc 1 45 1 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		@ link register save eliminated.
  46:Src/target.c  **** 	move_dir_flg = dmode;
  35              		.loc 1 46 2 view .LVU1
  36              		.loc 1 46 15 is_stmt 0 view .LVU2
  37 0000 014B     		ldr	r3, .L2
  38 0002 1870     		strb	r0, [r3]
  47:Src/target.c  **** }
  39              		.loc 1 47 1 view .LVU3
  40 0004 7047     		bx	lr
  41              	.L3:
  42 0006 00BF     		.align	2
  43              	.L2:
  44 0008 00000000 		.word	.LANCHOR0
  45              		.cfi_endproc
  46              	.LFE4:
  48              		.section	.text.set_rotation_mode,"ax",%progbits
  49              		.align	1
  50              		.global	set_rotation_mode
  51              		.syntax unified
  52              		.thumb
  53              		.thumb_func
  54              		.fpu fpv4-sp-d16
  56              	set_rotation_mode:
  57              	.LVL1:
  58              	.LFB5:
  48:Src/target.c  **** 
  49:Src/target.c  **** //機能	: 回転方向モードをセットする
  50:Src/target.c  **** //引数	: 回転方向モード(counter_clocwise,clockwise)
  51:Src/target.c  **** //返り値	: なし
  52:Src/target.c  **** void set_rotation_mode ( rotation_mode rmode )
  53:Src/target.c  **** {
  59              		.loc 1 53 1 is_stmt 1 view -0
  60              		.cfi_startproc
  61              		@ args = 0, pretend = 0, frame = 0
  62              		@ frame_needed = 0, uses_anonymous_args = 0
  63              		@ link register save eliminated.
  54:Src/target.c  **** 	rotation_dir_flg = rmode;
ARM GAS  C:\Temp\cczuL672.s 			page 3


  64              		.loc 1 54 2 view .LVU5
  65              		.loc 1 54 19 is_stmt 0 view .LVU6
  66 0000 014B     		ldr	r3, .L5
  67 0002 1870     		strb	r0, [r3]
  55:Src/target.c  **** }
  68              		.loc 1 55 1 view .LVU7
  69 0004 7047     		bx	lr
  70              	.L6:
  71 0006 00BF     		.align	2
  72              	.L5:
  73 0008 00000000 		.word	.LANCHOR1
  74              		.cfi_endproc
  75              	.LFE5:
  77              		.section	.text.set_accel_mode,"ax",%progbits
  78              		.align	1
  79              		.global	set_accel_mode
  80              		.syntax unified
  81              		.thumb
  82              		.thumb_func
  83              		.fpu fpv4-sp-d16
  85              	set_accel_mode:
  86              	.LVL2:
  87              	.LFB6:
  56:Src/target.c  **** 
  57:Src/target.c  **** //機能	: 加速モードをセットする
  58:Src/target.c  **** //引数	: 加速モード(acceleration,deceleration)
  59:Src/target.c  **** //返り値	: なし
  60:Src/target.c  **** void set_accel_mode ( accel_mode amode )
  61:Src/target.c  **** {
  88              		.loc 1 61 1 is_stmt 1 view -0
  89              		.cfi_startproc
  90              		@ args = 0, pretend = 0, frame = 0
  91              		@ frame_needed = 0, uses_anonymous_args = 0
  92              		@ link register save eliminated.
  62:Src/target.c  **** 	accel_dir_flg = amode;
  93              		.loc 1 62 2 view .LVU9
  94              		.loc 1 62 16 is_stmt 0 view .LVU10
  95 0000 014B     		ldr	r3, .L8
  96 0002 1870     		strb	r0, [r3]
  63:Src/target.c  **** }
  97              		.loc 1 63 1 view .LVU11
  98 0004 7047     		bx	lr
  99              	.L9:
 100 0006 00BF     		.align	2
 101              	.L8:
 102 0008 00000000 		.word	.LANCHOR2
 103              		.cfi_endproc
 104              	.LFE6:
 106              		.section	.text.set_speed_under_lim_flg,"ax",%progbits
 107              		.align	1
 108              		.global	set_speed_under_lim_flg
 109              		.syntax unified
 110              		.thumb
 111              		.thumb_func
 112              		.fpu fpv4-sp-d16
 114              	set_speed_under_lim_flg:
 115              	.LVL3:
ARM GAS  C:\Temp\cczuL672.s 			page 4


 116              	.LFB7:
  64:Src/target.c  **** 
  65:Src/target.c  **** 
  66:Src/target.c  **** //機能	: 下限速度モードをセットする
  67:Src/target.c  **** //引数	: 下限速度モード(zero,slow)
  68:Src/target.c  **** //返り値	: なし
  69:Src/target.c  **** void set_speed_under_lim_flg ( speed_under_lim_mode smode  )
  70:Src/target.c  **** {
 117              		.loc 1 70 1 is_stmt 1 view -0
 118              		.cfi_startproc
 119              		@ args = 0, pretend = 0, frame = 0
 120              		@ frame_needed = 0, uses_anonymous_args = 0
 121              		@ link register save eliminated.
  71:Src/target.c  **** 	speed_under_lim_flg = smode;
 122              		.loc 1 71 2 view .LVU13
 123              		.loc 1 71 22 is_stmt 0 view .LVU14
 124 0000 014B     		ldr	r3, .L11
 125 0002 1870     		strb	r0, [r3]
  72:Src/target.c  **** }
 126              		.loc 1 72 1 view .LVU15
 127 0004 7047     		bx	lr
 128              	.L12:
 129 0006 00BF     		.align	2
 130              	.L11:
 131 0008 00000000 		.word	.LANCHOR3
 132              		.cfi_endproc
 133              	.LFE7:
 135              		.section	.text.get_target_move_speed,"ax",%progbits
 136              		.align	1
 137              		.global	get_target_move_speed
 138              		.syntax unified
 139              		.thumb
 140              		.thumb_func
 141              		.fpu fpv4-sp-d16
 143              	get_target_move_speed:
 144              	.LFB8:
  73:Src/target.c  **** 
  74:Src/target.c  **** //機能	: 目標移動速度[m/s]取得
  75:Src/target.c  **** //引数	: なし
  76:Src/target.c  **** //返り値	: 目標移動速度[m/s]
  77:Src/target.c  **** float get_target_move_speed ( void )
  78:Src/target.c  **** {
 145              		.loc 1 78 1 is_stmt 1 view -0
 146              		.cfi_startproc
 147              		@ args = 0, pretend = 0, frame = 0
 148              		@ frame_needed = 0, uses_anonymous_args = 0
 149              		@ link register save eliminated.
  79:Src/target.c  **** 	return target_move_speed;
 150              		.loc 1 79 2 view .LVU17
  80:Src/target.c  **** }
 151              		.loc 1 80 1 is_stmt 0 view .LVU18
 152 0000 014B     		ldr	r3, .L14
 153 0002 93ED000A 		vldr.32	s0, [r3]
 154 0006 7047     		bx	lr
 155              	.L15:
 156              		.align	2
 157              	.L14:
ARM GAS  C:\Temp\cczuL672.s 			page 5


 158 0008 00000000 		.word	.LANCHOR4
 159              		.cfi_endproc
 160              	.LFE8:
 162              		.section	.text.get_target_rotation_speed,"ax",%progbits
 163              		.align	1
 164              		.global	get_target_rotation_speed
 165              		.syntax unified
 166              		.thumb
 167              		.thumb_func
 168              		.fpu fpv4-sp-d16
 170              	get_target_rotation_speed:
 171              	.LFB9:
  81:Src/target.c  **** 
  82:Src/target.c  **** //機能	: 目標角速度[m/s]取得
  83:Src/target.c  **** //引数	: なし
  84:Src/target.c  **** //返り値	: 目標角速度[m/s]
  85:Src/target.c  **** float get_target_rotation_speed ( void )
  86:Src/target.c  **** {
 172              		.loc 1 86 1 is_stmt 1 view -0
 173              		.cfi_startproc
 174              		@ args = 0, pretend = 0, frame = 0
 175              		@ frame_needed = 0, uses_anonymous_args = 0
 176              		@ link register save eliminated.
  87:Src/target.c  **** 	return target_rotation_speed;
 177              		.loc 1 87 2 view .LVU20
  88:Src/target.c  **** }
 178              		.loc 1 88 1 is_stmt 0 view .LVU21
 179 0000 014B     		ldr	r3, .L17
 180 0002 93ED000A 		vldr.32	s0, [r3]
 181 0006 7047     		bx	lr
 182              	.L18:
 183              		.align	2
 184              	.L17:
 185 0008 00000000 		.word	.LANCHOR5
 186              		.cfi_endproc
 187              	.LFE9:
 189              		.section	.text.get_target_length,"ax",%progbits
 190              		.align	1
 191              		.global	get_target_length
 192              		.syntax unified
 193              		.thumb
 194              		.thumb_func
 195              		.fpu fpv4-sp-d16
 197              	get_target_length:
 198              	.LFB10:
  89:Src/target.c  **** 
  90:Src/target.c  **** //機能	: 目標移動距離取得
  91:Src/target.c  **** //引数	: なし
  92:Src/target.c  **** //返り値	: 目標移動距離
  93:Src/target.c  **** float get_target_length ( void )
  94:Src/target.c  **** {
 199              		.loc 1 94 1 is_stmt 1 view -0
 200              		.cfi_startproc
 201              		@ args = 0, pretend = 0, frame = 0
 202              		@ frame_needed = 0, uses_anonymous_args = 0
 203              		@ link register save eliminated.
  95:Src/target.c  **** 	return target_length;
ARM GAS  C:\Temp\cczuL672.s 			page 6


 204              		.loc 1 95 2 view .LVU23
  96:Src/target.c  **** }
 205              		.loc 1 96 1 is_stmt 0 view .LVU24
 206 0000 014B     		ldr	r3, .L20
 207 0002 93ED000A 		vldr.32	s0, [r3]
 208 0006 7047     		bx	lr
 209              	.L21:
 210              		.align	2
 211              	.L20:
 212 0008 00000000 		.word	.LANCHOR6
 213              		.cfi_endproc
 214              	.LFE10:
 216              		.section	.text.set_ideal_length,"ax",%progbits
 217              		.align	1
 218              		.global	set_ideal_length
 219              		.syntax unified
 220              		.thumb
 221              		.thumb_func
 222              		.fpu fpv4-sp-d16
 224              	set_ideal_length:
 225              	.LVL4:
 226              	.LFB11:
  97:Src/target.c  **** 
  98:Src/target.c  **** //機能	: 理想移動距離セット
  99:Src/target.c  **** //引数	: 理想移動距離
 100:Src/target.c  **** //返り値	: なし
 101:Src/target.c  **** void set_ideal_length ( float templ )
 102:Src/target.c  **** {
 227              		.loc 1 102 1 is_stmt 1 view -0
 228              		.cfi_startproc
 229              		@ args = 0, pretend = 0, frame = 0
 230              		@ frame_needed = 0, uses_anonymous_args = 0
 231              		@ link register save eliminated.
 103:Src/target.c  **** 	ideal_length = templ;
 232              		.loc 1 103 2 view .LVU26
 233              		.loc 1 103 15 is_stmt 0 view .LVU27
 234 0000 014B     		ldr	r3, .L23
 235 0002 83ED000A 		vstr.32	s0, [r3]
 104:Src/target.c  **** }
 236              		.loc 1 104 1 view .LVU28
 237 0006 7047     		bx	lr
 238              	.L24:
 239              		.align	2
 240              	.L23:
 241 0008 00000000 		.word	.LANCHOR7
 242              		.cfi_endproc
 243              	.LFE11:
 245              		.section	.text.set_ideal_angle,"ax",%progbits
 246              		.align	1
 247              		.global	set_ideal_angle
 248              		.syntax unified
 249              		.thumb
 250              		.thumb_func
 251              		.fpu fpv4-sp-d16
 253              	set_ideal_angle:
 254              	.LVL5:
 255              	.LFB12:
ARM GAS  C:\Temp\cczuL672.s 			page 7


 105:Src/target.c  **** 
 106:Src/target.c  **** //機能	: 理想角度セット
 107:Src/target.c  **** //引数	: 理想角度
 108:Src/target.c  **** //返り値	: なし
 109:Src/target.c  **** void set_ideal_angle ( float templ )
 110:Src/target.c  **** {
 256              		.loc 1 110 1 is_stmt 1 view -0
 257              		.cfi_startproc
 258              		@ args = 0, pretend = 0, frame = 0
 259              		@ frame_needed = 0, uses_anonymous_args = 0
 260              		@ link register save eliminated.
 111:Src/target.c  **** 	ideal_angle = templ;
 261              		.loc 1 111 2 view .LVU30
 262              		.loc 1 111 14 is_stmt 0 view .LVU31
 263 0000 014B     		ldr	r3, .L26
 264 0002 83ED000A 		vstr.32	s0, [r3]
 112:Src/target.c  **** }
 265              		.loc 1 112 1 view .LVU32
 266 0006 7047     		bx	lr
 267              	.L27:
 268              		.align	2
 269              	.L26:
 270 0008 00000000 		.word	.LANCHOR8
 271              		.cfi_endproc
 272              	.LFE12:
 274              		.section	.text.get_ideal_length,"ax",%progbits
 275              		.align	1
 276              		.global	get_ideal_length
 277              		.syntax unified
 278              		.thumb
 279              		.thumb_func
 280              		.fpu fpv4-sp-d16
 282              	get_ideal_length:
 283              	.LFB13:
 113:Src/target.c  **** 
 114:Src/target.c  **** //機能	: 理想移動距離取得
 115:Src/target.c  **** //引数	: なし
 116:Src/target.c  **** //返り値	: 理想移動距離
 117:Src/target.c  **** float get_ideal_length ( void )
 118:Src/target.c  **** {
 284              		.loc 1 118 1 is_stmt 1 view -0
 285              		.cfi_startproc
 286              		@ args = 0, pretend = 0, frame = 0
 287              		@ frame_needed = 0, uses_anonymous_args = 0
 288              		@ link register save eliminated.
 119:Src/target.c  **** 	return ideal_length;
 289              		.loc 1 119 2 view .LVU34
 120:Src/target.c  **** }
 290              		.loc 1 120 1 is_stmt 0 view .LVU35
 291 0000 014B     		ldr	r3, .L29
 292 0002 93ED000A 		vldr.32	s0, [r3]
 293 0006 7047     		bx	lr
 294              	.L30:
 295              		.align	2
 296              	.L29:
 297 0008 00000000 		.word	.LANCHOR7
 298              		.cfi_endproc
ARM GAS  C:\Temp\cczuL672.s 			page 8


 299              	.LFE13:
 301              		.section	.text.get_target_angle,"ax",%progbits
 302              		.align	1
 303              		.global	get_target_angle
 304              		.syntax unified
 305              		.thumb
 306              		.thumb_func
 307              		.fpu fpv4-sp-d16
 309              	get_target_angle:
 310              	.LFB14:
 121:Src/target.c  **** 
 122:Src/target.c  **** //機能	: 目標角度取得
 123:Src/target.c  **** //引数	: なし
 124:Src/target.c  **** //返り値	: 目標角度
 125:Src/target.c  **** float get_target_angle ( void )
 126:Src/target.c  **** {
 311              		.loc 1 126 1 is_stmt 1 view -0
 312              		.cfi_startproc
 313              		@ args = 0, pretend = 0, frame = 0
 314              		@ frame_needed = 0, uses_anonymous_args = 0
 315              		@ link register save eliminated.
 127:Src/target.c  **** 	return target_angle;
 316              		.loc 1 127 2 view .LVU37
 128:Src/target.c  **** }
 317              		.loc 1 128 1 is_stmt 0 view .LVU38
 318 0000 014B     		ldr	r3, .L32
 319 0002 93ED000A 		vldr.32	s0, [r3]
 320 0006 7047     		bx	lr
 321              	.L33:
 322              		.align	2
 323              	.L32:
 324 0008 00000000 		.word	.LANCHOR9
 325              		.cfi_endproc
 326              	.LFE14:
 328              		.section	.text.get_ideal_angle,"ax",%progbits
 329              		.align	1
 330              		.global	get_ideal_angle
 331              		.syntax unified
 332              		.thumb
 333              		.thumb_func
 334              		.fpu fpv4-sp-d16
 336              	get_ideal_angle:
 337              	.LFB15:
 129:Src/target.c  **** 
 130:Src/target.c  **** //機能	: 理想角度取得
 131:Src/target.c  **** //引数	: なし 
 132:Src/target.c  **** //返り値	: 理想角度
 133:Src/target.c  **** float get_ideal_angle ( void )
 134:Src/target.c  **** {
 338              		.loc 1 134 1 is_stmt 1 view -0
 339              		.cfi_startproc
 340              		@ args = 0, pretend = 0, frame = 0
 341              		@ frame_needed = 0, uses_anonymous_args = 0
 342              		@ link register save eliminated.
 135:Src/target.c  **** 	return ideal_angle;
 343              		.loc 1 135 2 view .LVU40
 136:Src/target.c  **** }
ARM GAS  C:\Temp\cczuL672.s 			page 9


 344              		.loc 1 136 1 is_stmt 0 view .LVU41
 345 0000 014B     		ldr	r3, .L35
 346 0002 93ED000A 		vldr.32	s0, [r3]
 347 0006 7047     		bx	lr
 348              	.L36:
 349              		.align	2
 350              	.L35:
 351 0008 00000000 		.word	.LANCHOR8
 352              		.cfi_endproc
 353              	.LFE15:
 355              		.section	.text.set_target_length,"ax",%progbits
 356              		.align	1
 357              		.global	set_target_length
 358              		.syntax unified
 359              		.thumb
 360              		.thumb_func
 361              		.fpu fpv4-sp-d16
 363              	set_target_length:
 364              	.LVL6:
 365              	.LFB16:
 137:Src/target.c  **** 
 138:Src/target.c  **** 
 139:Src/target.c  **** 
 140:Src/target.c  **** //機能	: 目標移動距離更新
 141:Src/target.c  **** //引数	: 加算する移動距離[m]
 142:Src/target.c  **** //返り値	: なし
 143:Src/target.c  **** void set_target_length ( float set_length )
 144:Src/target.c  **** {
 366              		.loc 1 144 1 is_stmt 1 view -0
 367              		.cfi_startproc
 368              		@ args = 0, pretend = 0, frame = 0
 369              		@ frame_needed = 0, uses_anonymous_args = 0
 370              		@ link register save eliminated.
 145:Src/target.c  **** 	target_length += set_length;
 371              		.loc 1 145 2 view .LVU43
 372              		.loc 1 145 16 is_stmt 0 view .LVU44
 373 0000 034B     		ldr	r3, .L38
 374 0002 D3ED007A 		vldr.32	s15, [r3]
 375 0006 77EE807A 		vadd.f32	s15, s15, s0
 376 000a C3ED007A 		vstr.32	s15, [r3]
 146:Src/target.c  **** }
 377              		.loc 1 146 1 view .LVU45
 378 000e 7047     		bx	lr
 379              	.L39:
 380              		.align	2
 381              	.L38:
 382 0010 00000000 		.word	.LANCHOR6
 383              		.cfi_endproc
 384              	.LFE16:
 386              		.section	.text.set_target_angle,"ax",%progbits
 387              		.align	1
 388              		.global	set_target_angle
 389              		.syntax unified
 390              		.thumb
 391              		.thumb_func
 392              		.fpu fpv4-sp-d16
 394              	set_target_angle:
ARM GAS  C:\Temp\cczuL672.s 			page 10


 395              	.LVL7:
 396              	.LFB17:
 147:Src/target.c  **** 
 148:Src/target.c  **** //機能	: 目標角度更新
 149:Src/target.c  **** //引数	: 加算する角度[rad]
 150:Src/target.c  **** //返り値	: なし
 151:Src/target.c  **** void set_target_angle ( float set_angle )
 152:Src/target.c  **** {
 397              		.loc 1 152 1 is_stmt 1 view -0
 398              		.cfi_startproc
 399              		@ args = 0, pretend = 0, frame = 0
 400              		@ frame_needed = 0, uses_anonymous_args = 0
 401              		@ link register save eliminated.
 153:Src/target.c  **** 	target_angle += set_angle;
 402              		.loc 1 153 2 view .LVU47
 403              		.loc 1 153 15 is_stmt 0 view .LVU48
 404 0000 034B     		ldr	r3, .L41
 405 0002 D3ED007A 		vldr.32	s15, [r3]
 406 0006 77EE807A 		vadd.f32	s15, s15, s0
 407 000a C3ED007A 		vstr.32	s15, [r3]
 154:Src/target.c  **** }
 408              		.loc 1 154 1 view .LVU49
 409 000e 7047     		bx	lr
 410              	.L42:
 411              		.align	2
 412              	.L41:
 413 0010 00000000 		.word	.LANCHOR9
 414              		.cfi_endproc
 415              	.LFE17:
 417              		.global	__aeabi_f2d
 418              		.global	__aeabi_dadd
 419              		.global	__aeabi_dcmplt
 420              		.section	.text.calc_target_move_accel,"ax",%progbits
 421              		.align	1
 422              		.global	calc_target_move_accel
 423              		.syntax unified
 424              		.thumb
 425              		.thumb_func
 426              		.fpu fpv4-sp-d16
 428              	calc_target_move_accel:
 429              	.LFB18:
 155:Src/target.c  **** 
 156:Src/target.c  **** 
 157:Src/target.c  **** //機能	: 移動加速度の更新
 158:Src/target.c  **** //引数	: なし
 159:Src/target.c  **** //返り値	: なし
 160:Src/target.c  **** //備考	: 現在移動距離と目標移動距離に応じて、加速度をスイッチ
 161:Src/target.c  **** //		: 1msタスク
 162:Src/target.c  **** void calc_target_move_accel(void)
 163:Src/target.c  **** {
 430              		.loc 1 163 1 is_stmt 1 view -0
 431              		.cfi_startproc
 432              		@ args = 0, pretend = 0, frame = 0
 433              		@ frame_needed = 0, uses_anonymous_args = 0
 434 0000 38B5     		push	{r3, r4, r5, lr}
 435              	.LCFI0:
 436              		.cfi_def_cfa_offset 16
ARM GAS  C:\Temp\cczuL672.s 			page 11


 437              		.cfi_offset 3, -16
 438              		.cfi_offset 4, -12
 439              		.cfi_offset 5, -8
 440              		.cfi_offset 14, -4
 441 0002 2DED028B 		vpush.64	{d8}
 442              	.LCFI1:
 443              		.cfi_def_cfa_offset 24
 444              		.cfi_offset 80, -24
 445              		.cfi_offset 81, -20
 164:Src/target.c  **** 
 165:Src/target.c  **** 	float tm_deccel_length = 0;
 446              		.loc 1 165 2 view .LVU51
 447              	.LVL8:
 166:Src/target.c  **** 
 167:Src/target.c  **** 	switch(accel_dir_flg)
 448              		.loc 1 167 2 view .LVU52
 449 0006 364B     		ldr	r3, .L60+8
 450 0008 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 451 000a 23B1     		cbz	r3, .L44
 452 000c 012B     		cmp	r3, #1
 453 000e 10D0     		beq	.L45
 454              	.LVL9:
 455              	.L43:
 168:Src/target.c  **** 	{
 169:Src/target.c  **** 		case acceleration: //加速モード時、常に加速(リミットに引っ掛かり続ける)
 170:Src/target.c  **** 			switch(move_dir_flg)
 171:Src/target.c  **** 			{
 172:Src/target.c  **** 			case forward_mode:
 173:Src/target.c  **** 				target_move_accel = 1 * move_accel;
 174:Src/target.c  **** 				break;
 175:Src/target.c  **** 			case backward_mode:
 176:Src/target.c  **** 				target_move_accel = -1 * move_accel;
 177:Src/target.c  **** 				break;
 178:Src/target.c  **** 			}
 179:Src/target.c  **** 			break;
 180:Src/target.c  **** 
 181:Src/target.c  **** 		case deceleration:
 182:Src/target.c  **** 			switch(move_dir_flg)
 183:Src/target.c  **** 			{
 184:Src/target.c  **** 			case forward_mode:
 185:Src/target.c  **** 				/* 減速に必要な距離算出*/
 186:Src/target.c  **** 				tm_deccel_length = ((target_move_speed*target_move_speed)-(target_move_speed_fin*target_move_sp
 187:Src/target.c  **** 				
 188:Src/target.c  **** 				//減速開始前
 189:Src/target.c  **** 				if(ideal_length + 0.03  < (target_length - tm_deccel_length))
 190:Src/target.c  **** 				{
 191:Src/target.c  **** 					target_move_accel =  1 * move_accel; //リミットにかかるまで加速
 192:Src/target.c  **** 				}
 193:Src/target.c  **** 				else//減速開始後
 194:Src/target.c  **** 				{																	
 195:Src/target.c  **** 					target_move_accel = -1 * move_accel;
 196:Src/target.c  **** 				}
 197:Src/target.c  **** 				break;
 198:Src/target.c  **** 
 199:Src/target.c  **** 			case backward_mode:
 200:Src/target.c  **** 				/* 加速に必要な距離算出*/
 201:Src/target.c  **** 				tm_deccel_length = ((target_move_speed*target_move_speed)-(target_move_speed_fin*target_move_sp
ARM GAS  C:\Temp\cczuL672.s 			page 12


 202:Src/target.c  **** 				
 203:Src/target.c  **** 				//加速開始前
 204:Src/target.c  **** 				if(ideal_length > (target_length + tm_deccel_length))
 205:Src/target.c  **** 				{			
 206:Src/target.c  **** 					target_move_accel = -1 * move_accel; //リミットにかかるまで減速
 207:Src/target.c  **** 				}
 208:Src/target.c  **** 				else//加速開始後
 209:Src/target.c  **** 				{												
 210:Src/target.c  **** 					target_move_accel = 1 * move_accel;
 211:Src/target.c  **** 				}
 212:Src/target.c  **** 				break;
 213:Src/target.c  **** 			}
 214:Src/target.c  **** 			break;
 215:Src/target.c  **** 	}
 216:Src/target.c  **** 
 217:Src/target.c  **** }
 456              		.loc 1 217 1 is_stmt 0 view .LVU53
 457 0010 BDEC028B 		vldm	sp!, {d8}
 458              	.LCFI2:
 459              		.cfi_remember_state
 460              		.cfi_restore 80
 461              		.cfi_restore 81
 462              		.cfi_def_cfa_offset 16
 463 0014 38BD     		pop	{r3, r4, r5, pc}
 464              	.LVL10:
 465              	.L44:
 466              	.LCFI3:
 467              		.cfi_restore_state
 170:Src/target.c  **** 			{
 468              		.loc 1 170 4 is_stmt 1 view .LVU54
 469 0016 334B     		ldr	r3, .L60+12
 470 0018 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 471 001a 2BB1     		cbz	r3, .L47
 472 001c 012B     		cmp	r3, #1
 473 001e F7D1     		bne	.L43
 176:Src/target.c  **** 				break;
 474              		.loc 1 176 5 view .LVU55
 176:Src/target.c  **** 				break;
 475              		.loc 1 176 23 is_stmt 0 view .LVU56
 476 0020 314B     		ldr	r3, .L60+16
 477 0022 324A     		ldr	r2, .L60+20
 478 0024 1A60     		str	r2, [r3]	@ float
 177:Src/target.c  **** 			}
 479              		.loc 1 177 5 is_stmt 1 view .LVU57
 480 0026 F3E7     		b	.L43
 481              	.L47:
 173:Src/target.c  **** 				break;
 482              		.loc 1 173 5 view .LVU58
 173:Src/target.c  **** 				break;
 483              		.loc 1 173 23 is_stmt 0 view .LVU59
 484 0028 2F4B     		ldr	r3, .L60+16
 485 002a 4FF07F52 		mov	r2, #1069547520
 486 002e 1A60     		str	r2, [r3]	@ float
 174:Src/target.c  **** 			case backward_mode:
 487              		.loc 1 174 5 is_stmt 1 view .LVU60
 488 0030 EEE7     		b	.L43
 489              	.L45:
ARM GAS  C:\Temp\cczuL672.s 			page 13


 182:Src/target.c  **** 			{
 490              		.loc 1 182 4 view .LVU61
 491 0032 2C4B     		ldr	r3, .L60+12
 492 0034 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 493 0036 DBB1     		cbz	r3, .L49
 494 0038 012B     		cmp	r3, #1
 495 003a E9D1     		bne	.L43
 201:Src/target.c  **** 				
 496              		.loc 1 201 5 view .LVU62
 201:Src/target.c  **** 				
 497              		.loc 1 201 43 is_stmt 0 view .LVU63
 498 003c 2C4B     		ldr	r3, .L60+24
 499 003e D3ED007A 		vldr.32	s15, [r3]
 500 0042 67EEA77A 		vmul.f32	s15, s15, s15
 201:Src/target.c  **** 				
 501              		.loc 1 201 22 view .LVU64
 502 0046 F0EE086A 		vmov.f32	s13, #3.0e+0
 503 004a 87EEA67A 		vdiv.f32	s14, s15, s13
 504              	.LVL11:
 204:Src/target.c  **** 				{			
 505              		.loc 1 204 5 is_stmt 1 view .LVU65
 204:Src/target.c  **** 				{			
 506              		.loc 1 204 38 is_stmt 0 view .LVU66
 507 004e 294B     		ldr	r3, .L60+28
 508 0050 D3ED007A 		vldr.32	s15, [r3]
 509 0054 77EE277A 		vadd.f32	s15, s14, s15
 204:Src/target.c  **** 				{			
 510              		.loc 1 204 21 view .LVU67
 511 0058 274B     		ldr	r3, .L60+32
 512 005a 93ED007A 		vldr.32	s14, [r3]
 513              	.LVL12:
 204:Src/target.c  **** 				{			
 514              		.loc 1 204 7 view .LVU68
 515 005e F4EEC77A 		vcmpe.f32	s15, s14
 516 0062 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 517 0066 30D5     		bpl	.L58
 206:Src/target.c  **** 				}
 518              		.loc 1 206 6 is_stmt 1 view .LVU69
 206:Src/target.c  **** 				}
 519              		.loc 1 206 24 is_stmt 0 view .LVU70
 520 0068 1F4B     		ldr	r3, .L60+16
 521 006a 204A     		ldr	r2, .L60+20
 522 006c 1A60     		str	r2, [r3]	@ float
 523 006e CFE7     		b	.L43
 524              	.LVL13:
 525              	.L49:
 186:Src/target.c  **** 				
 526              		.loc 1 186 5 is_stmt 1 view .LVU71
 186:Src/target.c  **** 				
 527              		.loc 1 186 43 is_stmt 0 view .LVU72
 528 0070 1F4B     		ldr	r3, .L60+24
 529 0072 D3ED007A 		vldr.32	s15, [r3]
 530 0076 67EEA77A 		vmul.f32	s15, s15, s15
 186:Src/target.c  **** 				
 531              		.loc 1 186 22 view .LVU73
 532 007a B0EE087A 		vmov.f32	s14, #3.0e+0
 533 007e 87EE878A 		vdiv.f32	s16, s15, s14
ARM GAS  C:\Temp\cczuL672.s 			page 14


 534              	.LVL14:
 189:Src/target.c  **** 				{
 535              		.loc 1 189 5 is_stmt 1 view .LVU74
 189:Src/target.c  **** 				{
 536              		.loc 1 189 21 is_stmt 0 view .LVU75
 537 0082 1D4B     		ldr	r3, .L60+32
 538 0084 1868     		ldr	r0, [r3]	@ float
 539 0086 FFF7FEFF 		bl	__aeabi_f2d
 540              	.LVL15:
 541 008a 13A3     		adr	r3, .L60
 542 008c D3E90023 		ldrd	r2, [r3]
 543 0090 FFF7FEFF 		bl	__aeabi_dadd
 544              	.LVL16:
 545 0094 0446     		mov	r4, r0
 546 0096 0D46     		mov	r5, r1
 189:Src/target.c  **** 				{
 547              		.loc 1 189 46 view .LVU76
 548 0098 164B     		ldr	r3, .L60+28
 549 009a D3ED007A 		vldr.32	s15, [r3]
 550 009e 77EEC87A 		vsub.f32	s15, s15, s16
 551 00a2 17EE900A 		vmov	r0, s15
 552 00a6 FFF7FEFF 		bl	__aeabi_f2d
 553              	.LVL17:
 554 00aa 0246     		mov	r2, r0
 555 00ac 0B46     		mov	r3, r1
 189:Src/target.c  **** 				{
 556              		.loc 1 189 7 view .LVU77
 557 00ae 2046     		mov	r0, r4
 558 00b0 2946     		mov	r1, r5
 559 00b2 FFF7FEFF 		bl	__aeabi_dcmplt
 560              	.LVL18:
 561 00b6 20B1     		cbz	r0, .L57
 191:Src/target.c  **** 				}
 562              		.loc 1 191 6 is_stmt 1 view .LVU78
 191:Src/target.c  **** 				}
 563              		.loc 1 191 24 is_stmt 0 view .LVU79
 564 00b8 0B4B     		ldr	r3, .L60+16
 565 00ba 4FF07F52 		mov	r2, #1069547520
 566 00be 1A60     		str	r2, [r3]	@ float
 567 00c0 A6E7     		b	.L43
 568              	.L57:
 195:Src/target.c  **** 				}
 569              		.loc 1 195 6 is_stmt 1 view .LVU80
 195:Src/target.c  **** 				}
 570              		.loc 1 195 24 is_stmt 0 view .LVU81
 571 00c2 094B     		ldr	r3, .L60+16
 572 00c4 094A     		ldr	r2, .L60+20
 573 00c6 1A60     		str	r2, [r3]	@ float
 574 00c8 A2E7     		b	.L43
 575              	.LVL19:
 576              	.L58:
 210:Src/target.c  **** 				}
 577              		.loc 1 210 6 is_stmt 1 view .LVU82
 210:Src/target.c  **** 				}
 578              		.loc 1 210 24 is_stmt 0 view .LVU83
 579 00ca 074B     		ldr	r3, .L60+16
 580 00cc 4FF07F52 		mov	r2, #1069547520
ARM GAS  C:\Temp\cczuL672.s 			page 15


 581 00d0 1A60     		str	r2, [r3]	@ float
 582              		.loc 1 217 1 view .LVU84
 583 00d2 9DE7     		b	.L43
 584              	.L61:
 585 00d4 AFF30080 		.align	3
 586              	.L60:
 587 00d8 B81E85EB 		.word	-343597384
 588 00dc 51B89E3F 		.word	1067366481
 589 00e0 00000000 		.word	.LANCHOR2
 590 00e4 00000000 		.word	.LANCHOR0
 591 00e8 00000000 		.word	.LANCHOR10
 592 00ec 0000C0BF 		.word	-1077936128
 593 00f0 00000000 		.word	.LANCHOR4
 594 00f4 00000000 		.word	.LANCHOR6
 595 00f8 00000000 		.word	.LANCHOR7
 596              		.cfi_endproc
 597              	.LFE18:
 599              		.global	__aeabi_dmul
 600              		.global	__aeabi_ddiv
 601              		.global	__aeabi_d2f
 602              		.section	.text.calc_rotate_accel,"ax",%progbits
 603              		.align	1
 604              		.global	calc_rotate_accel
 605              		.syntax unified
 606              		.thumb
 607              		.thumb_func
 608              		.fpu fpv4-sp-d16
 610              	calc_rotate_accel:
 611              	.LFB19:
 218:Src/target.c  **** 
 219:Src/target.c  **** //機能	: 角加速度の更新
 220:Src/target.c  **** //引数	: なし
 221:Src/target.c  **** //返り値	: なし
 222:Src/target.c  **** //備考	: 現在角度と目標角度に応じて、加速度をスイッチ
 223:Src/target.c  **** //		: 1msタスク
 224:Src/target.c  **** void calc_rotate_accel(void)
 225:Src/target.c  **** {
 612              		.loc 1 225 1 is_stmt 1 view -0
 613              		.cfi_startproc
 614              		@ args = 0, pretend = 0, frame = 0
 615              		@ frame_needed = 0, uses_anonymous_args = 0
 616 0000 38B5     		push	{r3, r4, r5, lr}
 617              	.LCFI4:
 618              		.cfi_def_cfa_offset 16
 619              		.cfi_offset 3, -16
 620              		.cfi_offset 4, -12
 621              		.cfi_offset 5, -8
 622              		.cfi_offset 14, -4
 226:Src/target.c  **** 
 227:Src/target.c  **** 	float tm_deccel_angle = 0;
 623              		.loc 1 227 2 view .LVU86
 624              	.LVL20:
 228:Src/target.c  **** 
 229:Src/target.c  **** 	switch(rotation_dir_flg)
 625              		.loc 1 229 2 view .LVU87
 626 0002 334B     		ldr	r3, .L75+8
 627 0004 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
ARM GAS  C:\Temp\cczuL672.s 			page 16


 628 0006 13B1     		cbz	r3, .L63
 629 0008 012B     		cmp	r3, #1
 630 000a 2ED0     		beq	.L64
 631              	.LVL21:
 632              	.L62:
 230:Src/target.c  **** 	{
 231:Src/target.c  **** 	case counter_clockwise:
 232:Src/target.c  **** 		/*減速に必要な角度算出*/
 233:Src/target.c  **** 		tm_deccel_angle = 0.5 * target_rotation_speed * target_rotation_speed / rotat_accel;
 234:Src/target.c  **** 		
 235:Src/target.c  **** 		//減速開始前
 236:Src/target.c  **** 		if(ideal_angle < (target_angle - tm_deccel_angle))
 237:Src/target.c  **** 		{			
 238:Src/target.c  **** 			target_rotation_accel =  1 * rotat_accel;
 239:Src/target.c  **** 		}
 240:Src/target.c  **** 		else//減速開始後
 241:Src/target.c  **** 		{																	
 242:Src/target.c  **** 			target_rotation_accel = -1 * rotat_accel;
 243:Src/target.c  **** 		}
 244:Src/target.c  **** 		break;
 245:Src/target.c  **** 
 246:Src/target.c  **** 	case clockwise:
 247:Src/target.c  **** 		/*加速に必要な角度算出*/
 248:Src/target.c  **** 		tm_deccel_angle = 0.5 * target_rotation_speed * target_rotation_speed / rotat_accel;
 249:Src/target.c  **** 		
 250:Src/target.c  **** 		//加速開始前
 251:Src/target.c  **** 		if(ideal_angle > (target_angle + tm_deccel_angle))
 252:Src/target.c  **** 		{
 253:Src/target.c  **** 			target_rotation_accel =  -1 * rotat_accel;
 254:Src/target.c  **** 		}
 255:Src/target.c  **** 		else//加速開始後
 256:Src/target.c  **** 		{
 257:Src/target.c  **** 			target_rotation_accel = 1 * rotat_accel;
 258:Src/target.c  **** 		}
 259:Src/target.c  **** 		break;
 260:Src/target.c  **** 	}
 261:Src/target.c  **** 
 262:Src/target.c  **** }
 633              		.loc 1 262 1 is_stmt 0 view .LVU88
 634 000c 38BD     		pop	{r3, r4, r5, pc}
 635              	.LVL22:
 636              	.L63:
 233:Src/target.c  **** 		
 637              		.loc 1 233 3 is_stmt 1 view .LVU89
 233:Src/target.c  **** 		
 638              		.loc 1 233 25 is_stmt 0 view .LVU90
 639 000e 314B     		ldr	r3, .L75+12
 640 0010 1868     		ldr	r0, [r3]	@ float
 641 0012 FFF7FEFF 		bl	__aeabi_f2d
 642              	.LVL23:
 643 0016 0446     		mov	r4, r0
 644 0018 0D46     		mov	r5, r1
 645 001a 0022     		movs	r2, #0
 646 001c 2E4B     		ldr	r3, .L75+16
 647 001e FFF7FEFF 		bl	__aeabi_dmul
 648              	.LVL24:
 649 0022 0246     		mov	r2, r0
ARM GAS  C:\Temp\cczuL672.s 			page 17


 650 0024 0B46     		mov	r3, r1
 233:Src/target.c  **** 		
 651              		.loc 1 233 49 view .LVU91
 652 0026 2046     		mov	r0, r4
 653 0028 2946     		mov	r1, r5
 654 002a FFF7FEFF 		bl	__aeabi_dmul
 655              	.LVL25:
 233:Src/target.c  **** 		
 656              		.loc 1 233 73 view .LVU92
 657 002e 26A3     		adr	r3, .L75
 658 0030 D3E90023 		ldrd	r2, [r3]
 659 0034 FFF7FEFF 		bl	__aeabi_ddiv
 660              	.LVL26:
 233:Src/target.c  **** 		
 661              		.loc 1 233 19 view .LVU93
 662 0038 FFF7FEFF 		bl	__aeabi_d2f
 663              	.LVL27:
 664 003c 07EE100A 		vmov	s14, r0
 665              	.LVL28:
 236:Src/target.c  **** 		{			
 666              		.loc 1 236 3 is_stmt 1 view .LVU94
 236:Src/target.c  **** 		{			
 667              		.loc 1 236 34 is_stmt 0 view .LVU95
 668 0040 264B     		ldr	r3, .L75+20
 669 0042 D3ED007A 		vldr.32	s15, [r3]
 670 0046 77EEC77A 		vsub.f32	s15, s15, s14
 236:Src/target.c  **** 		{			
 671              		.loc 1 236 18 view .LVU96
 672 004a 254B     		ldr	r3, .L75+24
 673 004c 93ED007A 		vldr.32	s14, [r3]
 236:Src/target.c  **** 		{			
 674              		.loc 1 236 5 view .LVU97
 675 0050 F4EEC77A 		vcmpe.f32	s15, s14
 676 0054 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 677 0058 03DD     		ble	.L72
 238:Src/target.c  **** 		}
 678              		.loc 1 238 4 is_stmt 1 view .LVU98
 238:Src/target.c  **** 		}
 679              		.loc 1 238 26 is_stmt 0 view .LVU99
 680 005a 224B     		ldr	r3, .L75+28
 681 005c 224A     		ldr	r2, .L75+32
 682 005e 1A60     		str	r2, [r3]	@ float
 683 0060 D4E7     		b	.L62
 684              	.L72:
 242:Src/target.c  **** 		}
 685              		.loc 1 242 4 is_stmt 1 view .LVU100
 242:Src/target.c  **** 		}
 686              		.loc 1 242 26 is_stmt 0 view .LVU101
 687 0062 204B     		ldr	r3, .L75+28
 688 0064 214A     		ldr	r2, .L75+36
 689 0066 1A60     		str	r2, [r3]	@ float
 690 0068 D0E7     		b	.L62
 691              	.LVL29:
 692              	.L64:
 248:Src/target.c  **** 		
 693              		.loc 1 248 3 is_stmt 1 view .LVU102
 248:Src/target.c  **** 		
ARM GAS  C:\Temp\cczuL672.s 			page 18


 694              		.loc 1 248 25 is_stmt 0 view .LVU103
 695 006a 1A4B     		ldr	r3, .L75+12
 696 006c 1868     		ldr	r0, [r3]	@ float
 697 006e FFF7FEFF 		bl	__aeabi_f2d
 698              	.LVL30:
 699 0072 0446     		mov	r4, r0
 700 0074 0D46     		mov	r5, r1
 701 0076 0022     		movs	r2, #0
 702 0078 174B     		ldr	r3, .L75+16
 703 007a FFF7FEFF 		bl	__aeabi_dmul
 704              	.LVL31:
 705 007e 0246     		mov	r2, r0
 706 0080 0B46     		mov	r3, r1
 248:Src/target.c  **** 		
 707              		.loc 1 248 49 view .LVU104
 708 0082 2046     		mov	r0, r4
 709 0084 2946     		mov	r1, r5
 710 0086 FFF7FEFF 		bl	__aeabi_dmul
 711              	.LVL32:
 248:Src/target.c  **** 		
 712              		.loc 1 248 73 view .LVU105
 713 008a 0FA3     		adr	r3, .L75
 714 008c D3E90023 		ldrd	r2, [r3]
 715 0090 FFF7FEFF 		bl	__aeabi_ddiv
 716              	.LVL33:
 248:Src/target.c  **** 		
 717              		.loc 1 248 19 view .LVU106
 718 0094 FFF7FEFF 		bl	__aeabi_d2f
 719              	.LVL34:
 720 0098 07EE900A 		vmov	s15, r0
 721              	.LVL35:
 251:Src/target.c  **** 		{
 722              		.loc 1 251 3 is_stmt 1 view .LVU107
 251:Src/target.c  **** 		{
 723              		.loc 1 251 34 is_stmt 0 view .LVU108
 724 009c 0F4B     		ldr	r3, .L75+20
 725 009e 93ED007A 		vldr.32	s14, [r3]
 726 00a2 77EE877A 		vadd.f32	s15, s15, s14
 251:Src/target.c  **** 		{
 727              		.loc 1 251 18 view .LVU109
 728 00a6 0E4B     		ldr	r3, .L75+24
 729 00a8 93ED007A 		vldr.32	s14, [r3]
 251:Src/target.c  **** 		{
 730              		.loc 1 251 5 view .LVU110
 731 00ac F4EEC77A 		vcmpe.f32	s15, s14
 732 00b0 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 733 00b4 03D5     		bpl	.L73
 253:Src/target.c  **** 		}
 734              		.loc 1 253 4 is_stmt 1 view .LVU111
 253:Src/target.c  **** 		}
 735              		.loc 1 253 26 is_stmt 0 view .LVU112
 736 00b6 0B4B     		ldr	r3, .L75+28
 737 00b8 0C4A     		ldr	r2, .L75+36
 738 00ba 1A60     		str	r2, [r3]	@ float
 739 00bc A6E7     		b	.L62
 740              	.L73:
 257:Src/target.c  **** 		}
ARM GAS  C:\Temp\cczuL672.s 			page 19


 741              		.loc 1 257 4 is_stmt 1 view .LVU113
 257:Src/target.c  **** 		}
 742              		.loc 1 257 26 is_stmt 0 view .LVU114
 743 00be 094B     		ldr	r3, .L75+28
 744 00c0 094A     		ldr	r2, .L75+32
 745 00c2 1A60     		str	r2, [r3]	@ float
 746              		.loc 1 262 1 view .LVU115
 747 00c4 A2E7     		b	.L62
 748              	.L76:
 749 00c6 00BF     		.align	3
 750              	.L75:
 751 00c8 00000080 		.word	-2147483648
 752 00cc DB8F6740 		.word	1080528859
 753 00d0 00000000 		.word	.LANCHOR1
 754 00d4 00000000 		.word	.LANCHOR5
 755 00d8 0000E03F 		.word	1071644672
 756 00dc 00000000 		.word	.LANCHOR9
 757 00e0 00000000 		.word	.LANCHOR8
 758 00e4 00000000 		.word	.LANCHOR11
 759 00e8 DC7E3C43 		.word	1128038108
 760 00ec DC7E3CC3 		.word	-1019445540
 761              		.cfi_endproc
 762              	.LFE19:
 764              		.section	.text.calc_target_move_speed,"ax",%progbits
 765              		.align	1
 766              		.global	calc_target_move_speed
 767              		.syntax unified
 768              		.thumb
 769              		.thumb_func
 770              		.fpu fpv4-sp-d16
 772              	calc_target_move_speed:
 773              	.LFB20:
 263:Src/target.c  **** 
 264:Src/target.c  **** 
 265:Src/target.c  **** //機能	: 目標速度更新
 266:Src/target.c  **** //引数	: なし
 267:Src/target.c  **** //返り値	: なし
 268:Src/target.c  **** //備考	:1msタスク
 269:Src/target.c  **** void calc_target_move_speed(void)
 270:Src/target.c  **** {
 774              		.loc 1 270 1 is_stmt 1 view -0
 775              		.cfi_startproc
 776              		@ args = 0, pretend = 0, frame = 0
 777              		@ frame_needed = 0, uses_anonymous_args = 0
 778 0000 70B5     		push	{r4, r5, r6, lr}
 779              	.LCFI5:
 780              		.cfi_def_cfa_offset 16
 781              		.cfi_offset 4, -16
 782              		.cfi_offset 5, -12
 783              		.cfi_offset 6, -8
 784              		.cfi_offset 14, -4
 271:Src/target.c  **** 
 272:Src/target.c  **** 	/*m加速処理*/
 273:Src/target.c  **** 	target_move_speed += target_move_accel * 0.001; //1ms分の加速加算
 785              		.loc 1 273 2 view .LVU117
 786              		.loc 1 273 41 is_stmt 0 view .LVU118
 787 0002 3D4B     		ldr	r3, .L97+16
ARM GAS  C:\Temp\cczuL672.s 			page 20


 788 0004 1868     		ldr	r0, [r3]	@ float
 789 0006 FFF7FEFF 		bl	__aeabi_f2d
 790              	.LVL36:
 791 000a 37A3     		adr	r3, .L97
 792 000c D3E90023 		ldrd	r2, [r3]
 793 0010 FFF7FEFF 		bl	__aeabi_dmul
 794              	.LVL37:
 795 0014 0446     		mov	r4, r0
 796 0016 0D46     		mov	r5, r1
 797              		.loc 1 273 20 view .LVU119
 798 0018 384E     		ldr	r6, .L97+20
 799 001a 3068     		ldr	r0, [r6]	@ float
 800 001c FFF7FEFF 		bl	__aeabi_f2d
 801              	.LVL38:
 802 0020 2246     		mov	r2, r4
 803 0022 2B46     		mov	r3, r5
 804 0024 FFF7FEFF 		bl	__aeabi_dadd
 805              	.LVL39:
 806 0028 FFF7FEFF 		bl	__aeabi_d2f
 807              	.LVL40:
 808 002c 07EE900A 		vmov	s15, r0
 809 0030 3060     		str	r0, [r6]	@ float
 274:Src/target.c  **** 
 275:Src/target.c  **** 	/*limit処理*/
 276:Src/target.c  **** 	switch(move_dir_flg)
 810              		.loc 1 276 2 is_stmt 1 view .LVU120
 811 0032 334B     		ldr	r3, .L97+24
 812 0034 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 813 0036 C3B1     		cbz	r3, .L78
 814 0038 012B     		cmp	r3, #1
 815 003a 3ED0     		beq	.L79
 816              	.L80:
 277:Src/target.c  **** 	{
 278:Src/target.c  **** 		case forward_mode:
 279:Src/target.c  **** 			//下限処理
 280:Src/target.c  **** 			switch(speed_under_lim_flg){
 281:Src/target.c  **** 				case zero :
 282:Src/target.c  **** 					if (target_move_speed < 0){	
 283:Src/target.c  **** 						target_move_speed = 0;
 284:Src/target.c  **** 						}
 285:Src/target.c  **** 					break;
 286:Src/target.c  **** 				case slow :
 287:Src/target.c  **** 					if (target_move_speed < move_speed_slow){	
 288:Src/target.c  **** 						target_move_speed = move_speed_slow;
 289:Src/target.c  **** 						}
 290:Src/target.c  **** 					break;
 291:Src/target.c  **** 			}
 292:Src/target.c  **** 			//上限スピード処理
 293:Src/target.c  **** 			if (target_move_speed > move_speed_max)
 294:Src/target.c  **** 			{
 295:Src/target.c  **** 				target_move_speed = move_speed_max;
 296:Src/target.c  **** 			}
 297:Src/target.c  **** 			break;
 298:Src/target.c  **** 
 299:Src/target.c  **** 		case backward_mode:
 300:Src/target.c  **** 			if (target_move_speed > 0)	//上限スピード処理
 301:Src/target.c  **** 				{
ARM GAS  C:\Temp\cczuL672.s 			page 21


 302:Src/target.c  **** 					target_move_speed = 0;
 303:Src/target.c  **** 				}
 304:Src/target.c  **** 				else if (target_move_speed < -1 * move_speed_max)//下限スピード処理
 305:Src/target.c  **** 				{
 306:Src/target.c  **** 					target_move_speed = -1 * move_speed_max;
 307:Src/target.c  **** 				}
 308:Src/target.c  **** 			break;
 309:Src/target.c  **** 	}
 310:Src/target.c  **** 
 311:Src/target.c  **** 	//理想移動距離算出
 312:Src/target.c  **** 	ideal_length += target_move_speed * 0.001;
 817              		.loc 1 312 2 view .LVU121
 818              		.loc 1 312 36 is_stmt 0 view .LVU122
 819 003c 2F4B     		ldr	r3, .L97+20
 820 003e 1868     		ldr	r0, [r3]	@ float
 821 0040 FFF7FEFF 		bl	__aeabi_f2d
 822              	.LVL41:
 823 0044 28A3     		adr	r3, .L97
 824 0046 D3E90023 		ldrd	r2, [r3]
 825 004a FFF7FEFF 		bl	__aeabi_dmul
 826              	.LVL42:
 827 004e 0446     		mov	r4, r0
 828 0050 0D46     		mov	r5, r1
 829              		.loc 1 312 15 view .LVU123
 830 0052 2C4E     		ldr	r6, .L97+28
 831 0054 3068     		ldr	r0, [r6]	@ float
 832 0056 FFF7FEFF 		bl	__aeabi_f2d
 833              	.LVL43:
 834 005a 2246     		mov	r2, r4
 835 005c 2B46     		mov	r3, r5
 836 005e FFF7FEFF 		bl	__aeabi_dadd
 837              	.LVL44:
 838 0062 FFF7FEFF 		bl	__aeabi_d2f
 839              	.LVL45:
 840 0066 3060     		str	r0, [r6]	@ float
 313:Src/target.c  **** 
 314:Src/target.c  **** }
 841              		.loc 1 314 1 view .LVU124
 842 0068 70BD     		pop	{r4, r5, r6, pc}
 843              	.L78:
 280:Src/target.c  **** 				case zero :
 844              		.loc 1 280 4 is_stmt 1 view .LVU125
 845 006a 274B     		ldr	r3, .L97+32
 846 006c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 847 006e 73B1     		cbz	r3, .L81
 848 0070 012B     		cmp	r3, #1
 849 0072 15D0     		beq	.L82
 850              	.L83:
 293:Src/target.c  **** 			{
 851              		.loc 1 293 4 view .LVU126
 293:Src/target.c  **** 			{
 852              		.loc 1 293 26 is_stmt 0 view .LVU127
 853 0074 214B     		ldr	r3, .L97+20
 854 0076 93ED007A 		vldr.32	s14, [r3]
 293:Src/target.c  **** 			{
 855              		.loc 1 293 7 view .LVU128
 856 007a DFED247A 		vldr.32	s15, .L97+36
ARM GAS  C:\Temp\cczuL672.s 			page 22


 857 007e B4EEE77A 		vcmpe.f32	s14, s15
 858 0082 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 859 0086 D9DD     		ble	.L80
 295:Src/target.c  **** 			}
 860              		.loc 1 295 5 is_stmt 1 view .LVU129
 295:Src/target.c  **** 			}
 861              		.loc 1 295 23 is_stmt 0 view .LVU130
 862 0088 C3ED007A 		vstr.32	s15, [r3]
 863 008c D6E7     		b	.L80
 864              	.L81:
 282:Src/target.c  **** 						target_move_speed = 0;
 865              		.loc 1 282 6 is_stmt 1 view .LVU131
 282:Src/target.c  **** 						target_move_speed = 0;
 866              		.loc 1 282 9 is_stmt 0 view .LVU132
 867 008e F5EEC07A 		vcmpe.f32	s15, #0
 868 0092 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 869 0096 EDD5     		bpl	.L83
 283:Src/target.c  **** 						}
 870              		.loc 1 283 7 is_stmt 1 view .LVU133
 283:Src/target.c  **** 						}
 871              		.loc 1 283 25 is_stmt 0 view .LVU134
 872 0098 184B     		ldr	r3, .L97+20
 873 009a 0022     		movs	r2, #0
 874 009c 1A60     		str	r2, [r3]	@ float
 875 009e E9E7     		b	.L83
 876              	.L82:
 287:Src/target.c  **** 						target_move_speed = move_speed_slow;
 877              		.loc 1 287 6 is_stmt 1 view .LVU135
 287:Src/target.c  **** 						target_move_speed = move_speed_slow;
 878              		.loc 1 287 28 is_stmt 0 view .LVU136
 879 00a0 FFF7FEFF 		bl	__aeabi_f2d
 880              	.LVL46:
 287:Src/target.c  **** 						target_move_speed = move_speed_slow;
 881              		.loc 1 287 9 view .LVU137
 882 00a4 12A3     		adr	r3, .L97+8
 883 00a6 D3E90023 		ldrd	r2, [r3]
 884 00aa FFF7FEFF 		bl	__aeabi_dcmplt
 885              	.LVL47:
 886 00ae 0028     		cmp	r0, #0
 887 00b0 E0D0     		beq	.L83
 288:Src/target.c  **** 						}
 888              		.loc 1 288 7 is_stmt 1 view .LVU138
 288:Src/target.c  **** 						}
 889              		.loc 1 288 25 is_stmt 0 view .LVU139
 890 00b2 124B     		ldr	r3, .L97+20
 891 00b4 164A     		ldr	r2, .L97+40
 892 00b6 1A60     		str	r2, [r3]	@ float
 893 00b8 DCE7     		b	.L83
 894              	.L79:
 300:Src/target.c  **** 				{
 895              		.loc 1 300 4 is_stmt 1 view .LVU140
 300:Src/target.c  **** 				{
 896              		.loc 1 300 7 is_stmt 0 view .LVU141
 897 00ba F5EEC07A 		vcmpe.f32	s15, #0
 898 00be F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 899 00c2 03DD     		ble	.L95
 302:Src/target.c  **** 				}
ARM GAS  C:\Temp\cczuL672.s 			page 23


 900              		.loc 1 302 6 is_stmt 1 view .LVU142
 302:Src/target.c  **** 				}
 901              		.loc 1 302 24 is_stmt 0 view .LVU143
 902 00c4 0D4B     		ldr	r3, .L97+20
 903 00c6 0022     		movs	r2, #0
 904 00c8 1A60     		str	r2, [r3]	@ float
 905 00ca B7E7     		b	.L80
 906              	.L95:
 304:Src/target.c  **** 				{
 907              		.loc 1 304 10 is_stmt 1 view .LVU144
 304:Src/target.c  **** 				{
 908              		.loc 1 304 13 is_stmt 0 view .LVU145
 909 00cc 9FED117A 		vldr.32	s14, .L97+44
 910 00d0 F4EEC77A 		vcmpe.f32	s15, s14
 911 00d4 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 912 00d8 B0D5     		bpl	.L80
 306:Src/target.c  **** 				}
 913              		.loc 1 306 6 is_stmt 1 view .LVU146
 306:Src/target.c  **** 				}
 914              		.loc 1 306 24 is_stmt 0 view .LVU147
 915 00da 084B     		ldr	r3, .L97+20
 916 00dc 83ED007A 		vstr.32	s14, [r3]
 917 00e0 ACE7     		b	.L80
 918              	.L98:
 919 00e2 00BFAFF3 		.align	3
 919      0080
 920              	.L97:
 921 00e8 FCA9F1D2 		.word	-755914244
 922 00ec 4D62503F 		.word	1062232653
 923 00f0 B81E85EB 		.word	-343597384
 924 00f4 51B89E3F 		.word	1067366481
 925 00f8 00000000 		.word	.LANCHOR10
 926 00fc 00000000 		.word	.LANCHOR4
 927 0100 00000000 		.word	.LANCHOR0
 928 0104 00000000 		.word	.LANCHOR7
 929 0108 00000000 		.word	.LANCHOR3
 930 010c 9A99993E 		.word	1050253722
 931 0110 8FC2F53C 		.word	1022739087
 932 0114 9A9999BE 		.word	-1097229926
 933              		.cfi_endproc
 934              	.LFE20:
 936              		.section	.text.calc_target_rotation_speed,"ax",%progbits
 937              		.align	1
 938              		.global	calc_target_rotation_speed
 939              		.syntax unified
 940              		.thumb
 941              		.thumb_func
 942              		.fpu fpv4-sp-d16
 944              	calc_target_rotation_speed:
 945              	.LFB21:
 315:Src/target.c  **** 
 316:Src/target.c  **** //機能	: 目標角速度を更新する
 317:Src/target.c  **** //引数	: なし:
 318:Src/target.c  **** //返り値	: なし
 319:Src/target.c  **** //備考	:1msタスク
 320:Src/target.c  **** void calc_target_rotation_speed ( void )
 321:Src/target.c  **** {
ARM GAS  C:\Temp\cczuL672.s 			page 24


 946              		.loc 1 321 1 is_stmt 1 view -0
 947              		.cfi_startproc
 948              		@ args = 0, pretend = 0, frame = 0
 949              		@ frame_needed = 0, uses_anonymous_args = 0
 950 0000 70B5     		push	{r4, r5, r6, lr}
 951              	.LCFI6:
 952              		.cfi_def_cfa_offset 16
 953              		.cfi_offset 4, -16
 954              		.cfi_offset 5, -12
 955              		.cfi_offset 6, -8
 956              		.cfi_offset 14, -4
 322:Src/target.c  **** 	target_rotation_speed += target_rotation_accel * 0.001; //1ms分の角加速度加算
 957              		.loc 1 322 2 view .LVU149
 958              		.loc 1 322 49 is_stmt 0 view .LVU150
 959 0002 314B     		ldr	r3, .L117+8
 960 0004 1868     		ldr	r0, [r3]	@ float
 961 0006 FFF7FEFF 		bl	__aeabi_f2d
 962              	.LVL48:
 963 000a 2DA3     		adr	r3, .L117
 964 000c D3E90023 		ldrd	r2, [r3]
 965 0010 FFF7FEFF 		bl	__aeabi_dmul
 966              	.LVL49:
 967 0014 0446     		mov	r4, r0
 968 0016 0D46     		mov	r5, r1
 969              		.loc 1 322 24 view .LVU151
 970 0018 2C4E     		ldr	r6, .L117+12
 971 001a 3068     		ldr	r0, [r6]	@ float
 972 001c FFF7FEFF 		bl	__aeabi_f2d
 973              	.LVL50:
 974 0020 2246     		mov	r2, r4
 975 0022 2B46     		mov	r3, r5
 976 0024 FFF7FEFF 		bl	__aeabi_dadd
 977              	.LVL51:
 978 0028 FFF7FEFF 		bl	__aeabi_d2f
 979              	.LVL52:
 980 002c 07EE900A 		vmov	s15, r0
 981 0030 3060     		str	r0, [r6]	@ float
 323:Src/target.c  **** 
 324:Src/target.c  **** 	switch(rotation_dir_flg)
 982              		.loc 1 324 2 is_stmt 1 view .LVU152
 983 0032 274B     		ldr	r3, .L117+16
 984 0034 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 985 0036 C3B1     		cbz	r3, .L100
 986 0038 012B     		cmp	r3, #1
 987 003a 2AD0     		beq	.L101
 988              	.L102:
 325:Src/target.c  **** 		{
 326:Src/target.c  **** 			case counter_clockwise:
 327:Src/target.c  **** 
 328:Src/target.c  **** 				if (target_rotation_speed < 0)	//m 下限スピード処理
 329:Src/target.c  **** 						{
 330:Src/target.c  **** 							target_rotation_speed = 0;
 331:Src/target.c  **** 						}
 332:Src/target.c  **** 						else if (target_rotation_speed > rotat_speed_max)//上限スピード処理
 333:Src/target.c  **** 						{
 334:Src/target.c  **** 							target_rotation_speed = rotat_speed_max;
 335:Src/target.c  **** 						}
ARM GAS  C:\Temp\cczuL672.s 			page 25


 336:Src/target.c  **** 				break;
 337:Src/target.c  **** 
 338:Src/target.c  **** 			case clockwise:
 339:Src/target.c  **** 				if (target_rotation_speed > 0)	//m 上限スピード処理
 340:Src/target.c  **** 					{
 341:Src/target.c  **** 						target_rotation_speed = 0;
 342:Src/target.c  **** 					}
 343:Src/target.c  **** 					else if (target_rotation_speed < -1 * rotat_speed_max)//下限スピード処理
 344:Src/target.c  **** 					{
 345:Src/target.c  **** 						target_rotation_speed = -1 * rotat_speed_max;
 346:Src/target.c  **** 					}
 347:Src/target.c  **** 				break;
 348:Src/target.c  **** 		}
 349:Src/target.c  **** 
 350:Src/target.c  **** 	ideal_angle += target_rotation_speed * 0.001;
 989              		.loc 1 350 2 view .LVU153
 990              		.loc 1 350 39 is_stmt 0 view .LVU154
 991 003c 234B     		ldr	r3, .L117+12
 992 003e 1868     		ldr	r0, [r3]	@ float
 993 0040 FFF7FEFF 		bl	__aeabi_f2d
 994              	.LVL53:
 995 0044 1EA3     		adr	r3, .L117
 996 0046 D3E90023 		ldrd	r2, [r3]
 997 004a FFF7FEFF 		bl	__aeabi_dmul
 998              	.LVL54:
 999 004e 0446     		mov	r4, r0
 1000 0050 0D46     		mov	r5, r1
 1001              		.loc 1 350 14 view .LVU155
 1002 0052 204E     		ldr	r6, .L117+20
 1003 0054 3068     		ldr	r0, [r6]	@ float
 1004 0056 FFF7FEFF 		bl	__aeabi_f2d
 1005              	.LVL55:
 1006 005a 2246     		mov	r2, r4
 1007 005c 2B46     		mov	r3, r5
 1008 005e FFF7FEFF 		bl	__aeabi_dadd
 1009              	.LVL56:
 1010 0062 FFF7FEFF 		bl	__aeabi_d2f
 1011              	.LVL57:
 1012 0066 3060     		str	r0, [r6]	@ float
 351:Src/target.c  **** 
 352:Src/target.c  **** }
 1013              		.loc 1 352 1 view .LVU156
 1014 0068 70BD     		pop	{r4, r5, r6, pc}
 1015              	.L100:
 328:Src/target.c  **** 						{
 1016              		.loc 1 328 5 is_stmt 1 view .LVU157
 328:Src/target.c  **** 						{
 1017              		.loc 1 328 8 is_stmt 0 view .LVU158
 1018 006a F5EEC07A 		vcmpe.f32	s15, #0
 1019 006e F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1020 0072 0AD4     		bmi	.L116
 332:Src/target.c  **** 						{
 1021              		.loc 1 332 12 is_stmt 1 view .LVU159
 332:Src/target.c  **** 						{
 1022              		.loc 1 332 15 is_stmt 0 view .LVU160
 1023 0074 9FED187A 		vldr.32	s14, .L117+24
 1024 0078 F4EEC77A 		vcmpe.f32	s15, s14
ARM GAS  C:\Temp\cczuL672.s 			page 26


 1025 007c F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1026 0080 DCDD     		ble	.L102
 334:Src/target.c  **** 						}
 1027              		.loc 1 334 8 is_stmt 1 view .LVU161
 334:Src/target.c  **** 						}
 1028              		.loc 1 334 30 is_stmt 0 view .LVU162
 1029 0082 124B     		ldr	r3, .L117+12
 1030 0084 83ED007A 		vstr.32	s14, [r3]
 1031 0088 D8E7     		b	.L102
 1032              	.L116:
 330:Src/target.c  **** 						}
 1033              		.loc 1 330 8 is_stmt 1 view .LVU163
 330:Src/target.c  **** 						}
 1034              		.loc 1 330 30 is_stmt 0 view .LVU164
 1035 008a 104B     		ldr	r3, .L117+12
 1036 008c 0022     		movs	r2, #0
 1037 008e 1A60     		str	r2, [r3]	@ float
 1038 0090 D4E7     		b	.L102
 1039              	.L101:
 339:Src/target.c  **** 					{
 1040              		.loc 1 339 5 is_stmt 1 view .LVU165
 339:Src/target.c  **** 					{
 1041              		.loc 1 339 8 is_stmt 0 view .LVU166
 1042 0092 F5EEC07A 		vcmpe.f32	s15, #0
 1043 0096 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1044 009a 03DD     		ble	.L114
 341:Src/target.c  **** 					}
 1045              		.loc 1 341 7 is_stmt 1 view .LVU167
 341:Src/target.c  **** 					}
 1046              		.loc 1 341 29 is_stmt 0 view .LVU168
 1047 009c 0B4B     		ldr	r3, .L117+12
 1048 009e 0022     		movs	r2, #0
 1049 00a0 1A60     		str	r2, [r3]	@ float
 1050 00a2 CBE7     		b	.L102
 1051              	.L114:
 343:Src/target.c  **** 					{
 1052              		.loc 1 343 11 is_stmt 1 view .LVU169
 343:Src/target.c  **** 					{
 1053              		.loc 1 343 14 is_stmt 0 view .LVU170
 1054 00a4 9FED0D7A 		vldr.32	s14, .L117+28
 1055 00a8 F4EEC77A 		vcmpe.f32	s15, s14
 1056 00ac F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1057 00b0 C4D5     		bpl	.L102
 345:Src/target.c  **** 					}
 1058              		.loc 1 345 7 is_stmt 1 view .LVU171
 345:Src/target.c  **** 					}
 1059              		.loc 1 345 29 is_stmt 0 view .LVU172
 1060 00b2 064B     		ldr	r3, .L117+12
 1061 00b4 83ED007A 		vstr.32	s14, [r3]
 1062 00b8 C0E7     		b	.L102
 1063              	.L118:
 1064 00ba 00BFAFF3 		.align	3
 1064      0080
 1065              	.L117:
 1066 00c0 FCA9F1D2 		.word	-755914244
 1067 00c4 4D62503F 		.word	1062232653
 1068 00c8 00000000 		.word	.LANCHOR11
ARM GAS  C:\Temp\cczuL672.s 			page 27


 1069 00cc 00000000 		.word	.LANCHOR5
 1070 00d0 00000000 		.word	.LANCHOR1
 1071 00d4 00000000 		.word	.LANCHOR8
 1072 00d8 DA0F4941 		.word	1095307226
 1073 00dc DA0F49C1 		.word	-1052176422
 1074              		.cfi_endproc
 1075              	.LFE21:
 1077              		.section	.text.target_1ms,"ax",%progbits
 1078              		.align	1
 1079              		.global	target_1ms
 1080              		.syntax unified
 1081              		.thumb
 1082              		.thumb_func
 1083              		.fpu fpv4-sp-d16
 1085              	target_1ms:
 1086              	.LFB3:
  34:Src/target.c  **** 	calc_target_move_accel();		//移動加速度更新
 1087              		.loc 1 34 1 is_stmt 1 view -0
 1088              		.cfi_startproc
 1089              		@ args = 0, pretend = 0, frame = 0
 1090              		@ frame_needed = 0, uses_anonymous_args = 0
 1091 0000 08B5     		push	{r3, lr}
 1092              	.LCFI7:
 1093              		.cfi_def_cfa_offset 8
 1094              		.cfi_offset 3, -8
 1095              		.cfi_offset 14, -4
  35:Src/target.c  **** 	calc_rotate_accel();			//回転角速度更新
 1096              		.loc 1 35 2 view .LVU174
 1097 0002 FFF7FEFF 		bl	calc_target_move_accel
 1098              	.LVL58:
  36:Src/target.c  **** 	calc_target_move_speed();		//目標移動速度更新
 1099              		.loc 1 36 2 view .LVU175
 1100 0006 FFF7FEFF 		bl	calc_rotate_accel
 1101              	.LVL59:
  37:Src/target.c  **** 	calc_target_rotation_speed();	//目標角速度更新
 1102              		.loc 1 37 2 view .LVU176
 1103 000a FFF7FEFF 		bl	calc_target_move_speed
 1104              	.LVL60:
  38:Src/target.c  **** }
 1105              		.loc 1 38 2 view .LVU177
 1106 000e FFF7FEFF 		bl	calc_target_rotation_speed
 1107              	.LVL61:
  39:Src/target.c  **** 
 1108              		.loc 1 39 1 is_stmt 0 view .LVU178
 1109 0012 08BD     		pop	{r3, pc}
 1110              		.cfi_endproc
 1111              	.LFE3:
 1113              		.section	.bss.accel_dir_flg,"aw",%nobits
 1114              		.set	.LANCHOR2,. + 0
 1117              	accel_dir_flg:
 1118 0000 00       		.space	1
 1119              		.section	.bss.ideal_angle,"aw",%nobits
 1120              		.align	2
 1121              		.set	.LANCHOR8,. + 0
 1124              	ideal_angle:
 1125 0000 00000000 		.space	4
 1126              		.section	.bss.ideal_length,"aw",%nobits
ARM GAS  C:\Temp\cczuL672.s 			page 28


 1127              		.align	2
 1128              		.set	.LANCHOR7,. + 0
 1131              	ideal_length:
 1132 0000 00000000 		.space	4
 1133              		.section	.bss.move_dir_flg,"aw",%nobits
 1134              		.set	.LANCHOR0,. + 0
 1137              	move_dir_flg:
 1138 0000 00       		.space	1
 1139              		.section	.bss.rotation_dir_flg,"aw",%nobits
 1140              		.set	.LANCHOR1,. + 0
 1143              	rotation_dir_flg:
 1144 0000 00       		.space	1
 1145              		.section	.bss.speed_under_lim_flg,"aw",%nobits
 1146              		.set	.LANCHOR3,. + 0
 1149              	speed_under_lim_flg:
 1150 0000 00       		.space	1
 1151              		.section	.bss.target_angle,"aw",%nobits
 1152              		.align	2
 1153              		.set	.LANCHOR9,. + 0
 1156              	target_angle:
 1157 0000 00000000 		.space	4
 1158              		.section	.bss.target_length,"aw",%nobits
 1159              		.align	2
 1160              		.set	.LANCHOR6,. + 0
 1163              	target_length:
 1164 0000 00000000 		.space	4
 1165              		.section	.bss.target_move_accel,"aw",%nobits
 1166              		.align	2
 1167              		.set	.LANCHOR10,. + 0
 1170              	target_move_accel:
 1171 0000 00000000 		.space	4
 1172              		.section	.bss.target_move_speed,"aw",%nobits
 1173              		.align	2
 1174              		.set	.LANCHOR4,. + 0
 1177              	target_move_speed:
 1178 0000 00000000 		.space	4
 1179              		.section	.bss.target_rotation_accel,"aw",%nobits
 1180              		.align	2
 1181              		.set	.LANCHOR11,. + 0
 1184              	target_rotation_accel:
 1185 0000 00000000 		.space	4
 1186              		.section	.bss.target_rotation_speed,"aw",%nobits
 1187              		.align	2
 1188              		.set	.LANCHOR5,. + 0
 1191              	target_rotation_speed:
 1192 0000 00000000 		.space	4
 1193              		.text
 1194              	.Letext0:
 1195              		.file 2 "c:\\tools\\gcc-arm-none-eabi-9-2019-q4-major\\arm-none-eabi\\include\\sys\\lock.h"
 1196              		.file 3 "c:\\tools\\gcc-arm-none-eabi-9-2019-q4-major\\arm-none-eabi\\include\\sys\\_types.h"
 1197              		.file 4 "c:\\tools\\gcc-arm-none-eabi-9-2019-q4-major\\lib\\gcc\\arm-none-eabi\\9.2.1\\include\\st
 1198              		.file 5 "c:\\tools\\gcc-arm-none-eabi-9-2019-q4-major\\arm-none-eabi\\include\\sys\\reent.h"
 1199              		.file 6 "c:\\tools\\gcc-arm-none-eabi-9-2019-q4-major\\arm-none-eabi\\include\\math.h"
 1200              		.file 7 "Inc/target.h"
ARM GAS  C:\Temp\cczuL672.s 			page 29


DEFINED SYMBOLS
                            *ABS*:00000000 target.c
  C:\Temp\cczuL672.s:18     .text.set_direction_mode:00000000 $t
  C:\Temp\cczuL672.s:26     .text.set_direction_mode:00000000 set_direction_mode
  C:\Temp\cczuL672.s:44     .text.set_direction_mode:00000008 $d
  C:\Temp\cczuL672.s:49     .text.set_rotation_mode:00000000 $t
  C:\Temp\cczuL672.s:56     .text.set_rotation_mode:00000000 set_rotation_mode
  C:\Temp\cczuL672.s:73     .text.set_rotation_mode:00000008 $d
  C:\Temp\cczuL672.s:78     .text.set_accel_mode:00000000 $t
  C:\Temp\cczuL672.s:85     .text.set_accel_mode:00000000 set_accel_mode
  C:\Temp\cczuL672.s:102    .text.set_accel_mode:00000008 $d
  C:\Temp\cczuL672.s:107    .text.set_speed_under_lim_flg:00000000 $t
  C:\Temp\cczuL672.s:114    .text.set_speed_under_lim_flg:00000000 set_speed_under_lim_flg
  C:\Temp\cczuL672.s:131    .text.set_speed_under_lim_flg:00000008 $d
  C:\Temp\cczuL672.s:136    .text.get_target_move_speed:00000000 $t
  C:\Temp\cczuL672.s:143    .text.get_target_move_speed:00000000 get_target_move_speed
  C:\Temp\cczuL672.s:158    .text.get_target_move_speed:00000008 $d
  C:\Temp\cczuL672.s:163    .text.get_target_rotation_speed:00000000 $t
  C:\Temp\cczuL672.s:170    .text.get_target_rotation_speed:00000000 get_target_rotation_speed
  C:\Temp\cczuL672.s:185    .text.get_target_rotation_speed:00000008 $d
  C:\Temp\cczuL672.s:190    .text.get_target_length:00000000 $t
  C:\Temp\cczuL672.s:197    .text.get_target_length:00000000 get_target_length
  C:\Temp\cczuL672.s:212    .text.get_target_length:00000008 $d
  C:\Temp\cczuL672.s:217    .text.set_ideal_length:00000000 $t
  C:\Temp\cczuL672.s:224    .text.set_ideal_length:00000000 set_ideal_length
  C:\Temp\cczuL672.s:241    .text.set_ideal_length:00000008 $d
  C:\Temp\cczuL672.s:246    .text.set_ideal_angle:00000000 $t
  C:\Temp\cczuL672.s:253    .text.set_ideal_angle:00000000 set_ideal_angle
  C:\Temp\cczuL672.s:270    .text.set_ideal_angle:00000008 $d
  C:\Temp\cczuL672.s:275    .text.get_ideal_length:00000000 $t
  C:\Temp\cczuL672.s:282    .text.get_ideal_length:00000000 get_ideal_length
  C:\Temp\cczuL672.s:297    .text.get_ideal_length:00000008 $d
  C:\Temp\cczuL672.s:302    .text.get_target_angle:00000000 $t
  C:\Temp\cczuL672.s:309    .text.get_target_angle:00000000 get_target_angle
  C:\Temp\cczuL672.s:324    .text.get_target_angle:00000008 $d
  C:\Temp\cczuL672.s:329    .text.get_ideal_angle:00000000 $t
  C:\Temp\cczuL672.s:336    .text.get_ideal_angle:00000000 get_ideal_angle
  C:\Temp\cczuL672.s:351    .text.get_ideal_angle:00000008 $d
  C:\Temp\cczuL672.s:356    .text.set_target_length:00000000 $t
  C:\Temp\cczuL672.s:363    .text.set_target_length:00000000 set_target_length
  C:\Temp\cczuL672.s:382    .text.set_target_length:00000010 $d
  C:\Temp\cczuL672.s:387    .text.set_target_angle:00000000 $t
  C:\Temp\cczuL672.s:394    .text.set_target_angle:00000000 set_target_angle
  C:\Temp\cczuL672.s:413    .text.set_target_angle:00000010 $d
  C:\Temp\cczuL672.s:421    .text.calc_target_move_accel:00000000 $t
  C:\Temp\cczuL672.s:428    .text.calc_target_move_accel:00000000 calc_target_move_accel
  C:\Temp\cczuL672.s:587    .text.calc_target_move_accel:000000d8 $d
  C:\Temp\cczuL672.s:603    .text.calc_rotate_accel:00000000 $t
  C:\Temp\cczuL672.s:610    .text.calc_rotate_accel:00000000 calc_rotate_accel
  C:\Temp\cczuL672.s:751    .text.calc_rotate_accel:000000c8 $d
  C:\Temp\cczuL672.s:765    .text.calc_target_move_speed:00000000 $t
  C:\Temp\cczuL672.s:772    .text.calc_target_move_speed:00000000 calc_target_move_speed
  C:\Temp\cczuL672.s:921    .text.calc_target_move_speed:000000e8 $d
  C:\Temp\cczuL672.s:937    .text.calc_target_rotation_speed:00000000 $t
  C:\Temp\cczuL672.s:944    .text.calc_target_rotation_speed:00000000 calc_target_rotation_speed
  C:\Temp\cczuL672.s:1066   .text.calc_target_rotation_speed:000000c0 $d
  C:\Temp\cczuL672.s:1078   .text.target_1ms:00000000 $t
ARM GAS  C:\Temp\cczuL672.s 			page 30


  C:\Temp\cczuL672.s:1085   .text.target_1ms:00000000 target_1ms
  C:\Temp\cczuL672.s:1117   .bss.accel_dir_flg:00000000 accel_dir_flg
  C:\Temp\cczuL672.s:1118   .bss.accel_dir_flg:00000000 $d
  C:\Temp\cczuL672.s:1120   .bss.ideal_angle:00000000 $d
  C:\Temp\cczuL672.s:1124   .bss.ideal_angle:00000000 ideal_angle
  C:\Temp\cczuL672.s:1127   .bss.ideal_length:00000000 $d
  C:\Temp\cczuL672.s:1131   .bss.ideal_length:00000000 ideal_length
  C:\Temp\cczuL672.s:1137   .bss.move_dir_flg:00000000 move_dir_flg
  C:\Temp\cczuL672.s:1138   .bss.move_dir_flg:00000000 $d
  C:\Temp\cczuL672.s:1143   .bss.rotation_dir_flg:00000000 rotation_dir_flg
  C:\Temp\cczuL672.s:1144   .bss.rotation_dir_flg:00000000 $d
  C:\Temp\cczuL672.s:1149   .bss.speed_under_lim_flg:00000000 speed_under_lim_flg
  C:\Temp\cczuL672.s:1150   .bss.speed_under_lim_flg:00000000 $d
  C:\Temp\cczuL672.s:1152   .bss.target_angle:00000000 $d
  C:\Temp\cczuL672.s:1156   .bss.target_angle:00000000 target_angle
  C:\Temp\cczuL672.s:1159   .bss.target_length:00000000 $d
  C:\Temp\cczuL672.s:1163   .bss.target_length:00000000 target_length
  C:\Temp\cczuL672.s:1166   .bss.target_move_accel:00000000 $d
  C:\Temp\cczuL672.s:1170   .bss.target_move_accel:00000000 target_move_accel
  C:\Temp\cczuL672.s:1173   .bss.target_move_speed:00000000 $d
  C:\Temp\cczuL672.s:1177   .bss.target_move_speed:00000000 target_move_speed
  C:\Temp\cczuL672.s:1180   .bss.target_rotation_accel:00000000 $d
  C:\Temp\cczuL672.s:1184   .bss.target_rotation_accel:00000000 target_rotation_accel
  C:\Temp\cczuL672.s:1187   .bss.target_rotation_speed:00000000 $d
  C:\Temp\cczuL672.s:1191   .bss.target_rotation_speed:00000000 target_rotation_speed

UNDEFINED SYMBOLS
__aeabi_f2d
__aeabi_dadd
__aeabi_dcmplt
__aeabi_dmul
__aeabi_ddiv
__aeabi_d2f
