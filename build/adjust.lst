ARM GAS  C:\Temp\ccfBETwd.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"adjust.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.set_target_side_sensor,"ax",%progbits
  18              		.align	1
  19              		.global	set_target_side_sensor
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv4-sp-d16
  26              	set_target_side_sensor:
  27              	.LFB4:
  28              		.file 1 "Src/adjust.c"
   1:Src/adjust.c  **** 
   2:Src/adjust.c  **** 
   3:Src/adjust.c  **** #include <stdio.h>
   4:Src/adjust.c  **** #include <math.h>
   5:Src/adjust.c  **** #include "adjust.h"
   6:Src/adjust.c  **** #include "param.h"
   7:Src/adjust.c  **** #include "exvol.h"
   8:Src/adjust.c  **** #include "mouse_state.h"
   9:Src/adjust.c  **** #include "target.h"
  10:Src/adjust.c  **** #include "ir_sensor.h"
  11:Src/adjust.c  **** 
  12:Src/adjust.c  **** 
  13:Src/adjust.c  **** static double front_sensor_move_err_I = 0;   	//åå·®å’Œã®Ié …
  14:Src/adjust.c  **** static double front_sensor_rotate_err_I = 0;   	//åå·®å·®ã®Ié …
  15:Src/adjust.c  **** static double front_sensor_move_err_prev = 0;   //å‰å›åå·®å’Œ
  16:Src/adjust.c  **** static double front_sensor_rotate_err_prev = 0; //å‰å›åå·®å·®
  17:Src/adjust.c  **** static double front_sensor_move_D_prev = 0; 	//å‰å›åå·®å’Œå¾®åˆ†
  18:Src/adjust.c  **** static double front_sensor_rotate_D_prev = 0;   //å‰å›åå·®å·®å¾®åˆ†
  19:Src/adjust.c  **** 
  20:Src/adjust.c  **** static float target_vol_sum_frontwall = 0;		//å‰å£åˆ¶å¾¡ã«ã‚ˆã‚‹ãƒ¢ãƒ¼ã‚¿å°åŠ é›»åœ§ã®å’Œ[V]
  21:Src/adjust.c  **** static float target_vol_diff_frontwall = 0;		//å‰å£åˆ¶å¾¡ã«ã‚ˆã‚‹ãƒ¢ãƒ¼ã‚¿å°åŠ é›»åœ§ã®å·®[V]
  22:Src/adjust.c  **** 
  23:Src/adjust.c  **** static uint16_t fornt_wall_calibrate_tim = 0;  	//å‰å£è£œæ­£ç”¨ã‚«ã‚¦ãƒ³ã‚¿
  24:Src/adjust.c  **** 
  25:Src/adjust.c  **** static double target_sensor_sl = 0;				//å·¦å£è·é›¢ç›®æ¨™å€¤[m]
  26:Src/adjust.c  **** static double target_sensor_sr = 0;				//å³å£è·é›¢ç›®æ¨™å€¤[m]
  27:Src/adjust.c  **** 
  28:Src/adjust.c  **** static float target_vol_diff_sidewall = 0;			//æ¨ªå£åˆ¶å¾¡ã«ãŠã‘ã‚‹ãƒ¢ãƒ¼ã‚¿å°åŠ é›»åœ§ã®å·®[
  29:Src/adjust.c  **** 
  30:Src/adjust.c  **** static side_wall_ctrl side_wall_ctrl_mode = none;	//æ¨ªå£è£œæ­£ãƒ¢ãƒ¼ãƒ‰ï¼ˆå·¦ã€å³ã€ä¸¡æ–¹ã€ã
ARM GAS  C:\Temp\ccfBETwd.s 			page 2


  31:Src/adjust.c  **** static int16_t side_sensor_l_th = 0;				//å·¦å£åˆ¶å¾¡ã®é–¾å€¤
  32:Src/adjust.c  **** static int16_t side_sensor_r_th = 0;				//å³å£åˆ¶å¾¡ã®é–¾å€¤
  33:Src/adjust.c  **** 
  34:Src/adjust.c  **** //æ©Ÿèƒ½	: adjust.cã®1msã‚¿ã‚¹ã‚¯ã¾ã¨ã‚
  35:Src/adjust.c  **** //å¼•æ•°	: ãªã—
  36:Src/adjust.c  **** //è¿”ã‚Šå€¤	: ãªã—
  37:Src/adjust.c  **** void adjust_1ms (void)
  38:Src/adjust.c  **** {
  39:Src/adjust.c  **** 	set_target_side_sensor();		//åˆæœŸä½ç½®ã®ã‚»ãƒ³ã‚µå€¤ã‚’æ¨ªå£åˆ¶å¾¡ç›®æ¨™å€¤ã«ã‚»ãƒƒãƒˆ
  40:Src/adjust.c  **** 	calc_side_wall_ctrl_mode();		//æ¨ªå£è£œæ­£ã®ãƒ¢ãƒ¼ãƒ‰ã‚’æ±ºå®š
  41:Src/adjust.c  **** 	adjust_theta_side_wall();		//æ¨ªå£è£œæ­£ã®ãƒ¢ãƒ¼ãƒ‰ã«å¿œã˜ã€è»Œè·¡åˆ¶å¾¡ã«ãŠã‘ã‚‹è§’åº¦ã‚’
  42:Src/adjust.c  **** 	calc_motor_vol_side_wall();		//æ¨ªå£è£œæ­£ã«ãŠã‘ã‚‹å°åŠ é›»åœ§è¨ˆç®—
  43:Src/adjust.c  **** 	calc_motor_vol_front_wall();	//å‰å£åˆ¶å¾¡ã«ãŠã‘ã‚‹å°åŠ é›»åœ§è¨ˆç®—
  44:Src/adjust.c  **** 	calibrate_tim();				//å‰å£åˆ¶å¾¡ç”¨ã‚¿ã‚¤ãƒ
  45:Src/adjust.c  **** }
  46:Src/adjust.c  **** 
  47:Src/adjust.c  **** //æ©Ÿèƒ½	: å£ãƒˆãƒ¬ãƒ¼ã‚¹ã®ç›®æ¨™è·é›¢ã‚’ã‚»ãƒƒãƒˆã™ã‚‹
  48:Src/adjust.c  **** //å¼•æ•°	: ãªã— 
  49:Src/adjust.c  **** //è¿”ã‚Šå€¤	: ãªã—
  50:Src/adjust.c  **** //å‚™è€ƒ	:åˆæœŸä½ç½®ã®å£è·é›¢ã‚’ç›®æ¨™ä½ç½®ã¨ã™ã‚‹ã€‚
  51:Src/adjust.c  **** void set_target_side_sensor(void)
  52:Src/adjust.c  **** {
  29              		.loc 1 52 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		@ link register save eliminated.
  53:Src/adjust.c  **** 	static uint8_t target_set_flg = 0;
  34              		.loc 1 53 2 view .LVU1
  54:Src/adjust.c  **** 	if(target_set_flg == 0) 
  35              		.loc 1 54 2 view .LVU2
  36              		.loc 1 54 20 is_stmt 0 view .LVU3
  37 0000 0D4B     		ldr	r3, .L3+16
  38 0002 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
  39              		.loc 1 54 4 view .LVU4
  40 0004 73B9     		cbnz	r3, .L1
  55:Src/adjust.c  **** 	{
  56:Src/adjust.c  **** 		//target_sensor_sl = SensorValue2length(1);
  57:Src/adjust.c  **** 		//target_sensor_sr = SensorValue2length(2);
  58:Src/adjust.c  **** 		//ãƒ‡ãƒãƒƒã‚°ä¸­	
  59:Src/adjust.c  **** 		target_sensor_sl = 0.024331;
  41              		.loc 1 59 3 is_stmt 1 view .LVU5
  42              		.loc 1 59 20 is_stmt 0 view .LVU6
  43 0006 0D4B     		ldr	r3, .L3+20
  44 0008 07A1     		adr	r1, .L3
  45 000a D1E90001 		ldrd	r0, [r1]
  46 000e C3E90001 		strd	r0, [r3]
  60:Src/adjust.c  **** 		target_sensor_sr = 0.023078;	
  47              		.loc 1 60 3 is_stmt 1 view .LVU7
  48              		.loc 1 60 20 is_stmt 0 view .LVU8
  49 0012 0B4B     		ldr	r3, .L3+24
  50 0014 06A1     		adr	r1, .L3+8
  51 0016 D1E90001 		ldrd	r0, [r1]
  52 001a C3E90001 		strd	r0, [r3]
  61:Src/adjust.c  **** 
  62:Src/adjust.c  **** 		target_set_flg = 1;
  53              		.loc 1 62 3 is_stmt 1 view .LVU9
ARM GAS  C:\Temp\ccfBETwd.s 			page 3


  54              		.loc 1 62 18 is_stmt 0 view .LVU10
  55 001e 064B     		ldr	r3, .L3+16
  56 0020 0122     		movs	r2, #1
  57 0022 1A70     		strb	r2, [r3]
  58              	.L1:
  63:Src/adjust.c  **** 	}
  64:Src/adjust.c  **** }
  59              		.loc 1 64 1 view .LVU11
  60 0024 7047     		bx	lr
  61              	.L4:
  62 0026 00BF     		.align	3
  63              	.L3:
  64 0028 E2AB1DC5 		.word	-987911198
  65 002c 39EA983F 		.word	1066986041
  66 0030 1442075D 		.word	1560756756
  67 0034 C2A1973F 		.word	1066901954
  68 0038 00000000 		.word	.LANCHOR0
  69 003c 00000000 		.word	.LANCHOR1
  70 0040 00000000 		.word	.LANCHOR2
  71              		.cfi_endproc
  72              	.LFE4:
  74              		.global	__aeabi_d2f
  75              		.section	.text.get_target_sensor_sr,"ax",%progbits
  76              		.align	1
  77              		.global	get_target_sensor_sr
  78              		.syntax unified
  79              		.thumb
  80              		.thumb_func
  81              		.fpu fpv4-sp-d16
  83              	get_target_sensor_sr:
  84              	.LFB5:
  65:Src/adjust.c  **** 
  66:Src/adjust.c  **** //æ©Ÿèƒ½	: å£ãƒˆãƒ¬ãƒ¼ã‚¹ã®å³å£ç›®æ¨™è·é›¢ã‚’å–å¾—ã™ã‚‹
  67:Src/adjust.c  **** //å¼•æ•°	: ãªã—
  68:Src/adjust.c  **** //è¿”ã‚Šå€¤	: å³å£è·é›¢ç›®æ¨™å€¤
  69:Src/adjust.c  **** float get_target_sensor_sr ( void )
  70:Src/adjust.c  **** {
  85              		.loc 1 70 1 is_stmt 1 view -0
  86              		.cfi_startproc
  87              		@ args = 0, pretend = 0, frame = 0
  88              		@ frame_needed = 0, uses_anonymous_args = 0
  89 0000 08B5     		push	{r3, lr}
  90              	.LCFI0:
  91              		.cfi_def_cfa_offset 8
  92              		.cfi_offset 3, -8
  93              		.cfi_offset 14, -4
  71:Src/adjust.c  **** 	return (float)target_sensor_sr;
  94              		.loc 1 71 2 view .LVU13
  95              		.loc 1 71 9 is_stmt 0 view .LVU14
  96 0002 044B     		ldr	r3, .L7
  97 0004 D3E90001 		ldrd	r0, [r3]
  98 0008 FFF7FEFF 		bl	__aeabi_d2f
  99              	.LVL0:
  72:Src/adjust.c  **** }
 100              		.loc 1 72 1 view .LVU15
 101 000c 00EE100A 		vmov	s0, r0
 102 0010 08BD     		pop	{r3, pc}
ARM GAS  C:\Temp\ccfBETwd.s 			page 4


 103              	.L8:
 104 0012 00BF     		.align	2
 105              	.L7:
 106 0014 00000000 		.word	.LANCHOR2
 107              		.cfi_endproc
 108              	.LFE5:
 110              		.section	.text.get_target_sensor_sl,"ax",%progbits
 111              		.align	1
 112              		.global	get_target_sensor_sl
 113              		.syntax unified
 114              		.thumb
 115              		.thumb_func
 116              		.fpu fpv4-sp-d16
 118              	get_target_sensor_sl:
 119              	.LFB6:
  73:Src/adjust.c  **** 
  74:Src/adjust.c  **** //æ©Ÿèƒ½	: å£ãƒˆãƒ¬ãƒ¼ã‚¹ã®å·¦å£ç›®æ¨™è·é›¢ã‚’å–å¾—ã™ã‚‹
  75:Src/adjust.c  **** //å¼•æ•°	: ãªã—
  76:Src/adjust.c  **** //è¿”ã‚Šå€¤	: å·¦å£è·é›¢ç›®æ¨™å€¤
  77:Src/adjust.c  **** float get_target_sensor_sl ( void )
  78:Src/adjust.c  **** {
 120              		.loc 1 78 1 is_stmt 1 view -0
 121              		.cfi_startproc
 122              		@ args = 0, pretend = 0, frame = 0
 123              		@ frame_needed = 0, uses_anonymous_args = 0
 124 0000 08B5     		push	{r3, lr}
 125              	.LCFI1:
 126              		.cfi_def_cfa_offset 8
 127              		.cfi_offset 3, -8
 128              		.cfi_offset 14, -4
  79:Src/adjust.c  **** 	return (float)target_sensor_sl;
 129              		.loc 1 79 2 view .LVU17
 130              		.loc 1 79 9 is_stmt 0 view .LVU18
 131 0002 044B     		ldr	r3, .L11
 132 0004 D3E90001 		ldrd	r0, [r3]
 133 0008 FFF7FEFF 		bl	__aeabi_d2f
 134              	.LVL1:
  80:Src/adjust.c  **** }
 135              		.loc 1 80 1 view .LVU19
 136 000c 00EE100A 		vmov	s0, r0
 137 0010 08BD     		pop	{r3, pc}
 138              	.L12:
 139 0012 00BF     		.align	2
 140              	.L11:
 141 0014 00000000 		.word	.LANCHOR1
 142              		.cfi_endproc
 143              	.LFE6:
 145              		.section	.text.get_side_sensor_l_th,"ax",%progbits
 146              		.align	1
 147              		.global	get_side_sensor_l_th
 148              		.syntax unified
 149              		.thumb
 150              		.thumb_func
 151              		.fpu fpv4-sp-d16
 153              	get_side_sensor_l_th:
 154              	.LFB7:
  81:Src/adjust.c  **** 
ARM GAS  C:\Temp\ccfBETwd.s 			page 5


  82:Src/adjust.c  **** //æ©Ÿèƒ½	: å£ãƒˆãƒ¬ãƒ¼ã‚¹ã®å·¦å£ãƒ¢ãƒ¼ãƒ‰é–¾å€¤ã‚’å–å¾—ã™ã‚‹
  83:Src/adjust.c  **** //å¼•æ•°	: ãªã—
  84:Src/adjust.c  **** //è¿”ã‚Šå€¤	: å·¦å£ãƒ¢ãƒ¼ãƒ‰é–¾å€¤
  85:Src/adjust.c  **** uint16_t get_side_sensor_l_th ( void )
  86:Src/adjust.c  **** {
 155              		.loc 1 86 1 is_stmt 1 view -0
 156              		.cfi_startproc
 157              		@ args = 0, pretend = 0, frame = 0
 158              		@ frame_needed = 0, uses_anonymous_args = 0
 159              		@ link register save eliminated.
  87:Src/adjust.c  **** 	return side_sensor_l_th;
 160              		.loc 1 87 2 view .LVU21
  88:Src/adjust.c  **** }
 161              		.loc 1 88 1 is_stmt 0 view .LVU22
 162 0000 014B     		ldr	r3, .L14
 163 0002 1888     		ldrh	r0, [r3]
 164 0004 7047     		bx	lr
 165              	.L15:
 166 0006 00BF     		.align	2
 167              	.L14:
 168 0008 00000000 		.word	.LANCHOR3
 169              		.cfi_endproc
 170              	.LFE7:
 172              		.section	.text.get_side_sensor_r_th,"ax",%progbits
 173              		.align	1
 174              		.global	get_side_sensor_r_th
 175              		.syntax unified
 176              		.thumb
 177              		.thumb_func
 178              		.fpu fpv4-sp-d16
 180              	get_side_sensor_r_th:
 181              	.LFB8:
  89:Src/adjust.c  **** 
  90:Src/adjust.c  **** 
  91:Src/adjust.c  **** //æ©Ÿèƒ½	: å£ãƒˆãƒ¬ãƒ¼ã‚¹ã®å³å£ãƒ¢ãƒ¼ãƒ‰é–¾å€¤ã‚’å–å¾—ã™ã‚‹
  92:Src/adjust.c  **** //å¼•æ•°	: ãªã—
  93:Src/adjust.c  **** //è¿”ã‚Šå€¤	: å³å£ãƒ¢ãƒ¼ãƒ‰é–¾å€¤
  94:Src/adjust.c  **** uint16_t get_side_sensor_r_th ( void )
  95:Src/adjust.c  **** {
 182              		.loc 1 95 1 is_stmt 1 view -0
 183              		.cfi_startproc
 184              		@ args = 0, pretend = 0, frame = 0
 185              		@ frame_needed = 0, uses_anonymous_args = 0
 186              		@ link register save eliminated.
  96:Src/adjust.c  **** 	return side_sensor_r_th;
 187              		.loc 1 96 2 view .LVU24
  97:Src/adjust.c  **** }
 188              		.loc 1 97 1 is_stmt 0 view .LVU25
 189 0000 014B     		ldr	r3, .L17
 190 0002 1888     		ldrh	r0, [r3]
 191 0004 7047     		bx	lr
 192              	.L18:
 193 0006 00BF     		.align	2
 194              	.L17:
 195 0008 00000000 		.word	.LANCHOR4
 196              		.cfi_endproc
 197              	.LFE8:
ARM GAS  C:\Temp\ccfBETwd.s 			page 6


 199              		.section	.text.get_side_wall_ctrl_mode,"ax",%progbits
 200              		.align	1
 201              		.global	get_side_wall_ctrl_mode
 202              		.syntax unified
 203              		.thumb
 204              		.thumb_func
 205              		.fpu fpv4-sp-d16
 207              	get_side_wall_ctrl_mode:
 208              	.LFB9:
  98:Src/adjust.c  **** 
  99:Src/adjust.c  **** //æ©Ÿèƒ½	: æ¨ªå£åˆ¶å¾¡ã«ãŠã‘ã‚‹ãƒ¢ãƒ¼ãƒ‰ã‚’å–å¾—ã™ã‚‹
 100:Src/adjust.c  **** //å¼•æ•°	: ãªã—
 101:Src/adjust.c  **** //è¿”ã‚Šå€¤	: æ¨ªå£åˆ¶å¾¡ãƒ¢ãƒ¼ãƒ‰
 102:Src/adjust.c  **** uint8_t get_side_wall_ctrl_mode ( void )
 103:Src/adjust.c  **** {
 209              		.loc 1 103 1 is_stmt 1 view -0
 210              		.cfi_startproc
 211              		@ args = 0, pretend = 0, frame = 0
 212              		@ frame_needed = 0, uses_anonymous_args = 0
 213              		@ link register save eliminated.
 104:Src/adjust.c  **** 	return side_wall_ctrl_mode;
 214              		.loc 1 104 2 view .LVU27
 105:Src/adjust.c  **** }
 215              		.loc 1 105 1 is_stmt 0 view .LVU28
 216 0000 014B     		ldr	r3, .L20
 217 0002 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 218 0004 7047     		bx	lr
 219              	.L21:
 220 0006 00BF     		.align	2
 221              	.L20:
 222 0008 00000000 		.word	.LANCHOR5
 223              		.cfi_endproc
 224              	.LFE9:
 226              		.section	.text.calc_side_wall_ctrl_mode,"ax",%progbits
 227              		.align	1
 228              		.global	calc_side_wall_ctrl_mode
 229              		.syntax unified
 230              		.thumb
 231              		.thumb_func
 232              		.fpu fpv4-sp-d16
 234              	calc_side_wall_ctrl_mode:
 235              	.LFB10:
 106:Src/adjust.c  **** 
 107:Src/adjust.c  **** //æ©Ÿèƒ½	: æ¨ªå£åˆ¶å¾¡ã«ãŠã‘ã‚‹ãƒ¢ãƒ¼ãƒ‰ã‚’æ±ºå®šã™ã‚‹ï¼ˆå³ã€å·¦ã€ä¸¡å£ã€ãªã—ï¼‰
 108:Src/adjust.c  **** //å¼•æ•°	: ãªã—
 109:Src/adjust.c  **** //è¿”ã‚Šå€¤	: ãªã—
 110:Src/adjust.c  **** //å‚™è€ƒ 	:1msã‚¿ã‚¹ã‚¯
 111:Src/adjust.c  **** void calc_side_wall_ctrl_mode ( void )
 112:Src/adjust.c  **** {
 236              		.loc 1 112 1 is_stmt 1 view -0
 237              		.cfi_startproc
 238              		@ args = 0, pretend = 0, frame = 0
 239              		@ frame_needed = 0, uses_anonymous_args = 0
 240 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 241              	.LCFI2:
 242              		.cfi_def_cfa_offset 24
 243              		.cfi_offset 3, -24
ARM GAS  C:\Temp\ccfBETwd.s 			page 7


 244              		.cfi_offset 4, -20
 245              		.cfi_offset 5, -16
 246              		.cfi_offset 6, -12
 247              		.cfi_offset 7, -8
 248              		.cfi_offset 14, -4
 113:Src/adjust.c  **** 	int16_t side_sensor_r = 0; 				//å³å‰ã‚»ãƒ³ã‚µå€¤
 249              		.loc 1 113 2 view .LVU30
 250              	.LVL2:
 114:Src/adjust.c  ****     int16_t side_sensor_l = 0; 				//å·¦å‰ã‚»ãƒ³ã‚µå€¤
 251              		.loc 1 114 5 view .LVU31
 115:Src/adjust.c  **** 	static int16_t side_sensor_r_old = 0;	//å‰å›å³å‰ã‚»ãƒ³ã‚µå€¤
 252              		.loc 1 115 2 view .LVU32
 116:Src/adjust.c  ****     static int16_t side_sensor_l_old = 0; 	//å‰å›å·¦å‰ã‚»ãƒ³ã‚µå€¤
 253              		.loc 1 116 5 view .LVU33
 117:Src/adjust.c  **** 	int16_t side_sensor_r_diff = 0;			//å³å‰ã‚»ãƒ³ã‚µå€¤å¤‰åŒ–é‡
 254              		.loc 1 117 2 view .LVU34
 118:Src/adjust.c  ****     int16_t side_sensor_l_diff = 0; 		//å·¦å‰ã‚»ãƒ³ã‚µå€¤å¤‰åŒ–é‡
 255              		.loc 1 118 5 view .LVU35
 119:Src/adjust.c  **** 	int16_t side_sensor_r_diff_sum = 0;		//å³å‰ã‚»ãƒ³ã‚µå€¤å¤‰åŒ–é‡åˆè¨ˆ
 256              		.loc 1 119 2 view .LVU36
 120:Src/adjust.c  ****     int16_t side_sensor_l_diff_sum = 0; 	//å·¦å‰ã‚»ãƒ³ã‚µå€¤å¤‰åŒ–é‡åˆè¨ˆ
 257              		.loc 1 120 5 view .LVU37
 121:Src/adjust.c  **** 	float side_sensor_r_diff_ave = 0;		//å³å‰ã‚»ãƒ³ã‚µå€¤å¹³å‡
 258              		.loc 1 121 2 view .LVU38
 122:Src/adjust.c  ****     float side_sensor_l_diff_ave = 0; 		//å·¦å‰ã‚»ãƒ³ã‚µå€¤å¹³å‡
 259              		.loc 1 122 5 view .LVU39
 123:Src/adjust.c  **** 
 124:Src/adjust.c  ****     typedef struct {
 260              		.loc 1 124 5 view .LVU40
 125:Src/adjust.c  **** 	int16_t	right;			
 126:Src/adjust.c  **** 	int16_t left;			
 127:Src/adjust.c  ****     } ave_temp;
 128:Src/adjust.c  **** 
 129:Src/adjust.c  **** 	static ave_temp ave_store[ir_diff_ave_num];  // ãƒ‡ãƒ¼ã‚¿æ ¼ç´ç”¨ã®æ§‹é€ ä½“
 261              		.loc 1 129 2 view .LVU41
 130:Src/adjust.c  **** 	static uint16_t ave_counter = 0;
 262              		.loc 1 130 2 view .LVU42
 131:Src/adjust.c  **** 	uint16_t i = 0;
 263              		.loc 1 131 2 view .LVU43
 132:Src/adjust.c  **** 	uint16_t j = 0;
 264              		.loc 1 132 2 view .LVU44
 133:Src/adjust.c  **** 
 134:Src/adjust.c  **** 	//ã‚»ãƒ³ã‚µå€¤å–å¾—
 135:Src/adjust.c  **** 	side_sensor_l = Sensor_GetValue(1);
 265              		.loc 1 135 2 view .LVU45
 266              		.loc 1 135 18 is_stmt 0 view .LVU46
 267 0002 0120     		movs	r0, #1
 268 0004 FFF7FEFF 		bl	Sensor_GetValue
 269              	.LVL3:
 270 0008 0546     		mov	r5, r0
 271              	.LVL4:
 136:Src/adjust.c  **** 	side_sensor_r = Sensor_GetValue(2);
 272              		.loc 1 136 2 is_stmt 1 view .LVU47
 273              		.loc 1 136 18 is_stmt 0 view .LVU48
 274 000a 0220     		movs	r0, #2
 275 000c FFF7FEFF 		bl	Sensor_GetValue
 276              	.LVL5:
ARM GAS  C:\Temp\ccfBETwd.s 			page 8


 137:Src/adjust.c  **** 
 138:Src/adjust.c  **** 	//ã‚»ãƒ³ã‚µå¤‰åŒ–é‡å–å¾—
 139:Src/adjust.c  **** 	side_sensor_l_diff = ABS(side_sensor_l - side_sensor_l_old);
 277              		.loc 1 139 2 is_stmt 1 view .LVU49
 278              		.loc 1 139 23 is_stmt 0 view .LVU50
 279 0010 424B     		ldr	r3, .L41
 280 0012 B3F90020 		ldrsh	r2, [r3]
 281 0016 AA1A     		subs	r2, r5, r2
 282 0018 002A     		cmp	r2, #0
 283 001a B8BF     		it	lt
 284 001c 5242     		rsblt	r2, r2, #0
 285              	.LVL6:
 140:Src/adjust.c  **** 	side_sensor_r_diff = ABS(side_sensor_r - side_sensor_r_old);
 286              		.loc 1 140 2 is_stmt 1 view .LVU51
 287              		.loc 1 140 23 is_stmt 0 view .LVU52
 288 001e 404B     		ldr	r3, .L41+4
 289 0020 B3F90010 		ldrsh	r1, [r3]
 290 0024 411A     		subs	r1, r0, r1
 291 0026 0029     		cmp	r1, #0
 292 0028 B8BF     		it	lt
 293 002a 4942     		rsblt	r1, r1, #0
 294              	.LVL7:
 141:Src/adjust.c  **** 
 142:Src/adjust.c  **** 	i = ave_counter % ir_diff_ave_num;
 295              		.loc 1 142 2 is_stmt 1 view .LVU53
 296              		.loc 1 142 4 is_stmt 0 view .LVU54
 297 002c 3D4B     		ldr	r3, .L41+8
 298 002e 1F88     		ldrh	r7, [r3]
 299 0030 3D4B     		ldr	r3, .L41+12
 300 0032 A3FB0743 		umull	r4, r3, r3, r7
 301 0036 DB08     		lsrs	r3, r3, #3
 302 0038 03EB8303 		add	r3, r3, r3, lsl #2
 303 003c A7EB4303 		sub	r3, r7, r3, lsl #1
 304 0040 9BB2     		uxth	r3, r3
 305              	.LVL8:
 143:Src/adjust.c  **** 	ave_store[i].right = side_sensor_r_diff;
 306              		.loc 1 143 2 is_stmt 1 view .LVU55
 307              		.loc 1 143 21 is_stmt 0 view .LVU56
 308 0042 3A4C     		ldr	r4, .L41+16
 309 0044 24F82310 		strh	r1, [r4, r3, lsl #2]	@ movhi
 144:Src/adjust.c  **** 	ave_store[i].left = side_sensor_l_diff;
 310              		.loc 1 144 2 is_stmt 1 view .LVU57
 311              		.loc 1 144 20 is_stmt 0 view .LVU58
 312 0048 04EB8303 		add	r3, r4, r3, lsl #2
 313              	.LVL9:
 314              		.loc 1 144 20 view .LVU59
 315 004c 5A80     		strh	r2, [r3, #2]	@ movhi
 145:Src/adjust.c  **** 
 146:Src/adjust.c  **** 	//ç§»å‹•å¹³å‡å‡¦ç†
 147:Src/adjust.c  **** 	for(j=0; j < ir_diff_ave_num; j++)
 316              		.loc 1 147 2 is_stmt 1 view .LVU60
 317              		.loc 1 147 7 is_stmt 0 view .LVU61
 318 004e 0023     		movs	r3, #0
 120:Src/adjust.c  **** 	float side_sensor_r_diff_ave = 0;		//å³å‰ã‚»ãƒ³ã‚µå€¤å¹³å‡
 319              		.loc 1 120 13 view .LVU62
 320 0050 1946     		mov	r1, r3
 321              	.LVL10:
ARM GAS  C:\Temp\ccfBETwd.s 			page 9


 119:Src/adjust.c  ****     int16_t side_sensor_l_diff_sum = 0; 	//å·¦å‰ã‚»ãƒ³ã‚µå€¤å¤‰åŒ–é‡åˆè¨ˆ
 322              		.loc 1 119 10 view .LVU63
 323 0052 1C46     		mov	r4, r3
 324              	.LVL11:
 325              	.L23:
 326              		.loc 1 147 11 is_stmt 1 discriminator 1 view .LVU64
 327              		.loc 1 147 2 is_stmt 0 discriminator 1 view .LVU65
 328 0054 092B     		cmp	r3, #9
 329 0056 0CD8     		bhi	.L40
 148:Src/adjust.c  **** 	{
 149:Src/adjust.c  **** 		side_sensor_r_diff_sum += ave_store[j].right;
 330              		.loc 1 149 3 is_stmt 1 discriminator 3 view .LVU66
 331              		.loc 1 149 41 is_stmt 0 discriminator 3 view .LVU67
 332 0058 344A     		ldr	r2, .L41+16
 333              	.LVL12:
 334              		.loc 1 149 41 discriminator 3 view .LVU68
 335 005a 32F82360 		ldrh	r6, [r2, r3, lsl #2]
 336              		.loc 1 149 26 discriminator 3 view .LVU69
 337 005e 3444     		add	r4, r4, r6
 338              	.LVL13:
 339              		.loc 1 149 26 discriminator 3 view .LVU70
 340 0060 24B2     		sxth	r4, r4
 341              	.LVL14:
 150:Src/adjust.c  **** 		side_sensor_l_diff_sum += ave_store[j].left;
 342              		.loc 1 150 3 is_stmt 1 discriminator 3 view .LVU71
 343              		.loc 1 150 41 is_stmt 0 discriminator 3 view .LVU72
 344 0062 02EB8302 		add	r2, r2, r3, lsl #2
 345              	.LVL15:
 346              		.loc 1 150 41 discriminator 3 view .LVU73
 347 0066 5288     		ldrh	r2, [r2, #2]
 348              		.loc 1 150 26 discriminator 3 view .LVU74
 349 0068 1144     		add	r1, r1, r2
 350              	.LVL16:
 351              		.loc 1 150 26 discriminator 3 view .LVU75
 352 006a 09B2     		sxth	r1, r1
 353              	.LVL17:
 147:Src/adjust.c  **** 	{
 354              		.loc 1 147 32 is_stmt 1 discriminator 3 view .LVU76
 147:Src/adjust.c  **** 	{
 355              		.loc 1 147 33 is_stmt 0 discriminator 3 view .LVU77
 356 006c 0133     		adds	r3, r3, #1
 357              	.LVL18:
 147:Src/adjust.c  **** 	{
 358              		.loc 1 147 33 discriminator 3 view .LVU78
 359 006e 9BB2     		uxth	r3, r3
 360              	.LVL19:
 147:Src/adjust.c  **** 	{
 361              		.loc 1 147 33 discriminator 3 view .LVU79
 362 0070 F0E7     		b	.L23
 363              	.L40:
 151:Src/adjust.c  **** 	}
 152:Src/adjust.c  **** 
 153:Src/adjust.c  **** 	side_sensor_r_diff_ave = (float)side_sensor_r_diff_sum / ir_diff_ave_num;
 364              		.loc 1 153 2 is_stmt 1 view .LVU80
 365              		.loc 1 153 27 is_stmt 0 view .LVU81
 366 0072 07EE904A 		vmov	s15, r4	@ int
 367 0076 F8EEE77A 		vcvt.f32.s32	s15, s15
ARM GAS  C:\Temp\ccfBETwd.s 			page 10


 368              		.loc 1 153 25 view .LVU82
 369 007a B2EE047A 		vmov.f32	s14, #1.0e+1
 370 007e C7EE876A 		vdiv.f32	s13, s15, s14
 371              	.LVL20:
 154:Src/adjust.c  **** 	side_sensor_l_diff_ave = (float)side_sensor_l_diff_sum / ir_diff_ave_num;
 372              		.loc 1 154 2 is_stmt 1 view .LVU83
 373              		.loc 1 154 27 is_stmt 0 view .LVU84
 374 0082 07EE901A 		vmov	s15, r1	@ int
 375 0086 F8EEE77A 		vcvt.f32.s32	s15, s15
 376              		.loc 1 154 25 view .LVU85
 377 008a 87EE876A 		vdiv.f32	s12, s15, s14
 378              	.LVL21:
 155:Src/adjust.c  **** 	
 156:Src/adjust.c  **** 	ave_counter += 1 ;
 379              		.loc 1 156 2 is_stmt 1 view .LVU86
 380              		.loc 1 156 14 is_stmt 0 view .LVU87
 381 008e 0137     		adds	r7, r7, #1
 382              	.LVL22:
 383              		.loc 1 156 14 view .LVU88
 384 0090 244B     		ldr	r3, .L41+8
 385              	.LVL23:
 386              		.loc 1 156 14 view .LVU89
 387 0092 1F80     		strh	r7, [r3]	@ movhi
 157:Src/adjust.c  **** 
 158:Src/adjust.c  **** 
 159:Src/adjust.c  **** 	//å¤‰åŒ–é‡ã«å¿œã˜ã¦ã€å£åˆ¶å¾¡ã®é–¾å€¤ã‚’å¤‰åŒ–
 160:Src/adjust.c  **** 	if(side_sensor_l_diff_ave > side_sensor_diff_th){
 388              		.loc 1 160 2 is_stmt 1 view .LVU90
 389              		.loc 1 160 4 is_stmt 0 view .LVU91
 390 0094 F0EE007A 		vmov.f32	s15, #2.0e+0
 391 0098 B4EEE76A 		vcmpe.f32	s12, s15
 392 009c F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 393 00a0 1CDD     		ble	.L37
 161:Src/adjust.c  **** 		side_sensor_l_th = side_sensor_th + side_sensor_th_add;
 394              		.loc 1 161 3 is_stmt 1 view .LVU92
 395              		.loc 1 161 20 is_stmt 0 view .LVU93
 396 00a2 234B     		ldr	r3, .L41+20
 397 00a4 4FF4C872 		mov	r2, #400
 398 00a8 1A80     		strh	r2, [r3]	@ movhi
 399              	.L27:
 162:Src/adjust.c  **** 	}else{
 163:Src/adjust.c  **** 		side_sensor_l_th = side_sensor_th;
 164:Src/adjust.c  **** 	}
 165:Src/adjust.c  **** 
 166:Src/adjust.c  **** 	if(side_sensor_r_diff_ave > side_sensor_diff_th){
 400              		.loc 1 166 2 is_stmt 1 view .LVU94
 401              		.loc 1 166 4 is_stmt 0 view .LVU95
 402 00aa F0EE007A 		vmov.f32	s15, #2.0e+0
 403 00ae F4EEE76A 		vcmpe.f32	s13, s15
 404 00b2 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 405 00b6 15DD     		ble	.L38
 167:Src/adjust.c  **** 		side_sensor_r_th = side_sensor_th + side_sensor_th_add;
 406              		.loc 1 167 3 is_stmt 1 view .LVU96
 407              		.loc 1 167 20 is_stmt 0 view .LVU97
 408 00b8 1E4B     		ldr	r3, .L41+24
 409 00ba 4FF4C872 		mov	r2, #400
 410 00be 1A80     		strh	r2, [r3]	@ movhi
ARM GAS  C:\Temp\ccfBETwd.s 			page 11


 411              	.L30:
 168:Src/adjust.c  **** 	}else{
 169:Src/adjust.c  **** 		side_sensor_r_th = side_sensor_th;
 170:Src/adjust.c  **** 	}
 171:Src/adjust.c  **** 
 172:Src/adjust.c  **** 	//é–¾å€¤ã«å¿œã˜ã¦ã€æ¨ªå£åˆ¶å¾¡ãƒ¢ãƒ¼ãƒ‰ã‚’è¨­å®š
 173:Src/adjust.c  **** 	if( (side_sensor_l_th < side_sensor_l) && (side_sensor_r_th < side_sensor_r))
 412              		.loc 1 173 2 is_stmt 1 view .LVU98
 413              		.loc 1 173 24 is_stmt 0 view .LVU99
 414 00c0 1B4B     		ldr	r3, .L41+20
 415 00c2 B3F90030 		ldrsh	r3, [r3]
 416              		.loc 1 173 4 view .LVU100
 417 00c6 AB42     		cmp	r3, r5
 418 00c8 10DA     		bge	.L31
 419              		.loc 1 173 62 discriminator 1 view .LVU101
 420 00ca 1A4A     		ldr	r2, .L41+24
 421 00cc B2F90020 		ldrsh	r2, [r2]
 422              		.loc 1 173 41 discriminator 1 view .LVU102
 423 00d0 8242     		cmp	r2, r0
 424 00d2 0BDA     		bge	.L31
 174:Src/adjust.c  **** 	{
 175:Src/adjust.c  **** 		side_wall_ctrl_mode = both_side;
 425              		.loc 1 175 3 is_stmt 1 view .LVU103
 426              		.loc 1 175 23 is_stmt 0 view .LVU104
 427 00d4 184B     		ldr	r3, .L41+28
 428 00d6 0222     		movs	r2, #2
 429 00d8 1A70     		strb	r2, [r3]
 430 00da 0CE0     		b	.L32
 431              	.L37:
 163:Src/adjust.c  **** 	}
 432              		.loc 1 163 3 is_stmt 1 view .LVU105
 163:Src/adjust.c  **** 	}
 433              		.loc 1 163 20 is_stmt 0 view .LVU106
 434 00dc 144B     		ldr	r3, .L41+20
 435 00de 6422     		movs	r2, #100
 436 00e0 1A80     		strh	r2, [r3]	@ movhi
 437 00e2 E2E7     		b	.L27
 438              	.L38:
 169:Src/adjust.c  **** 	}
 439              		.loc 1 169 3 is_stmt 1 view .LVU107
 169:Src/adjust.c  **** 	}
 440              		.loc 1 169 20 is_stmt 0 view .LVU108
 441 00e4 134B     		ldr	r3, .L41+24
 442 00e6 6422     		movs	r2, #100
 443 00e8 1A80     		strh	r2, [r3]	@ movhi
 444 00ea E9E7     		b	.L30
 445              	.L31:
 176:Src/adjust.c  **** 	}
 177:Src/adjust.c  **** 	else if((side_sensor_l_th < side_sensor_l))
 446              		.loc 1 177 7 is_stmt 1 view .LVU109
 447              		.loc 1 177 9 is_stmt 0 view .LVU110
 448 00ec AB42     		cmp	r3, r5
 449 00ee 07DA     		bge	.L33
 178:Src/adjust.c  **** 	{
 179:Src/adjust.c  **** 		side_wall_ctrl_mode = left;
 450              		.loc 1 179 3 is_stmt 1 view .LVU111
 451              		.loc 1 179 23 is_stmt 0 view .LVU112
ARM GAS  C:\Temp\ccfBETwd.s 			page 12


 452 00f0 114B     		ldr	r3, .L41+28
 453 00f2 0122     		movs	r2, #1
 454 00f4 1A70     		strb	r2, [r3]
 455              	.L32:
 180:Src/adjust.c  **** 	}
 181:Src/adjust.c  **** 	else if((side_sensor_r_th < side_sensor_r))
 182:Src/adjust.c  **** 	{
 183:Src/adjust.c  **** 		side_wall_ctrl_mode = right;
 184:Src/adjust.c  **** 	}
 185:Src/adjust.c  **** 	else{
 186:Src/adjust.c  **** 		side_wall_ctrl_mode = none;
 187:Src/adjust.c  **** 	}
 188:Src/adjust.c  **** 
 189:Src/adjust.c  **** 	//ã‚»ãƒ³ã‚µå€¤æ›´æ–°
 190:Src/adjust.c  **** 	side_sensor_l_old = side_sensor_l;
 456              		.loc 1 190 2 is_stmt 1 view .LVU113
 457              		.loc 1 190 20 is_stmt 0 view .LVU114
 458 00f6 094B     		ldr	r3, .L41
 459 00f8 1D80     		strh	r5, [r3]	@ movhi
 191:Src/adjust.c  **** 	side_sensor_r_old = side_sensor_r;
 460              		.loc 1 191 2 is_stmt 1 view .LVU115
 461              		.loc 1 191 20 is_stmt 0 view .LVU116
 462 00fa 094B     		ldr	r3, .L41+4
 463 00fc 1880     		strh	r0, [r3]	@ movhi
 192:Src/adjust.c  **** 
 193:Src/adjust.c  **** }
 464              		.loc 1 193 1 view .LVU117
 465 00fe F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 466              	.LVL24:
 467              	.L33:
 181:Src/adjust.c  **** 	{
 468              		.loc 1 181 7 is_stmt 1 view .LVU118
 181:Src/adjust.c  **** 	{
 469              		.loc 1 181 28 is_stmt 0 view .LVU119
 470 0100 0C4B     		ldr	r3, .L41+24
 471 0102 B3F90030 		ldrsh	r3, [r3]
 181:Src/adjust.c  **** 	{
 472              		.loc 1 181 9 view .LVU120
 473 0106 8342     		cmp	r3, r0
 474 0108 03DA     		bge	.L34
 183:Src/adjust.c  **** 	}
 475              		.loc 1 183 3 is_stmt 1 view .LVU121
 183:Src/adjust.c  **** 	}
 476              		.loc 1 183 23 is_stmt 0 view .LVU122
 477 010a 0B4B     		ldr	r3, .L41+28
 478 010c 0022     		movs	r2, #0
 479 010e 1A70     		strb	r2, [r3]
 480 0110 F1E7     		b	.L32
 481              	.L34:
 186:Src/adjust.c  **** 	}
 482              		.loc 1 186 3 is_stmt 1 view .LVU123
 186:Src/adjust.c  **** 	}
 483              		.loc 1 186 23 is_stmt 0 view .LVU124
 484 0112 094B     		ldr	r3, .L41+28
 485 0114 0322     		movs	r2, #3
 486 0116 1A70     		strb	r2, [r3]
 487 0118 EDE7     		b	.L32
ARM GAS  C:\Temp\ccfBETwd.s 			page 13


 488              	.L42:
 489 011a 00BF     		.align	2
 490              	.L41:
 491 011c 00000000 		.word	.LANCHOR6
 492 0120 00000000 		.word	.LANCHOR7
 493 0124 00000000 		.word	.LANCHOR8
 494 0128 CDCCCCCC 		.word	-858993459
 495 012c 00000000 		.word	.LANCHOR9
 496 0130 00000000 		.word	.LANCHOR3
 497 0134 00000000 		.word	.LANCHOR4
 498 0138 00000000 		.word	.LANCHOR5
 499              		.cfi_endproc
 500              	.LFE10:
 502              		.global	__aeabi_dsub
 503              		.global	__aeabi_dmul
 504              		.global	__aeabi_dadd
 505              		.section	.text.get_side_wall_err,"ax",%progbits
 506              		.align	1
 507              		.global	get_side_wall_err
 508              		.syntax unified
 509              		.thumb
 510              		.thumb_func
 511              		.fpu fpv4-sp-d16
 513              	get_side_wall_err:
 514              	.LFB11:
 194:Src/adjust.c  **** 
 195:Src/adjust.c  **** //æ©Ÿèƒ½	: å„æ¨ªå£åˆ¶å¾¡ãƒ¢ãƒ¼ãƒ‰ã«ãŠã‘ã‚‹åå·®ã‚’ç®—å‡ºã€å–å¾—ã™ã‚‹
 196:Src/adjust.c  **** //å¼•æ•°	: ãªã—
 197:Src/adjust.c  **** //è¿”ã‚Šå€¤	: ä¸­å¿ƒä½ç½®ã‹ã‚‰ã®åå·®
 198:Src/adjust.c  **** //å‚™è€ƒ 	:1msã‚¿ã‚¹ã‚¯
 199:Src/adjust.c  **** double get_side_wall_err(void)
 200:Src/adjust.c  **** {
 515              		.loc 1 200 1 is_stmt 1 view -0
 516              		.cfi_startproc
 517              		@ args = 0, pretend = 0, frame = 0
 518              		@ frame_needed = 0, uses_anonymous_args = 0
 519 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 520              	.LCFI3:
 521              		.cfi_def_cfa_offset 24
 522              		.cfi_offset 3, -24
 523              		.cfi_offset 4, -20
 524              		.cfi_offset 5, -16
 525              		.cfi_offset 6, -12
 526              		.cfi_offset 7, -8
 527              		.cfi_offset 14, -4
 201:Src/adjust.c  **** 	double side_wall_err_tmp = 0;
 528              		.loc 1 201 2 view .LVU126
 529              	.LVL25:
 202:Src/adjust.c  **** 	
 203:Src/adjust.c  **** 	switch(side_wall_ctrl_mode){
 530              		.loc 1 203 2 view .LVU127
 531 0002 2D4B     		ldr	r3, .L49+8
 532 0004 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 533 0006 012B     		cmp	r3, #1
 534 0008 05D0     		beq	.L44
 535 000a 022B     		cmp	r3, #2
 536 000c 2AD0     		beq	.L45
ARM GAS  C:\Temp\ccfBETwd.s 			page 14


 537 000e B3B1     		cbz	r3, .L46
 538 0010 9FED270B 		vldr.64	d0, .L49
 539              	.LVL26:
 540              	.L43:
 204:Src/adjust.c  **** 		case left:
 205:Src/adjust.c  **** 			side_wall_err_tmp = -2 * (target_sensor_sl - SensorValue2length(1));
 206:Src/adjust.c  **** 			break;
 207:Src/adjust.c  **** 		
 208:Src/adjust.c  **** 		case right:
 209:Src/adjust.c  **** 			side_wall_err_tmp = 2 * (target_sensor_sr - SensorValue2length(2));
 210:Src/adjust.c  **** 			break;
 211:Src/adjust.c  **** 		
 212:Src/adjust.c  **** 		case both_side:
 213:Src/adjust.c  **** 			side_wall_err_tmp = (target_sensor_sr - SensorValue2length(2)) - (target_sensor_sl - SensorValue
 214:Src/adjust.c  **** 			break;
 215:Src/adjust.c  **** 		
 216:Src/adjust.c  **** 		case none:
 217:Src/adjust.c  **** 			side_wall_err_tmp = 0;
 218:Src/adjust.c  **** 			break;						
 219:Src/adjust.c  **** 	}
 220:Src/adjust.c  **** 
 221:Src/adjust.c  **** 	return side_wall_err_tmp;
 222:Src/adjust.c  **** }
 541              		.loc 1 222 1 is_stmt 0 view .LVU128
 542 0014 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 543              	.LVL27:
 544              	.L44:
 205:Src/adjust.c  **** 			break;
 545              		.loc 1 205 4 is_stmt 1 view .LVU129
 205:Src/adjust.c  **** 			break;
 546              		.loc 1 205 47 is_stmt 0 view .LVU130
 547 0016 294B     		ldr	r3, .L49+12
 548 0018 D3E90045 		ldrd	r4, [r3]
 205:Src/adjust.c  **** 			break;
 549              		.loc 1 205 49 view .LVU131
 550 001c 0120     		movs	r0, #1
 551 001e FFF7FEFF 		bl	SensorValue2length
 552              	.LVL28:
 553 0022 53EC102B 		vmov	r2, r3, d0
 205:Src/adjust.c  **** 			break;
 554              		.loc 1 205 47 view .LVU132
 555 0026 2046     		mov	r0, r4
 556 0028 2946     		mov	r1, r5
 557 002a FFF7FEFF 		bl	__aeabi_dsub
 558              	.LVL29:
 205:Src/adjust.c  **** 			break;
 559              		.loc 1 205 22 view .LVU133
 560 002e 0022     		movs	r2, #0
 561 0030 4FF04043 		mov	r3, #-1073741824
 562 0034 FFF7FEFF 		bl	__aeabi_dmul
 563              	.LVL30:
 564 0038 41EC100B 		vmov	d0, r0, r1
 565              	.LVL31:
 206:Src/adjust.c  **** 		
 566              		.loc 1 206 4 is_stmt 1 view .LVU134
 567 003c EAE7     		b	.L43
 568              	.LVL32:
ARM GAS  C:\Temp\ccfBETwd.s 			page 15


 569              	.L46:
 209:Src/adjust.c  **** 			break;
 570              		.loc 1 209 4 view .LVU135
 209:Src/adjust.c  **** 			break;
 571              		.loc 1 209 46 is_stmt 0 view .LVU136
 572 003e 204B     		ldr	r3, .L49+16
 573 0040 D3E90045 		ldrd	r4, [r3]
 209:Src/adjust.c  **** 			break;
 574              		.loc 1 209 48 view .LVU137
 575 0044 0220     		movs	r0, #2
 576 0046 FFF7FEFF 		bl	SensorValue2length
 577              	.LVL33:
 578 004a 53EC102B 		vmov	r2, r3, d0
 209:Src/adjust.c  **** 			break;
 579              		.loc 1 209 46 view .LVU138
 580 004e 2046     		mov	r0, r4
 581 0050 2946     		mov	r1, r5
 582 0052 FFF7FEFF 		bl	__aeabi_dsub
 583              	.LVL34:
 584 0056 0246     		mov	r2, r0
 585 0058 0B46     		mov	r3, r1
 209:Src/adjust.c  **** 			break;
 586              		.loc 1 209 22 view .LVU139
 587 005a FFF7FEFF 		bl	__aeabi_dadd
 588              	.LVL35:
 589 005e 41EC100B 		vmov	d0, r0, r1
 590              	.LVL36:
 210:Src/adjust.c  **** 		
 591              		.loc 1 210 4 is_stmt 1 view .LVU140
 592 0062 D7E7     		b	.L43
 593              	.LVL37:
 594              	.L45:
 213:Src/adjust.c  **** 			break;
 595              		.loc 1 213 4 view .LVU141
 213:Src/adjust.c  **** 			break;
 596              		.loc 1 213 42 is_stmt 0 view .LVU142
 597 0064 164B     		ldr	r3, .L49+16
 598 0066 D3E90045 		ldrd	r4, [r3]
 213:Src/adjust.c  **** 			break;
 599              		.loc 1 213 44 view .LVU143
 600 006a 0220     		movs	r0, #2
 601 006c FFF7FEFF 		bl	SensorValue2length
 602              	.LVL38:
 603 0070 53EC102B 		vmov	r2, r3, d0
 213:Src/adjust.c  **** 			break;
 604              		.loc 1 213 42 view .LVU144
 605 0074 2046     		mov	r0, r4
 606 0076 2946     		mov	r1, r5
 607 0078 FFF7FEFF 		bl	__aeabi_dsub
 608              	.LVL39:
 609 007c 0446     		mov	r4, r0
 610 007e 0D46     		mov	r5, r1
 213:Src/adjust.c  **** 			break;
 611              		.loc 1 213 87 view .LVU145
 612 0080 0E4B     		ldr	r3, .L49+12
 613 0082 D3E90067 		ldrd	r6, [r3]
 213:Src/adjust.c  **** 			break;
ARM GAS  C:\Temp\ccfBETwd.s 			page 16


 614              		.loc 1 213 89 view .LVU146
 615 0086 0120     		movs	r0, #1
 616 0088 FFF7FEFF 		bl	SensorValue2length
 617              	.LVL40:
 618 008c 53EC102B 		vmov	r2, r3, d0
 213:Src/adjust.c  **** 			break;
 619              		.loc 1 213 87 view .LVU147
 620 0090 3046     		mov	r0, r6
 621 0092 3946     		mov	r1, r7
 622 0094 FFF7FEFF 		bl	__aeabi_dsub
 623              	.LVL41:
 624 0098 0246     		mov	r2, r0
 625 009a 0B46     		mov	r3, r1
 213:Src/adjust.c  **** 			break;
 626              		.loc 1 213 22 view .LVU148
 627 009c 2046     		mov	r0, r4
 628 009e 2946     		mov	r1, r5
 629 00a0 FFF7FEFF 		bl	__aeabi_dsub
 630              	.LVL42:
 631 00a4 41EC100B 		vmov	d0, r0, r1
 632              	.LVL43:
 214:Src/adjust.c  **** 		
 633              		.loc 1 214 4 is_stmt 1 view .LVU149
 221:Src/adjust.c  **** }
 634              		.loc 1 221 2 view .LVU150
 221:Src/adjust.c  **** }
 635              		.loc 1 221 9 is_stmt 0 view .LVU151
 636 00a8 B4E7     		b	.L43
 637              	.L50:
 638 00aa 00BFAFF3 		.align	3
 638      0080
 639              	.L49:
 640 00b0 00000000 		.word	0
 641 00b4 00000000 		.word	0
 642 00b8 00000000 		.word	.LANCHOR5
 643 00bc 00000000 		.word	.LANCHOR1
 644 00c0 00000000 		.word	.LANCHOR2
 645              		.cfi_endproc
 646              	.LFE11:
 648              		.section	.text.adjust_theta_side_wall,"ax",%progbits
 649              		.align	1
 650              		.global	adjust_theta_side_wall
 651              		.syntax unified
 652              		.thumb
 653              		.thumb_func
 654              		.fpu fpv4-sp-d16
 656              	adjust_theta_side_wall:
 657              	.LFB12:
 223:Src/adjust.c  **** 
 224:Src/adjust.c  **** //æ©Ÿèƒ½	: å„æ¨ªå£åˆ¶å¾¡ãƒ¢ãƒ¼ãƒ‰ã«ãŠã‘ã‚‹è§’åº¦è£œæ­£å‡¦ç†ã‚’å…¥ã‚Œã‚‹
 225:Src/adjust.c  **** //å¼•æ•°	: ãªã—
 226:Src/adjust.c  **** //è¿”ã‚Šå€¤	: ãªã—
 227:Src/adjust.c  **** //å‚™è€ƒ 	:1msã‚¿ã‚¹ã‚¯
 228:Src/adjust.c  **** void adjust_theta_side_wall(void)
 229:Src/adjust.c  **** {
 658              		.loc 1 229 1 is_stmt 1 view -0
 659              		.cfi_startproc
ARM GAS  C:\Temp\ccfBETwd.s 			page 17


 660              		@ args = 0, pretend = 0, frame = 0
 661              		@ frame_needed = 0, uses_anonymous_args = 0
 662              		@ link register save eliminated.
 230:Src/adjust.c  **** 	switch(side_wall_ctrl_mode){
 663              		.loc 1 230 2 view .LVU153
 231:Src/adjust.c  **** 		case left:
 232:Src/adjust.c  **** 			break;
 233:Src/adjust.c  **** 		case right:
 234:Src/adjust.c  **** 			break;
 235:Src/adjust.c  **** 		case both_side:
 236:Src/adjust.c  **** 			break;
 237:Src/adjust.c  **** 		case none:
 238:Src/adjust.c  **** 			break;						
 239:Src/adjust.c  **** 	}
 240:Src/adjust.c  **** 	//è»Œè·¡åˆ¶å¾¡ã®Ié …ã«ãƒ•ã‚£ãƒ«ã‚¿ã‚’ã‹ã‘ã‚‹ã€‚å„ãƒ¢ãƒ¼ãƒ‰ã«å¿œã˜ãŸæ„Ÿã˜ã§ã€‚
 241:Src/adjust.c  **** }
 664              		.loc 1 241 1 is_stmt 0 view .LVU154
 665 0000 7047     		bx	lr
 666              		.cfi_endproc
 667              	.LFE12:
 669              		.global	__aeabi_f2d
 670              		.section	.text.calc_motor_vol_side_wall,"ax",%progbits
 671              		.align	1
 672              		.global	calc_motor_vol_side_wall
 673              		.syntax unified
 674              		.thumb
 675              		.thumb_func
 676              		.fpu fpv4-sp-d16
 678              	calc_motor_vol_side_wall:
 679              	.LFB13:
 242:Src/adjust.c  **** 
 243:Src/adjust.c  **** //æ©Ÿèƒ½	: åå·®ã‹ã‚‰æ¨ªå£åˆ¶å¾¡ã®ãƒ¢ãƒ¼ã‚¿å°åŠ é›»åœ§ã‚’è¨ˆç®—ã™ã‚‹ã€‚
 244:Src/adjust.c  **** //å¼•æ•°	: ãªã—
 245:Src/adjust.c  **** //è¿”ã‚Šå€¤	: ãªã—
 246:Src/adjust.c  **** //å‚™è€ƒ 	:1msã‚¿ã‚¹ã‚¯
 247:Src/adjust.c  **** void calc_motor_vol_side_wall(void)
 248:Src/adjust.c  **** {
 680              		.loc 1 248 1 is_stmt 1 view -0
 681              		.cfi_startproc
 682              		@ args = 0, pretend = 0, frame = 0
 683              		@ frame_needed = 0, uses_anonymous_args = 0
 684 0000 38B5     		push	{r3, r4, r5, lr}
 685              	.LCFI4:
 686              		.cfi_def_cfa_offset 16
 687              		.cfi_offset 3, -16
 688              		.cfi_offset 4, -12
 689              		.cfi_offset 5, -8
 690              		.cfi_offset 14, -4
 691 0002 2DED028B 		vpush.64	{d8}
 692              	.LCFI5:
 693              		.cfi_def_cfa_offset 24
 694              		.cfi_offset 80, -24
 695              		.cfi_offset 81, -20
 249:Src/adjust.c  **** 	double side_wall_err = 0;
 696              		.loc 1 249 2 view .LVU156
 697              	.LVL44:
 250:Src/adjust.c  **** 	double side_wall_err_P = 0;
ARM GAS  C:\Temp\ccfBETwd.s 			page 18


 698              		.loc 1 250 2 view .LVU157
 251:Src/adjust.c  **** 	double side_wall_err_D = 0;
 699              		.loc 1 251 2 view .LVU158
 252:Src/adjust.c  **** 	double side_wall_err_PD = 0;
 700              		.loc 1 252 2 view .LVU159
 253:Src/adjust.c  **** 	static double side_wall_err_prev = 0;
 701              		.loc 1 253 2 view .LVU160
 254:Src/adjust.c  **** 	static double side_wall_err_D_prev = 0;
 702              		.loc 1 254 2 view .LVU161
 255:Src/adjust.c  **** 
 256:Src/adjust.c  **** 	//åå·®å–å¾—
 257:Src/adjust.c  **** 	side_wall_err = get_side_wall_err();
 703              		.loc 1 257 2 view .LVU162
 704              		.loc 1 257 18 is_stmt 0 view .LVU163
 705 0006 FFF7FEFF 		bl	get_side_wall_err
 706              	.LVL45:
 707 000a 51EC100B 		vmov	r0, r1, d0
 708              	.LVL46:
 258:Src/adjust.c  **** 
 259:Src/adjust.c  **** 	//Pé …
 260:Src/adjust.c  **** 	side_wall_err_P = side_wall_P * side_wall_err;
 709              		.loc 1 260 2 is_stmt 1 view .LVU164
 710              		.loc 1 260 18 is_stmt 0 view .LVU165
 711 000e 0022     		movs	r2, #0
 712 0010 124B     		ldr	r3, .L54
 713 0012 FFF7FEFF 		bl	__aeabi_dmul
 714              	.LVL47:
 715              		.loc 1 260 18 view .LVU166
 716 0016 0446     		mov	r4, r0
 717 0018 0D46     		mov	r5, r1
 718              	.LVL48:
 261:Src/adjust.c  **** 	
 262:Src/adjust.c  **** 	//Dé …
 263:Src/adjust.c  **** 	//side_wall_err_D = (side_wall_err_D_prev + side_wall_D * side_wall_fil * (side_wall_err - side_wa
 264:Src/adjust.c  **** 	//							/(1+side_wall_fil*0.001);
 265:Src/adjust.c  **** 
 266:Src/adjust.c  **** 	//Dé …
 267:Src/adjust.c  **** 	//yæ–¹å‘ã®é€Ÿåº¦
 268:Src/adjust.c  **** 	//é€Ÿåº¦*ç›®æ¨™è§’åº¦ã¨å®Ÿè§’åº¦ã®ã‚¨ãƒ©ãƒ¼
 269:Src/adjust.c  **** 	side_wall_err_D = -1 * side_wall_D * get_move_speed() * (get_rotation_angle() - get_ideal_angle())
 719              		.loc 1 269 2 is_stmt 1 view .LVU167
 720              		.loc 1 269 39 is_stmt 0 view .LVU168
 721 001a FFF7FEFF 		bl	get_move_speed
 722              	.LVL49:
 723              		.loc 1 269 37 view .LVU169
 724 001e DFED108A 		vldr.32	s17, .L54+4
 725 0022 60EE288A 		vmul.f32	s17, s0, s17
 726              		.loc 1 269 59 view .LVU170
 727 0026 FFF7FEFF 		bl	get_rotation_angle
 728              	.LVL50:
 729 002a B0EE408A 		vmov.f32	s16, s0
 730              		.loc 1 269 82 view .LVU171
 731 002e FFF7FEFF 		bl	get_ideal_angle
 732              	.LVL51:
 733              		.loc 1 269 80 view .LVU172
 734 0032 38EE408A 		vsub.f32	s16, s16, s0
 735              		.loc 1 269 18 view .LVU173
ARM GAS  C:\Temp\ccfBETwd.s 			page 19


 736 0036 68EE887A 		vmul.f32	s15, s17, s16
 737 003a 17EE900A 		vmov	r0, s15
 738 003e FFF7FEFF 		bl	__aeabi_f2d
 739              	.LVL52:
 740 0042 0246     		mov	r2, r0
 741 0044 0B46     		mov	r3, r1
 742              	.LVL53:
 270:Src/adjust.c  **** 
 271:Src/adjust.c  **** 	//åˆç®—
 272:Src/adjust.c  **** 	side_wall_err_PD = side_wall_err_P + side_wall_err_D;
 743              		.loc 1 272 2 is_stmt 1 view .LVU174
 744              		.loc 1 272 19 is_stmt 0 view .LVU175
 745 0046 2046     		mov	r0, r4
 746 0048 2946     		mov	r1, r5
 747 004a FFF7FEFF 		bl	__aeabi_dadd
 748              	.LVL54:
 273:Src/adjust.c  **** 
 274:Src/adjust.c  **** 	/*å°åŠ é›»åœ§ç®—å‡º*/
 275:Src/adjust.c  **** 	target_vol_diff_sidewall = (float)side_wall_err_PD;
 749              		.loc 1 275 2 is_stmt 1 view .LVU176
 750              		.loc 1 275 29 is_stmt 0 view .LVU177
 751 004e FFF7FEFF 		bl	__aeabi_d2f
 752              	.LVL55:
 753              		.loc 1 275 27 view .LVU178
 754 0052 044B     		ldr	r3, .L54+8
 755 0054 1860     		str	r0, [r3]	@ float
 276:Src/adjust.c  **** 
 277:Src/adjust.c  **** 	/*ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿æ›´æ–°*/
 278:Src/adjust.c  **** 	side_wall_err_prev = side_wall_err;
 756              		.loc 1 278 2 is_stmt 1 view .LVU179
 279:Src/adjust.c  **** 	side_wall_err_D_prev = side_wall_err_D;
 757              		.loc 1 279 2 view .LVU180
 280:Src/adjust.c  **** 
 281:Src/adjust.c  **** }
 758              		.loc 1 281 1 is_stmt 0 view .LVU181
 759 0056 BDEC028B 		vldm	sp!, {d8}
 760              	.LCFI6:
 761              		.cfi_restore 80
 762              		.cfi_restore 81
 763              		.cfi_def_cfa_offset 16
 764 005a 38BD     		pop	{r3, r4, r5, pc}
 765              	.LVL56:
 766              	.L55:
 767              		.loc 1 281 1 view .LVU182
 768              		.align	2
 769              	.L54:
 770 005c 00005940 		.word	1079574528
 771 0060 00000000 		.word	0
 772 0064 00000000 		.word	.LANCHOR10
 773              		.cfi_endproc
 774              	.LFE13:
 776              		.section	.text.get_target_vol_diff_sidewall,"ax",%progbits
 777              		.align	1
 778              		.global	get_target_vol_diff_sidewall
 779              		.syntax unified
 780              		.thumb
 781              		.thumb_func
ARM GAS  C:\Temp\ccfBETwd.s 			page 20


 782              		.fpu fpv4-sp-d16
 784              	get_target_vol_diff_sidewall:
 785              	.LFB14:
 282:Src/adjust.c  **** 
 283:Src/adjust.c  **** //æ©Ÿèƒ½	: æ¨ªå£è£œæ­£ã«ã‚ˆã‚‹ãƒ¢ãƒ¼ã‚¿å°åŠ é›»åœ§ã®å·®ã‚’å–å¾—ã™ã‚‹
 284:Src/adjust.c  **** //å¼•æ•°	: ãªã—
 285:Src/adjust.c  **** //è¿”ã‚Šå€¤	: æ¨ªå£è£œæ­£ã«ã‚ˆã‚‹å³ãƒ¢ãƒ¼ã‚¿å°åŠ é›»åœ§
 286:Src/adjust.c  **** float get_target_vol_diff_sidewall ( void )
 287:Src/adjust.c  **** {
 786              		.loc 1 287 1 is_stmt 1 view -0
 787              		.cfi_startproc
 788              		@ args = 0, pretend = 0, frame = 0
 789              		@ frame_needed = 0, uses_anonymous_args = 0
 790              		@ link register save eliminated.
 288:Src/adjust.c  **** 	return target_vol_diff_sidewall;
 791              		.loc 1 288 2 view .LVU184
 289:Src/adjust.c  **** }
 792              		.loc 1 289 1 is_stmt 0 view .LVU185
 793 0000 014B     		ldr	r3, .L57
 794 0002 93ED000A 		vldr.32	s0, [r3]
 795 0006 7047     		bx	lr
 796              	.L58:
 797              		.align	2
 798              	.L57:
 799 0008 00000000 		.word	.LANCHOR10
 800              		.cfi_endproc
 801              	.LFE14:
 803              		.global	__aeabi_ddiv
 804              		.section	.text.calc_motor_vol_front_wall,"ax",%progbits
 805              		.align	1
 806              		.global	calc_motor_vol_front_wall
 807              		.syntax unified
 808              		.thumb
 809              		.thumb_func
 810              		.fpu fpv4-sp-d16
 812              	calc_motor_vol_front_wall:
 813              	.LFB15:
 290:Src/adjust.c  **** 
 291:Src/adjust.c  **** 
 292:Src/adjust.c  **** //æ©Ÿèƒ½	: å‰å£åˆ¶å¾¡ã«ãŠã‘ã‚‹ãƒ¢ãƒ¼ã‚¿å°åŠ é›»åœ§ã‚’è¨ˆç®—ã™ã‚‹ã€‚
 293:Src/adjust.c  **** //å¼•æ•°	: ãªã—
 294:Src/adjust.c  **** //è¿”ã‚Šå€¤	: ãªã—
 295:Src/adjust.c  **** //å‚™è€ƒ	:1msã‚¿ã‚¹ã‚¯
 296:Src/adjust.c  **** void calc_motor_vol_front_wall ( void )
 297:Src/adjust.c  **** {
 814              		.loc 1 297 1 is_stmt 1 view -0
 815              		.cfi_startproc
 816              		@ args = 0, pretend = 0, frame = 24
 817              		@ frame_needed = 0, uses_anonymous_args = 0
 818 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 819              	.LCFI7:
 820              		.cfi_def_cfa_offset 36
 821              		.cfi_offset 4, -36
 822              		.cfi_offset 5, -32
 823              		.cfi_offset 6, -28
 824              		.cfi_offset 7, -24
 825              		.cfi_offset 8, -20
ARM GAS  C:\Temp\ccfBETwd.s 			page 21


 826              		.cfi_offset 9, -16
 827              		.cfi_offset 10, -12
 828              		.cfi_offset 11, -8
 829              		.cfi_offset 14, -4
 830 0004 2DED088B 		vpush.64	{d8, d9, d10, d11}
 831              	.LCFI8:
 832              		.cfi_def_cfa_offset 68
 833              		.cfi_offset 80, -68
 834              		.cfi_offset 81, -64
 835              		.cfi_offset 82, -60
 836              		.cfi_offset 83, -56
 837              		.cfi_offset 84, -52
 838              		.cfi_offset 85, -48
 839              		.cfi_offset 86, -44
 840              		.cfi_offset 87, -40
 841 0008 87B0     		sub	sp, sp, #28
 842              	.LCFI9:
 843              		.cfi_def_cfa_offset 96
 298:Src/adjust.c  **** 	double front_sensor_r = 0; 				//å³å‰ã‚»ãƒ³ã‚µå€¤
 844              		.loc 1 298 2 view .LVU187
 845              	.LVL57:
 299:Src/adjust.c  ****     double front_sensor_l = 0; 				//å·¦å‰ã‚»ãƒ³ã‚µå€¤
 846              		.loc 1 299 5 view .LVU188
 300:Src/adjust.c  ****     double front_sensor_r_err = 0;   		//å³å‰ã‚»ãƒ³ã‚µã®åå·®
 847              		.loc 1 300 5 view .LVU189
 301:Src/adjust.c  ****     double front_sensor_l_err = 0;			//å·¦å‰ã‚»ãƒ³ã‚µã®åå·®
 848              		.loc 1 301 5 view .LVU190
 302:Src/adjust.c  ****     double front_sensor_move_err = 0;   	//ã‚»ãƒ³ã‚µã®åå·®ã®å’Œ
 849              		.loc 1 302 5 view .LVU191
 303:Src/adjust.c  ****     double front_sensor_rotate_err = 0;		//ã‚»ãƒ³ã‚µã®åå·®ã®å·®
 850              		.loc 1 303 5 view .LVU192
 304:Src/adjust.c  **** 
 305:Src/adjust.c  ****     double front_sensor_move_err_P = 0;   	//åå·®å’Œã®Pé …
 851              		.loc 1 305 5 view .LVU193
 306:Src/adjust.c  ****     double front_sensor_rotate_err_P = 0;   //åå·®å·®ã®Pé …
 852              		.loc 1 306 5 view .LVU194
 307:Src/adjust.c  ****     double front_sensor_move_err_D = 0;   	//åå·®å’Œã®Dé …
 853              		.loc 1 307 5 view .LVU195
 308:Src/adjust.c  ****     double front_sensor_rotate_err_D = 0;   //åå·®å·®ã®Dé …
 854              		.loc 1 308 5 view .LVU196
 309:Src/adjust.c  ****     double front_sensor_move_PID = 0;  		//
 855              		.loc 1 309 5 view .LVU197
 310:Src/adjust.c  ****     double front_sensor_rotate_PID = 0;   		//
 856              		.loc 1 310 5 view .LVU198
 311:Src/adjust.c  **** 
 312:Src/adjust.c  **** 
 313:Src/adjust.c  **** 	//ã‚»ãƒ³ã‚µå€¤å–å¾—
 314:Src/adjust.c  **** 	front_sensor_l = SensorValue2length(0);
 857              		.loc 1 314 2 view .LVU199
 858              		.loc 1 314 19 is_stmt 0 view .LVU200
 859 000a 0020     		movs	r0, #0
 860 000c FFF7FEFF 		bl	SensorValue2length
 861              	.LVL58:
 862 0010 57EC106B 		vmov	r6, r7, d0
 863              	.LVL59:
 315:Src/adjust.c  **** 	front_sensor_r = SensorValue2length(3);
 864              		.loc 1 315 2 is_stmt 1 view .LVU201
ARM GAS  C:\Temp\ccfBETwd.s 			page 22


 865              		.loc 1 315 19 is_stmt 0 view .LVU202
 866 0014 0320     		movs	r0, #3
 867 0016 FFF7FEFF 		bl	SensorValue2length
 868              	.LVL60:
 869 001a 55EC104B 		vmov	r4, r5, d0
 870              	.LVL61:
 316:Src/adjust.c  **** 
 317:Src/adjust.c  **** 	//åå·®å–å¾—
 318:Src/adjust.c  **** 	front_sensor_l_err = front_sensor_l - front_sensor_l_ref ;
 871              		.loc 1 318 2 is_stmt 1 view .LVU203
 872              		.loc 1 318 21 is_stmt 0 view .LVU204
 873 001e 74A3     		adr	r3, .L61+72
 874 0020 D3E90023 		ldrd	r2, [r3]
 875 0024 3046     		mov	r0, r6
 876 0026 3946     		mov	r1, r7
 877 0028 FFF7FEFF 		bl	__aeabi_dsub
 878              	.LVL62:
 879 002c 0646     		mov	r6, r0
 880              	.LVL63:
 881              		.loc 1 318 21 view .LVU205
 882 002e 0F46     		mov	r7, r1
 883              	.LVL64:
 319:Src/adjust.c  **** 	front_sensor_r_err = front_sensor_r - front_sensor_r_ref ;
 884              		.loc 1 319 2 is_stmt 1 view .LVU206
 885              		.loc 1 319 21 is_stmt 0 view .LVU207
 886 0030 71A3     		adr	r3, .L61+80
 887 0032 D3E90023 		ldrd	r2, [r3]
 888 0036 2046     		mov	r0, r4
 889 0038 2946     		mov	r1, r5
 890 003a FFF7FEFF 		bl	__aeabi_dsub
 891              	.LVL65:
 892 003e 0446     		mov	r4, r0
 893              	.LVL66:
 894              		.loc 1 319 21 view .LVU208
 895 0040 0D46     		mov	r5, r1
 896              	.LVL67:
 320:Src/adjust.c  **** 
 321:Src/adjust.c  **** 	/* åå·®å¤‰æ›*/
 322:Src/adjust.c  **** 	front_sensor_move_err = front_sensor_r_err + front_sensor_l_err;
 897              		.loc 1 322 2 is_stmt 1 view .LVU209
 898              		.loc 1 322 24 is_stmt 0 view .LVU210
 899 0042 0246     		mov	r2, r0
 900 0044 0B46     		mov	r3, r1
 901 0046 3046     		mov	r0, r6
 902 0048 3946     		mov	r1, r7
 903 004a FFF7FEFF 		bl	__aeabi_dadd
 904              	.LVL68:
 905 004e 8046     		mov	r8, r0
 906 0050 8946     		mov	r9, r1
 907              	.LVL69:
 323:Src/adjust.c  **** 	front_sensor_rotate_err = (front_sensor_r_err - front_sensor_l_err)/chassis_width; //è§’åº¦ã«å¤‰æ
 908              		.loc 1 323 2 is_stmt 1 view .LVU211
 909              		.loc 1 323 48 is_stmt 0 view .LVU212
 910 0052 3246     		mov	r2, r6
 911 0054 3B46     		mov	r3, r7
 912 0056 2046     		mov	r0, r4
 913 0058 2946     		mov	r1, r5
ARM GAS  C:\Temp\ccfBETwd.s 			page 23


 914 005a FFF7FEFF 		bl	__aeabi_dsub
 915              	.LVL70:
 916              		.loc 1 323 26 view .LVU213
 917 005e 68A3     		adr	r3, .L61+88
 918 0060 D3E90023 		ldrd	r2, [r3]
 919 0064 FFF7FEFF 		bl	__aeabi_ddiv
 920              	.LVL71:
 921 0068 0646     		mov	r6, r0
 922              	.LVL72:
 923              		.loc 1 323 26 view .LVU214
 924 006a 0F46     		mov	r7, r1
 925              	.LVL73:
 324:Src/adjust.c  **** 
 325:Src/adjust.c  **** 	/*åå·®ç©åˆ†(Ié …)*/
 326:Src/adjust.c  **** 	front_sensor_move_err_I  += front_sensor_move_KI * 0.001 * front_sensor_move_err;
 926              		.loc 1 326 2 is_stmt 1 view .LVU215
 927              		.loc 1 326 59 is_stmt 0 view .LVU216
 928 006c 66A3     		adr	r3, .L61+96
 929 006e D3E90023 		ldrd	r2, [r3]
 930 0072 4046     		mov	r0, r8
 931 0074 4946     		mov	r1, r9
 932 0076 FFF7FEFF 		bl	__aeabi_dmul
 933              	.LVL74:
 934              		.loc 1 326 27 view .LVU217
 935 007a 594C     		ldr	r4, .L61+56
 936              	.LVL75:
 937              		.loc 1 326 27 view .LVU218
 938 007c D4E90023 		ldrd	r2, [r4]
 939 0080 FFF7FEFF 		bl	__aeabi_dadd
 940              	.LVL76:
 941 0084 41EC1B0B 		vmov	d11, r0, r1
 942 0088 C4E90001 		strd	r0, [r4]
 327:Src/adjust.c  **** 	front_sensor_rotate_err_I  += front_sensor_rotate_KI * 0.001 * front_sensor_rotate_err;
 943              		.loc 1 327 2 is_stmt 1 view .LVU219
 944              		.loc 1 327 63 is_stmt 0 view .LVU220
 945 008c 46A3     		adr	r3, .L61
 946 008e D3E90023 		ldrd	r2, [r3]
 947 0092 3046     		mov	r0, r6
 948 0094 3946     		mov	r1, r7
 949 0096 FFF7FEFF 		bl	__aeabi_dmul
 950              	.LVL77:
 951              		.loc 1 327 29 view .LVU221
 952 009a 524C     		ldr	r4, .L61+60
 953 009c D4E90023 		ldrd	r2, [r4]
 954 00a0 FFF7FEFF 		bl	__aeabi_dadd
 955              	.LVL78:
 956 00a4 41EC1A0B 		vmov	d10, r0, r1
 957 00a8 C4E90001 		strd	r0, [r4]
 328:Src/adjust.c  **** 	/*Pé …*/
 329:Src/adjust.c  **** 	front_sensor_move_err_P = front_sensor_move_KP * front_sensor_move_err;
 958              		.loc 1 329 2 is_stmt 1 view .LVU222
 959              		.loc 1 329 26 is_stmt 0 view .LVU223
 960 00ac 40A3     		adr	r3, .L61+8
 961 00ae D3E90023 		ldrd	r2, [r3]
 962 00b2 4046     		mov	r0, r8
 963 00b4 4946     		mov	r1, r9
 964 00b6 FFF7FEFF 		bl	__aeabi_dmul
ARM GAS  C:\Temp\ccfBETwd.s 			page 24


 965              	.LVL79:
 966 00ba 0446     		mov	r4, r0
 967 00bc 0D46     		mov	r5, r1
 968              	.LVL80:
 330:Src/adjust.c  **** 	front_sensor_rotate_err_P = front_sensor_rotate_KP * front_sensor_rotate_err;
 969              		.loc 1 330 2 is_stmt 1 view .LVU224
 970              		.loc 1 330 28 is_stmt 0 view .LVU225
 971 00be 3EA3     		adr	r3, .L61+16
 972 00c0 D3E90023 		ldrd	r2, [r3]
 973 00c4 3046     		mov	r0, r6
 974 00c6 3946     		mov	r1, r7
 975 00c8 FFF7FEFF 		bl	__aeabi_dmul
 976              	.LVL81:
 977 00cc CDE90201 		strd	r0, [sp, #8]
 978              	.LVL82:
 331:Src/adjust.c  **** 	/*Dé …*/
 332:Src/adjust.c  **** 	front_sensor_move_err_D = (front_sensor_move_D_prev + front_sensor_move_KD * front_sensor_move_fil
 979              		.loc 1 332 2 is_stmt 1 view .LVU226
 980              		.loc 1 332 126 is_stmt 0 view .LVU227
 981 00d0 DFF83CB1 		ldr	fp, .L61+104
 982 00d4 DBE90023 		ldrd	r2, [fp]
 983 00d8 CDE90089 		strd	r8, [sp]
 984 00dc 4046     		mov	r0, r8
 985              	.LVL83:
 986              		.loc 1 332 126 view .LVU228
 987 00de 4946     		mov	r1, r9
 988 00e0 FFF7FEFF 		bl	__aeabi_dsub
 989              	.LVL84:
 990              		.loc 1 332 101 view .LVU229
 991 00e4 36A3     		adr	r3, .L61+24
 992 00e6 D3E90023 		ldrd	r2, [r3]
 993 00ea FFF7FEFF 		bl	__aeabi_dmul
 994              	.LVL85:
 995              		.loc 1 332 54 view .LVU230
 996 00ee DFF82491 		ldr	r9, .L61+108
 997 00f2 D9E90023 		ldrd	r2, [r9]
 998 00f6 FFF7FEFF 		bl	__aeabi_dadd
 999              	.LVL86:
 1000              		.loc 1 332 26 view .LVU231
 1001 00fa 33A3     		adr	r3, .L61+32
 1002 00fc D3E90023 		ldrd	r2, [r3]
 1003 0100 FFF7FEFF 		bl	__aeabi_ddiv
 1004              	.LVL87:
 1005 0104 41EC190B 		vmov	d9, r0, r1
 1006              	.LVL88:
 333:Src/adjust.c  **** 								/(1+front_sensor_move_fil*0.001);
 334:Src/adjust.c  **** 	front_sensor_rotate_err_D = (front_sensor_rotate_D_prev + front_sensor_rotate_KD * front_sensor_ro
 1007              		.loc 1 334 2 is_stmt 1 view .LVU232
 1008              		.loc 1 334 136 is_stmt 0 view .LVU233
 1009 0108 DFF80CA1 		ldr	r10, .L61+112
 1010 010c DAE90023 		ldrd	r2, [r10]
 1011 0110 3046     		mov	r0, r6
 1012              	.LVL89:
 1013              		.loc 1 334 136 view .LVU234
 1014 0112 3946     		mov	r1, r7
 1015 0114 FFF7FEFF 		bl	__aeabi_dsub
 1016              	.LVL90:
ARM GAS  C:\Temp\ccfBETwd.s 			page 25


 1017              		.loc 1 334 109 view .LVU235
 1018 0118 2DA3     		adr	r3, .L61+40
 1019 011a D3E90023 		ldrd	r2, [r3]
 1020 011e FFF7FEFF 		bl	__aeabi_dmul
 1021              	.LVL91:
 1022              		.loc 1 334 58 view .LVU236
 1023 0122 DFF8F880 		ldr	r8, .L61+116
 1024              	.LVL92:
 1025              		.loc 1 334 58 view .LVU237
 1026 0126 D8E90023 		ldrd	r2, [r8]
 1027 012a FFF7FEFF 		bl	__aeabi_dadd
 1028              	.LVL93:
 1029              		.loc 1 334 28 view .LVU238
 1030 012e 2AA3     		adr	r3, .L61+48
 1031 0130 D3E90023 		ldrd	r2, [r3]
 1032 0134 FFF7FEFF 		bl	__aeabi_ddiv
 1033              	.LVL94:
 1034 0138 41EC180B 		vmov	d8, r0, r1
 1035              	.LVL95:
 335:Src/adjust.c  **** 								/(1+front_sensor_rotate_fil*0.001);
 336:Src/adjust.c  **** 	/*PID*/
 337:Src/adjust.c  **** 	front_sensor_move_PID = front_sensor_move_err_P + front_sensor_move_err_I + front_sensor_move_err_
 1036              		.loc 1 337 2 is_stmt 1 view .LVU239
 1037              		.loc 1 337 50 is_stmt 0 view .LVU240
 1038 013c 2246     		mov	r2, r4
 1039 013e 2B46     		mov	r3, r5
 1040 0140 51EC1B0B 		vmov	r0, r1, d11
 1041              	.LVL96:
 1042              		.loc 1 337 50 view .LVU241
 1043 0144 FFF7FEFF 		bl	__aeabi_dadd
 1044              	.LVL97:
 1045              		.loc 1 337 24 view .LVU242
 1046 0148 53EC192B 		vmov	r2, r3, d9
 1047 014c FFF7FEFF 		bl	__aeabi_dadd
 1048              	.LVL98:
 1049 0150 CDE90401 		strd	r0, [sp, #16]
 1050              	.LVL99:
 338:Src/adjust.c  ****     front_sensor_rotate_PID = front_sensor_rotate_err_P + front_sensor_rotate_err_I + front_sensor_
 1051              		.loc 1 338 5 is_stmt 1 view .LVU243
 1052              		.loc 1 338 57 is_stmt 0 view .LVU244
 1053 0154 DDE90223 		ldrd	r2, [sp, #8]
 1054 0158 51EC1A0B 		vmov	r0, r1, d10
 1055              	.LVL100:
 1056              		.loc 1 338 57 view .LVU245
 1057 015c FFF7FEFF 		bl	__aeabi_dadd
 1058              	.LVL101:
 1059              		.loc 1 338 29 view .LVU246
 1060 0160 53EC182B 		vmov	r2, r3, d8
 1061 0164 FFF7FEFF 		bl	__aeabi_dadd
 1062              	.LVL102:
 1063 0168 0446     		mov	r4, r0
 1064              	.LVL103:
 1065              		.loc 1 338 29 view .LVU247
 1066 016a 0D46     		mov	r5, r1
 1067              	.LVL104:
 339:Src/adjust.c  **** 
 340:Src/adjust.c  ****     /*å°åŠ é›»åœ§ç®—å‡º*/
ARM GAS  C:\Temp\ccfBETwd.s 			page 26


 341:Src/adjust.c  **** 	target_vol_sum_frontwall = front_sensor_move_PID;
 1068              		.loc 1 341 2 is_stmt 1 view .LVU248
 1069              		.loc 1 341 27 is_stmt 0 view .LVU249
 1070 016c DDE90401 		ldrd	r0, [sp, #16]
 1071 0170 FFF7FEFF 		bl	__aeabi_d2f
 1072              	.LVL105:
 1073 0174 1C4B     		ldr	r3, .L61+64
 1074 0176 1860     		str	r0, [r3]	@ float
 342:Src/adjust.c  **** 	target_vol_diff_frontwall = front_sensor_rotate_PID;
 1075              		.loc 1 342 2 is_stmt 1 view .LVU250
 1076              		.loc 1 342 28 is_stmt 0 view .LVU251
 1077 0178 2046     		mov	r0, r4
 1078 017a 2946     		mov	r1, r5
 1079 017c FFF7FEFF 		bl	__aeabi_d2f
 1080              	.LVL106:
 1081 0180 1A4B     		ldr	r3, .L61+68
 1082 0182 1860     		str	r0, [r3]	@ float
 343:Src/adjust.c  **** 
 344:Src/adjust.c  **** 	/*ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿æ›´æ–°*/
 345:Src/adjust.c  ****     front_sensor_move_err_prev = front_sensor_move_err;   	
 1083              		.loc 1 345 5 is_stmt 1 view .LVU252
 1084              		.loc 1 345 32 is_stmt 0 view .LVU253
 1085 0184 9DED007B 		vldr.64	d7, [sp]
 1086 0188 8BED007B 		vstr.64	d7, [fp]
 346:Src/adjust.c  **** 	front_sensor_rotate_err_prev = front_sensor_rotate_err; 
 1087              		.loc 1 346 2 is_stmt 1 view .LVU254
 1088              		.loc 1 346 31 is_stmt 0 view .LVU255
 1089 018c CAE90067 		strd	r6, [r10]
 347:Src/adjust.c  ****     front_sensor_move_D_prev = front_sensor_move_err_D;		
 1090              		.loc 1 347 5 is_stmt 1 view .LVU256
 1091              		.loc 1 347 30 is_stmt 0 view .LVU257
 1092 0190 89ED009B 		vstr.64	d9, [r9]
 348:Src/adjust.c  ****     front_sensor_rotate_D_prev = front_sensor_rotate_err_D;
 1093              		.loc 1 348 5 is_stmt 1 view .LVU258
 1094              		.loc 1 348 32 is_stmt 0 view .LVU259
 1095 0194 88ED008B 		vstr.64	d8, [r8]
 349:Src/adjust.c  **** 
 350:Src/adjust.c  **** }
 1096              		.loc 1 350 1 view .LVU260
 1097 0198 07B0     		add	sp, sp, #28
 1098              	.LCFI10:
 1099              		.cfi_def_cfa_offset 68
 1100              	.LVL107:
 1101              		.loc 1 350 1 view .LVU261
 1102              		@ sp needed
 1103 019a BDEC088B 		vldm	sp!, {d8-d11}
 1104              	.LCFI11:
 1105              		.cfi_restore 86
 1106              		.cfi_restore 87
 1107              		.cfi_restore 84
 1108              		.cfi_restore 85
 1109              		.cfi_restore 82
 1110              		.cfi_restore 83
 1111              		.cfi_restore 80
 1112              		.cfi_restore 81
 1113              		.cfi_def_cfa_offset 36
 1114              	.LVL108:
ARM GAS  C:\Temp\ccfBETwd.s 			page 27


 1115              		.loc 1 350 1 view .LVU262
 1116 019e BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 1117              	.LVL109:
 1118              	.L62:
 1119              		.loc 1 350 1 view .LVU263
 1120 01a2 00BFAFF3 		.align	3
 1120      0080
 1121              	.L61:
 1122 01a8 60E5D022 		.word	584115552
 1123 01ac 9BA5643F 		.word	1063560603
 1124 01b0 00000000 		.word	0
 1125 01b4 631A5F40 		.word	1079974499
 1126 01b8 000000E0 		.word	-536870912
 1127 01bc 8A9E1940 		.word	1075420810
 1128 01c0 00000060 		.word	1610612736
 1129 01c4 A2AB5340 		.word	1079225250
 1130 01c8 C1CAA185 		.word	-2052994367
 1131 01cc 2062F03F 		.word	1072718368
 1132 01d0 00000000 		.word	0
 1133 01d4 236C2240 		.word	1075997731
 1134 01d8 7368916D 		.word	1838246003
 1135 01dc 81B6F03F 		.word	1072739969
 1136 01e0 00000000 		.word	.LANCHOR11
 1137 01e4 00000000 		.word	.LANCHOR12
 1138 01e8 00000000 		.word	.LANCHOR17
 1139 01ec 00000000 		.word	.LANCHOR18
 1140 01f0 00000060 		.word	1610612736
 1141 01f4 BC74833F 		.word	1065579708
 1142 01f8 000000E0 		.word	-536870912
 1143 01fc 4F8D873F 		.word	1065848143
 1144 0200 000000E0 		.word	-536870912
 1145 0204 BED5A23F 		.word	1067636158
 1146 0208 08AC1C5A 		.word	1511828488
 1147 020c D4DF9A3F 		.word	1067114452
 1148 0210 00000000 		.word	.LANCHOR13
 1149 0214 00000000 		.word	.LANCHOR14
 1150 0218 00000000 		.word	.LANCHOR15
 1151 021c 00000000 		.word	.LANCHOR16
 1152              		.cfi_endproc
 1153              	.LFE15:
 1155              		.section	.text.get_target_vol_sum_frontwall,"ax",%progbits
 1156              		.align	1
 1157              		.global	get_target_vol_sum_frontwall
 1158              		.syntax unified
 1159              		.thumb
 1160              		.thumb_func
 1161              		.fpu fpv4-sp-d16
 1163              	get_target_vol_sum_frontwall:
 1164              	.LFB16:
 351:Src/adjust.c  **** 
 352:Src/adjust.c  **** //æ©Ÿèƒ½	: å‰å£è£œæ­£ã«ã‚ˆã‚‹ãƒ¢ãƒ¼ã‚¿å°åŠ é›»åœ§ã®å’Œã‚’å–å¾—ã™ã‚‹
 353:Src/adjust.c  **** //å¼•æ•°	: ãªã—
 354:Src/adjust.c  **** //è¿”ã‚Šå€¤	: å‰å£è£œæ­£ã«ã‚ˆã‚‹å³ãƒ¢ãƒ¼ã‚¿å°åŠ é›»åœ§
 355:Src/adjust.c  **** float get_target_vol_sum_frontwall ( void )
 356:Src/adjust.c  **** {
 1165              		.loc 1 356 1 is_stmt 1 view -0
 1166              		.cfi_startproc
ARM GAS  C:\Temp\ccfBETwd.s 			page 28


 1167              		@ args = 0, pretend = 0, frame = 0
 1168              		@ frame_needed = 0, uses_anonymous_args = 0
 1169              		@ link register save eliminated.
 357:Src/adjust.c  **** 	return target_vol_sum_frontwall;
 1170              		.loc 1 357 2 view .LVU265
 358:Src/adjust.c  **** }
 1171              		.loc 1 358 1 is_stmt 0 view .LVU266
 1172 0000 014B     		ldr	r3, .L64
 1173 0002 93ED000A 		vldr.32	s0, [r3]
 1174 0006 7047     		bx	lr
 1175              	.L65:
 1176              		.align	2
 1177              	.L64:
 1178 0008 00000000 		.word	.LANCHOR17
 1179              		.cfi_endproc
 1180              	.LFE16:
 1182              		.section	.text.get_target_vol_diff_frontwall,"ax",%progbits
 1183              		.align	1
 1184              		.global	get_target_vol_diff_frontwall
 1185              		.syntax unified
 1186              		.thumb
 1187              		.thumb_func
 1188              		.fpu fpv4-sp-d16
 1190              	get_target_vol_diff_frontwall:
 1191              	.LFB17:
 359:Src/adjust.c  **** 
 360:Src/adjust.c  **** //æ©Ÿèƒ½	: å‰å£è£œæ­£ã«ã‚ˆã‚‹ãƒ¢ãƒ¼ã‚¿å°åŠ é›»åœ§ã®å·®ã‚’å–å¾—ã™ã‚‹
 361:Src/adjust.c  **** //å¼•æ•°	: ãªã—
 362:Src/adjust.c  **** //è¿”ã‚Šå€¤	: å‰å£è£œæ­£ã«ã‚ˆã‚‹å³ãƒ¢ãƒ¼ã‚¿å°åŠ é›»åœ§
 363:Src/adjust.c  **** float get_target_vol_diff_frontwall ( void )
 364:Src/adjust.c  **** {
 1192              		.loc 1 364 1 is_stmt 1 view -0
 1193              		.cfi_startproc
 1194              		@ args = 0, pretend = 0, frame = 0
 1195              		@ frame_needed = 0, uses_anonymous_args = 0
 1196              		@ link register save eliminated.
 365:Src/adjust.c  **** 	return target_vol_diff_frontwall;
 1197              		.loc 1 365 2 view .LVU268
 366:Src/adjust.c  **** }
 1198              		.loc 1 366 1 is_stmt 0 view .LVU269
 1199 0000 014B     		ldr	r3, .L67
 1200 0002 93ED000A 		vldr.32	s0, [r3]
 1201 0006 7047     		bx	lr
 1202              	.L68:
 1203              		.align	2
 1204              	.L67:
 1205 0008 00000000 		.word	.LANCHOR18
 1206              		.cfi_endproc
 1207              	.LFE17:
 1209              		.section	.text.clr_frontwall_operate_history,"ax",%progbits
 1210              		.align	1
 1211              		.global	clr_frontwall_operate_history
 1212              		.syntax unified
 1213              		.thumb
 1214              		.thumb_func
 1215              		.fpu fpv4-sp-d16
 1217              	clr_frontwall_operate_history:
ARM GAS  C:\Temp\ccfBETwd.s 			page 29


 1218              	.LFB18:
 367:Src/adjust.c  **** 
 368:Src/adjust.c  **** //æ©Ÿèƒ½	: å‰å£åˆ¶å¾¡ã®æ“ä½œå±¥æ­´ã‚’æ¶ˆã™
 369:Src/adjust.c  **** //å¼•æ•°	: ãªã—
 370:Src/adjust.c  **** //è¿”ã‚Šå€¤	: ãªã—
 371:Src/adjust.c  **** void clr_frontwall_operate_history ( void )
 372:Src/adjust.c  **** {
 1219              		.loc 1 372 1 is_stmt 1 view -0
 1220              		.cfi_startproc
 1221              		@ args = 0, pretend = 0, frame = 0
 1222              		@ frame_needed = 0, uses_anonymous_args = 0
 1223              		@ link register save eliminated.
 373:Src/adjust.c  **** 	front_sensor_move_err_I = 0;   		
 1224              		.loc 1 373 2 view .LVU271
 1225              		.loc 1 373 26 is_stmt 0 view .LVU272
 1226 0000 0022     		movs	r2, #0
 1227 0002 0023     		movs	r3, #0
 1228 0004 0949     		ldr	r1, .L70
 1229 0006 C1E90023 		strd	r2, [r1]
 374:Src/adjust.c  **** 	front_sensor_rotate_err_I = 0; 	  	
 1230              		.loc 1 374 2 is_stmt 1 view .LVU273
 1231              		.loc 1 374 28 is_stmt 0 view .LVU274
 1232 000a 0949     		ldr	r1, .L70+4
 1233 000c C1E90023 		strd	r2, [r1]
 375:Src/adjust.c  **** 	front_sensor_move_err_prev = 0;	   	
 1234              		.loc 1 375 2 is_stmt 1 view .LVU275
 1235              		.loc 1 375 29 is_stmt 0 view .LVU276
 1236 0010 0849     		ldr	r1, .L70+8
 1237 0012 C1E90023 		strd	r2, [r1]
 376:Src/adjust.c  **** 	front_sensor_rotate_err_prev = 0; 	
 1238              		.loc 1 376 2 is_stmt 1 view .LVU277
 1239              		.loc 1 376 31 is_stmt 0 view .LVU278
 1240 0016 0849     		ldr	r1, .L70+12
 1241 0018 C1E90023 		strd	r2, [r1]
 377:Src/adjust.c  **** 	front_sensor_move_D_prev = 0; 		
 1242              		.loc 1 377 2 is_stmt 1 view .LVU279
 1243              		.loc 1 377 27 is_stmt 0 view .LVU280
 1244 001c 0749     		ldr	r1, .L70+16
 1245 001e C1E90023 		strd	r2, [r1]
 378:Src/adjust.c  **** 	front_sensor_rotate_D_prev = 0;	   	
 1246              		.loc 1 378 2 is_stmt 1 view .LVU281
 1247              		.loc 1 378 29 is_stmt 0 view .LVU282
 1248 0022 0749     		ldr	r1, .L70+20
 1249 0024 C1E90023 		strd	r2, [r1]
 379:Src/adjust.c  **** }
 1250              		.loc 1 379 1 view .LVU283
 1251 0028 7047     		bx	lr
 1252              	.L71:
 1253 002a 00BF     		.align	2
 1254              	.L70:
 1255 002c 00000000 		.word	.LANCHOR11
 1256 0030 00000000 		.word	.LANCHOR12
 1257 0034 00000000 		.word	.LANCHOR13
 1258 0038 00000000 		.word	.LANCHOR15
 1259 003c 00000000 		.word	.LANCHOR14
 1260 0040 00000000 		.word	.LANCHOR16
 1261              		.cfi_endproc
ARM GAS  C:\Temp\ccfBETwd.s 			page 30


 1262              	.LFE18:
 1264              		.global	__aeabi_dcmplt
 1265              		.global	__aeabi_dcmpgt
 1266              		.section	.text.fornt_wall_calibrate,"ax",%progbits
 1267              		.align	1
 1268              		.global	fornt_wall_calibrate
 1269              		.syntax unified
 1270              		.thumb
 1271              		.thumb_func
 1272              		.fpu fpv4-sp-d16
 1274              	fornt_wall_calibrate:
 1275              	.LFB19:
 380:Src/adjust.c  **** 
 381:Src/adjust.c  **** 
 382:Src/adjust.c  **** ////////////////////////////////////////
 383:Src/adjust.c  **** /* ãƒã‚¦ã‚¹ä½ç½®è£œæ­£é–¢æ•°		ã€€			*/
 384:Src/adjust.c  **** /* å£ã‚’ä½¿ã£ãŸä½ç½®ã®è£œæ­£ç”¨é–¢æ•°			*/
 385:Src/adjust.c  **** ////////////////////////////////////////
 386:Src/adjust.c  **** 
 387:Src/adjust.c  **** /* memo:å‰å£è£œæ­£
 388:Src/adjust.c  ****  * param:
 389:Src/adjust.c  ****  *  * */
 390:Src/adjust.c  **** void fornt_wall_calibrate (void)
 391:Src/adjust.c  **** {
 1276              		.loc 1 391 1 is_stmt 1 view -0
 1277              		.cfi_startproc
 1278              		@ args = 0, pretend = 0, frame = 0
 1279              		@ frame_needed = 0, uses_anonymous_args = 0
 1280 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 1281              	.LCFI12:
 1282              		.cfi_def_cfa_offset 24
 1283              		.cfi_offset 3, -24
 1284              		.cfi_offset 4, -20
 1285              		.cfi_offset 5, -16
 1286              		.cfi_offset 6, -12
 1287              		.cfi_offset 7, -8
 1288              		.cfi_offset 14, -4
 392:Src/adjust.c  **** 	double temp_r;
 1289              		.loc 1 392 2 view .LVU285
 393:Src/adjust.c  **** 	double temp_l;
 1290              		.loc 1 393 2 view .LVU286
 394:Src/adjust.c  **** 	double temp;
 1291              		.loc 1 394 2 view .LVU287
 395:Src/adjust.c  **** 
 396:Src/adjust.c  **** 	set_mode_ctrl(front_wall); 		//åˆ¶å¾¡ãƒ¢ãƒ¼ãƒ‰ã‚’å‰å£è£œæ­£ãƒ¢ãƒ¼ãƒ‰ã«
 1292              		.loc 1 396 2 view .LVU288
 1293 0002 0120     		movs	r0, #1
 1294 0004 FFF7FEFF 		bl	set_mode_ctrl
 1295              	.LVL110:
 397:Src/adjust.c  **** 	fornt_wall_calibrate_tim = 0; 	//å‰å£åˆ¶å¾¡ç”¨ã‚¿ã‚¤ãƒã‚’åˆæœŸåŒ–
 1296              		.loc 1 397 2 view .LVU289
 1297              		.loc 1 397 27 is_stmt 0 view .LVU290
 1298 0008 454B     		ldr	r3, .L95+24
 1299 000a 0022     		movs	r2, #0
 1300 000c 1A80     		strh	r2, [r3]	@ movhi
 1301 000e 22E0     		b	.L83
 1302              	.L92:
ARM GAS  C:\Temp\ccfBETwd.s 			page 31


 398:Src/adjust.c  **** 
 399:Src/adjust.c  **** 	while(1)
 400:Src/adjust.c  **** 	{
 401:Src/adjust.c  **** 		//åå·®å–å¾—
 402:Src/adjust.c  **** 		temp_r = ABS(front_sensor_r_ref - SensorValue2length(3));
 1303              		.loc 1 402 12 discriminator 1 view .LVU291
 1304 0010 0320     		movs	r0, #3
 1305 0012 FFF7FEFF 		bl	SensorValue2length
 1306              	.LVL111:
 1307 0016 53EC102B 		vmov	r2, r3, d0
 1308 001a 3BA1     		adr	r1, .L95
 1309 001c D1E90001 		ldrd	r0, [r1]
 1310 0020 FFF7FEFF 		bl	__aeabi_dsub
 1311              	.LVL112:
 1312 0024 0646     		mov	r6, r0
 1313 0026 01F10047 		add	r7, r1, #-2147483648
 1314 002a 30E0     		b	.L75
 1315              	.LVL113:
 1316              	.L93:
 403:Src/adjust.c  **** 		temp_l = ABS(front_sensor_l_ref - SensorValue2length(0));
 1317              		.loc 1 403 12 discriminator 1 view .LVU292
 1318 002c 0020     		movs	r0, #0
 1319 002e FFF7FEFF 		bl	SensorValue2length
 1320              	.LVL114:
 1321 0032 53EC102B 		vmov	r2, r3, d0
 1322 0036 36A1     		adr	r1, .L95+8
 1323 0038 D1E90001 		ldrd	r0, [r1]
 1324 003c FFF7FEFF 		bl	__aeabi_dsub
 1325              	.LVL115:
 1326 0040 0446     		mov	r4, r0
 1327 0042 01F10045 		add	r5, r1, #-2147483648
 1328 0046 3EE0     		b	.L78
 1329              	.LVL116:
 1330              	.L94:
 404:Src/adjust.c  **** 		//åå·®ã®æœ€å¤§å€¤å–å¾—
 405:Src/adjust.c  **** 		temp = MAX(temp_r,temp_l);
 406:Src/adjust.c  **** 		//ã‚»ãƒ³ã‚µå€¤ãŒåŸºæº–ã‚ˆã‚Šå·®ã‚’æŒã¤ã¨ãã€ã‚¿ã‚¤ãƒã‚’ãƒªã‚»ãƒƒãƒˆ
 407:Src/adjust.c  **** 		if(temp > front_sensor_th)
 408:Src/adjust.c  **** 		{
 409:Src/adjust.c  **** 		 fornt_wall_calibrate_tim = 0;
 1331              		.loc 1 409 4 is_stmt 1 view .LVU293
 1332              		.loc 1 409 29 is_stmt 0 view .LVU294
 1333 0048 354B     		ldr	r3, .L95+24
 1334 004a 0022     		movs	r2, #0
 1335 004c 1A80     		strh	r2, [r3]	@ movhi
 1336              	.L81:
 410:Src/adjust.c  **** 		}
 411:Src/adjust.c  **** 		//ã‚­ãƒ£ãƒªãƒ–ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³æ™‚é–“ã‚’è¶…ãˆã‚‹ã¨ãã€ãƒ–ãƒ¬ã‚¤ã‚¯
 412:Src/adjust.c  **** 		if(fornt_wall_calibrate_tim >= calib_tim )
 1337              		.loc 1 412 3 is_stmt 1 view .LVU295
 1338              		.loc 1 412 31 is_stmt 0 view .LVU296
 1339 004e 344B     		ldr	r3, .L95+24
 1340 0050 1B88     		ldrh	r3, [r3]
 1341              		.loc 1 412 5 view .LVU297
 1342 0052 632B     		cmp	r3, #99
 1343 0054 4AD8     		bhi	.L91
 1344              	.LVL117:
ARM GAS  C:\Temp\ccfBETwd.s 			page 32


 1345              	.L83:
 399:Src/adjust.c  **** 	{
 1346              		.loc 1 399 2 is_stmt 1 view .LVU298
 402:Src/adjust.c  **** 		temp_l = ABS(front_sensor_l_ref - SensorValue2length(0));
 1347              		.loc 1 402 3 view .LVU299
 402:Src/adjust.c  **** 		temp_l = ABS(front_sensor_l_ref - SensorValue2length(0));
 1348              		.loc 1 402 12 is_stmt 0 view .LVU300
 1349 0056 0320     		movs	r0, #3
 1350 0058 FFF7FEFF 		bl	SensorValue2length
 1351              	.LVL118:
 1352 005c 53EC102B 		vmov	r2, r3, d0
 1353 0060 29A1     		adr	r1, .L95
 1354 0062 D1E90001 		ldrd	r0, [r1]
 1355 0066 FFF7FEFF 		bl	__aeabi_dsub
 1356              	.LVL119:
 1357 006a 0022     		movs	r2, #0
 1358 006c 0023     		movs	r3, #0
 1359 006e FFF7FEFF 		bl	__aeabi_dcmplt
 1360              	.LVL120:
 1361 0072 0028     		cmp	r0, #0
 1362 0074 CCD1     		bne	.L92
 402:Src/adjust.c  **** 		temp_l = ABS(front_sensor_l_ref - SensorValue2length(0));
 1363              		.loc 1 402 12 discriminator 2 view .LVU301
 1364 0076 0320     		movs	r0, #3
 1365 0078 FFF7FEFF 		bl	SensorValue2length
 1366              	.LVL121:
 1367 007c 53EC102B 		vmov	r2, r3, d0
 1368 0080 21A1     		adr	r1, .L95
 1369 0082 D1E90001 		ldrd	r0, [r1]
 1370 0086 FFF7FEFF 		bl	__aeabi_dsub
 1371              	.LVL122:
 1372 008a 0646     		mov	r6, r0
 1373 008c 0F46     		mov	r7, r1
 1374              	.L75:
 1375              	.LVL123:
 403:Src/adjust.c  **** 		//åå·®ã®æœ€å¤§å€¤å–å¾—
 1376              		.loc 1 403 3 is_stmt 1 discriminator 4 view .LVU302
 403:Src/adjust.c  **** 		//åå·®ã®æœ€å¤§å€¤å–å¾—
 1377              		.loc 1 403 12 is_stmt 0 discriminator 4 view .LVU303
 1378 008e 0020     		movs	r0, #0
 1379 0090 FFF7FEFF 		bl	SensorValue2length
 1380              	.LVL124:
 1381 0094 53EC102B 		vmov	r2, r3, d0
 1382 0098 1DA1     		adr	r1, .L95+8
 1383 009a D1E90001 		ldrd	r0, [r1]
 1384 009e FFF7FEFF 		bl	__aeabi_dsub
 1385              	.LVL125:
 1386 00a2 0022     		movs	r2, #0
 1387 00a4 0023     		movs	r3, #0
 1388 00a6 FFF7FEFF 		bl	__aeabi_dcmplt
 1389              	.LVL126:
 1390 00aa 0028     		cmp	r0, #0
 1391 00ac BED1     		bne	.L93
 403:Src/adjust.c  **** 		//åå·®ã®æœ€å¤§å€¤å–å¾—
 1392              		.loc 1 403 12 discriminator 2 view .LVU304
 1393 00ae 0020     		movs	r0, #0
 1394 00b0 FFF7FEFF 		bl	SensorValue2length
ARM GAS  C:\Temp\ccfBETwd.s 			page 33


 1395              	.LVL127:
 1396 00b4 53EC102B 		vmov	r2, r3, d0
 1397 00b8 15A1     		adr	r1, .L95+8
 1398 00ba D1E90001 		ldrd	r0, [r1]
 1399 00be FFF7FEFF 		bl	__aeabi_dsub
 1400              	.LVL128:
 1401 00c2 0446     		mov	r4, r0
 1402 00c4 0D46     		mov	r5, r1
 1403              	.L78:
 1404              	.LVL129:
 405:Src/adjust.c  **** 		//ã‚»ãƒ³ã‚µå€¤ãŒåŸºæº–ã‚ˆã‚Šå·®ã‚’æŒã¤ã¨ãã€ã‚¿ã‚¤ãƒã‚’ãƒªã‚»ãƒƒãƒˆ
 1405              		.loc 1 405 3 is_stmt 1 discriminator 4 view .LVU305
 405:Src/adjust.c  **** 		//ã‚»ãƒ³ã‚µå€¤ãŒåŸºæº–ã‚ˆã‚Šå·®ã‚’æŒã¤ã¨ãã€ã‚¿ã‚¤ãƒã‚’ãƒªã‚»ãƒƒãƒˆ
 1406              		.loc 1 405 10 is_stmt 0 discriminator 4 view .LVU306
 1407 00c6 2246     		mov	r2, r4
 1408 00c8 2B46     		mov	r3, r5
 1409 00ca 3046     		mov	r0, r6
 1410 00cc 3946     		mov	r1, r7
 1411 00ce FFF7FEFF 		bl	__aeabi_dcmpgt
 1412              	.LVL130:
 1413 00d2 08B1     		cbz	r0, .L79
 405:Src/adjust.c  **** 		//ã‚»ãƒ³ã‚µå€¤ãŒåŸºæº–ã‚ˆã‚Šå·®ã‚’æŒã¤ã¨ãã€ã‚¿ã‚¤ãƒã‚’ãƒªã‚»ãƒƒãƒˆ
 1414              		.loc 1 405 10 view .LVU307
 1415 00d4 3446     		mov	r4, r6
 1416              	.LVL131:
 405:Src/adjust.c  **** 		//ã‚»ãƒ³ã‚µå€¤ãŒåŸºæº–ã‚ˆã‚Šå·®ã‚’æŒã¤ã¨ãã€ã‚¿ã‚¤ãƒã‚’ãƒªã‚»ãƒƒãƒˆ
 1417              		.loc 1 405 10 view .LVU308
 1418 00d6 3D46     		mov	r5, r7
 1419              	.L79:
 1420              	.LVL132:
 407:Src/adjust.c  **** 		{
 1421              		.loc 1 407 3 is_stmt 1 discriminator 4 view .LVU309
 407:Src/adjust.c  **** 		{
 1422              		.loc 1 407 5 is_stmt 0 discriminator 4 view .LVU310
 1423 00d8 0FA3     		adr	r3, .L95+16
 1424 00da D3E90023 		ldrd	r2, [r3]
 1425 00de 2046     		mov	r0, r4
 1426 00e0 2946     		mov	r1, r5
 1427 00e2 FFF7FEFF 		bl	__aeabi_dcmpgt
 1428              	.LVL133:
 1429 00e6 0028     		cmp	r0, #0
 1430 00e8 B1D0     		beq	.L81
 1431 00ea ADE7     		b	.L94
 1432              	.L91:
 413:Src/adjust.c  **** 		{
 414:Src/adjust.c  **** 		 break;
 415:Src/adjust.c  **** 		}
 416:Src/adjust.c  **** 	}
 417:Src/adjust.c  **** 	//è£œæ­£çµ‚äº†æ™‚ã€ç§»å‹•è·é›¢ã€è§’åº¦ã«ç†æƒ³å€¤ã‚’ä»£å…¥
 418:Src/adjust.c  **** 	set_move_length(get_ideal_length());
 1433              		.loc 1 418 2 is_stmt 1 view .LVU311
 1434 00ec FFF7FEFF 		bl	get_ideal_length
 1435              	.LVL134:
 1436 00f0 FFF7FEFF 		bl	set_move_length
 1437              	.LVL135:
 419:Src/adjust.c  **** 	set_rotation_angle(get_ideal_angle());
 1438              		.loc 1 419 2 view .LVU312
ARM GAS  C:\Temp\ccfBETwd.s 			page 34


 1439 00f4 FFF7FEFF 		bl	get_ideal_angle
 1440              	.LVL136:
 1441 00f8 FFF7FEFF 		bl	set_rotation_angle
 1442              	.LVL137:
 420:Src/adjust.c  **** 	
 421:Src/adjust.c  **** 	//åˆ¶å¾¡ãƒ¢ãƒ¼ãƒ‰ã‚’è»Œè·¡åˆ¶å¾¡ã«å¤‰æ›´
 422:Src/adjust.c  **** 	set_mode_ctrl(trace);
 1443              		.loc 1 422 2 view .LVU313
 1444 00fc 0020     		movs	r0, #0
 1445 00fe FFF7FEFF 		bl	set_mode_ctrl
 1446              	.LVL138:
 423:Src/adjust.c  **** }
 1447              		.loc 1 423 1 is_stmt 0 view .LVU314
 1448 0102 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1449              	.LVL139:
 1450              	.L96:
 1451              		.loc 1 423 1 view .LVU315
 1452 0104 AFF30080 		.align	3
 1453              	.L95:
 1454 0108 000000E0 		.word	-536870912
 1455 010c 4F8D873F 		.word	1065848143
 1456 0110 00000060 		.word	1610612736
 1457 0114 BC74833F 		.word	1065579708
 1458 0118 61325530 		.word	810889825
 1459 011c 2AA9333F 		.word	1060350250
 1460 0120 00000000 		.word	.LANCHOR19
 1461              		.cfi_endproc
 1462              	.LFE19:
 1464              		.section	.text.calibrate_tim,"ax",%progbits
 1465              		.align	1
 1466              		.global	calibrate_tim
 1467              		.syntax unified
 1468              		.thumb
 1469              		.thumb_func
 1470              		.fpu fpv4-sp-d16
 1472              	calibrate_tim:
 1473              	.LFB20:
 424:Src/adjust.c  **** 
 425:Src/adjust.c  **** /* memo:å‰å£è£œæ­£ç”¨ã‚¿ã‚¤ãƒ
 426:Src/adjust.c  ****  * param:
 427:Src/adjust.c  ****  *  * */
 428:Src/adjust.c  **** void calibrate_tim (void){
 1474              		.loc 1 428 26 is_stmt 1 view -0
 1475              		.cfi_startproc
 1476              		@ args = 0, pretend = 0, frame = 0
 1477              		@ frame_needed = 0, uses_anonymous_args = 0
 1478              		@ link register save eliminated.
 429:Src/adjust.c  **** 
 430:Src/adjust.c  **** 	fornt_wall_calibrate_tim += 1;
 1479              		.loc 1 430 2 view .LVU317
 1480              		.loc 1 430 27 is_stmt 0 view .LVU318
 1481 0000 054A     		ldr	r2, .L99
 1482 0002 1388     		ldrh	r3, [r2]
 1483 0004 0133     		adds	r3, r3, #1
 1484 0006 9BB2     		uxth	r3, r3
 1485 0008 1380     		strh	r3, [r2]	@ movhi
 431:Src/adjust.c  **** 
ARM GAS  C:\Temp\ccfBETwd.s 			page 35


 432:Src/adjust.c  **** 	if(fornt_wall_calibrate_tim > calib_tim){
 1486              		.loc 1 432 2 is_stmt 1 view .LVU319
 1487              		.loc 1 432 4 is_stmt 0 view .LVU320
 1488 000a 642B     		cmp	r3, #100
 1489 000c 02D9     		bls	.L97
 433:Src/adjust.c  **** 		fornt_wall_calibrate_tim = calib_tim;
 1490              		.loc 1 433 3 is_stmt 1 view .LVU321
 1491              		.loc 1 433 28 is_stmt 0 view .LVU322
 1492 000e 1346     		mov	r3, r2
 1493 0010 6422     		movs	r2, #100
 1494 0012 1A80     		strh	r2, [r3]	@ movhi
 1495              	.L97:
 434:Src/adjust.c  **** 	}
 435:Src/adjust.c  **** }
 1496              		.loc 1 435 1 view .LVU323
 1497 0014 7047     		bx	lr
 1498              	.L100:
 1499 0016 00BF     		.align	2
 1500              	.L99:
 1501 0018 00000000 		.word	.LANCHOR19
 1502              		.cfi_endproc
 1503              	.LFE20:
 1505              		.section	.text.adjust_1ms,"ax",%progbits
 1506              		.align	1
 1507              		.global	adjust_1ms
 1508              		.syntax unified
 1509              		.thumb
 1510              		.thumb_func
 1511              		.fpu fpv4-sp-d16
 1513              	adjust_1ms:
 1514              	.LFB3:
  38:Src/adjust.c  **** 	set_target_side_sensor();		//åˆæœŸä½ç½®ã®ã‚»ãƒ³ã‚µå€¤ã‚’æ¨ªå£åˆ¶å¾¡ç›®æ¨™å€¤ã«ã‚»ãƒƒãƒˆ
 1515              		.loc 1 38 1 is_stmt 1 view -0
 1516              		.cfi_startproc
 1517              		@ args = 0, pretend = 0, frame = 0
 1518              		@ frame_needed = 0, uses_anonymous_args = 0
 1519 0000 08B5     		push	{r3, lr}
 1520              	.LCFI13:
 1521              		.cfi_def_cfa_offset 8
 1522              		.cfi_offset 3, -8
 1523              		.cfi_offset 14, -4
  39:Src/adjust.c  **** 	calc_side_wall_ctrl_mode();		//æ¨ªå£è£œæ­£ã®ãƒ¢ãƒ¼ãƒ‰ã‚’æ±ºå®š
 1524              		.loc 1 39 2 view .LVU325
 1525 0002 FFF7FEFF 		bl	set_target_side_sensor
 1526              	.LVL140:
  40:Src/adjust.c  **** 	adjust_theta_side_wall();		//æ¨ªå£è£œæ­£ã®ãƒ¢ãƒ¼ãƒ‰ã«å¿œã˜ã€è»Œè·¡åˆ¶å¾¡ã«ãŠã‘ã‚‹è§’åº¦ã‚’
 1527              		.loc 1 40 2 view .LVU326
 1528 0006 FFF7FEFF 		bl	calc_side_wall_ctrl_mode
 1529              	.LVL141:
  41:Src/adjust.c  **** 	calc_motor_vol_side_wall();		//æ¨ªå£è£œæ­£ã«ãŠã‘ã‚‹å°åŠ é›»åœ§è¨ˆç®—
 1530              		.loc 1 41 2 view .LVU327
  42:Src/adjust.c  **** 	calc_motor_vol_front_wall();	//å‰å£åˆ¶å¾¡ã«ãŠã‘ã‚‹å°åŠ é›»åœ§è¨ˆç®—
 1531              		.loc 1 42 2 view .LVU328
 1532 000a FFF7FEFF 		bl	calc_motor_vol_side_wall
 1533              	.LVL142:
  43:Src/adjust.c  **** 	calibrate_tim();				//å‰å£åˆ¶å¾¡ç”¨ã‚¿ã‚¤ãƒ
 1534              		.loc 1 43 2 view .LVU329
ARM GAS  C:\Temp\ccfBETwd.s 			page 36


 1535 000e FFF7FEFF 		bl	calc_motor_vol_front_wall
 1536              	.LVL143:
  44:Src/adjust.c  **** }
 1537              		.loc 1 44 2 view .LVU330
 1538 0012 FFF7FEFF 		bl	calibrate_tim
 1539              	.LVL144:
  45:Src/adjust.c  **** 
 1540              		.loc 1 45 1 is_stmt 0 view .LVU331
 1541 0016 08BD     		pop	{r3, pc}
 1542              		.cfi_endproc
 1543              	.LFE3:
 1545              		.section	.bss.ave_counter.7300,"aw",%nobits
 1546              		.align	1
 1547              		.set	.LANCHOR8,. + 0
 1550              	ave_counter.7300:
 1551 0000 0000     		.space	2
 1552              		.section	.bss.ave_store.7299,"aw",%nobits
 1553              		.align	2
 1554              		.set	.LANCHOR9,. + 0
 1557              	ave_store.7299:
 1558 0000 00000000 		.space	40
 1558      00000000 
 1558      00000000 
 1558      00000000 
 1558      00000000 
 1559              		.section	.bss.fornt_wall_calibrate_tim,"aw",%nobits
 1560              		.align	1
 1561              		.set	.LANCHOR19,. + 0
 1564              	fornt_wall_calibrate_tim:
 1565 0000 0000     		.space	2
 1566              		.section	.bss.front_sensor_move_D_prev,"aw",%nobits
 1567              		.align	3
 1568              		.set	.LANCHOR14,. + 0
 1571              	front_sensor_move_D_prev:
 1572 0000 00000000 		.space	8
 1572      00000000 
 1573              		.section	.bss.front_sensor_move_err_I,"aw",%nobits
 1574              		.align	3
 1575              		.set	.LANCHOR11,. + 0
 1578              	front_sensor_move_err_I:
 1579 0000 00000000 		.space	8
 1579      00000000 
 1580              		.section	.bss.front_sensor_move_err_prev,"aw",%nobits
 1581              		.align	3
 1582              		.set	.LANCHOR13,. + 0
 1585              	front_sensor_move_err_prev:
 1586 0000 00000000 		.space	8
 1586      00000000 
 1587              		.section	.bss.front_sensor_rotate_D_prev,"aw",%nobits
 1588              		.align	3
 1589              		.set	.LANCHOR16,. + 0
 1592              	front_sensor_rotate_D_prev:
 1593 0000 00000000 		.space	8
 1593      00000000 
 1594              		.section	.bss.front_sensor_rotate_err_I,"aw",%nobits
 1595              		.align	3
 1596              		.set	.LANCHOR12,. + 0
ARM GAS  C:\Temp\ccfBETwd.s 			page 37


 1599              	front_sensor_rotate_err_I:
 1600 0000 00000000 		.space	8
 1600      00000000 
 1601              		.section	.bss.front_sensor_rotate_err_prev,"aw",%nobits
 1602              		.align	3
 1603              		.set	.LANCHOR15,. + 0
 1606              	front_sensor_rotate_err_prev:
 1607 0000 00000000 		.space	8
 1607      00000000 
 1608              		.section	.bss.side_sensor_l_old.7288,"aw",%nobits
 1609              		.align	1
 1610              		.set	.LANCHOR6,. + 0
 1613              	side_sensor_l_old.7288:
 1614 0000 0000     		.space	2
 1615              		.section	.bss.side_sensor_l_th,"aw",%nobits
 1616              		.align	1
 1617              		.set	.LANCHOR3,. + 0
 1620              	side_sensor_l_th:
 1621 0000 0000     		.space	2
 1622              		.section	.bss.side_sensor_r_old.7287,"aw",%nobits
 1623              		.align	1
 1624              		.set	.LANCHOR7,. + 0
 1627              	side_sensor_r_old.7287:
 1628 0000 0000     		.space	2
 1629              		.section	.bss.side_sensor_r_th,"aw",%nobits
 1630              		.align	1
 1631              		.set	.LANCHOR4,. + 0
 1634              	side_sensor_r_th:
 1635 0000 0000     		.space	2
 1636              		.section	.bss.target_sensor_sl,"aw",%nobits
 1637              		.align	3
 1638              		.set	.LANCHOR1,. + 0
 1641              	target_sensor_sl:
 1642 0000 00000000 		.space	8
 1642      00000000 
 1643              		.section	.bss.target_sensor_sr,"aw",%nobits
 1644              		.align	3
 1645              		.set	.LANCHOR2,. + 0
 1648              	target_sensor_sr:
 1649 0000 00000000 		.space	8
 1649      00000000 
 1650              		.section	.bss.target_set_flg.7266,"aw",%nobits
 1651              		.set	.LANCHOR0,. + 0
 1654              	target_set_flg.7266:
 1655 0000 00       		.space	1
 1656              		.section	.bss.target_vol_diff_frontwall,"aw",%nobits
 1657              		.align	2
 1658              		.set	.LANCHOR18,. + 0
 1661              	target_vol_diff_frontwall:
 1662 0000 00000000 		.space	4
 1663              		.section	.bss.target_vol_diff_sidewall,"aw",%nobits
 1664              		.align	2
 1665              		.set	.LANCHOR10,. + 0
 1668              	target_vol_diff_sidewall:
 1669 0000 00000000 		.space	4
 1670              		.section	.bss.target_vol_sum_frontwall,"aw",%nobits
 1671              		.align	2
ARM GAS  C:\Temp\ccfBETwd.s 			page 38


 1672              		.set	.LANCHOR17,. + 0
 1675              	target_vol_sum_frontwall:
 1676 0000 00000000 		.space	4
 1677              		.section	.data.side_wall_ctrl_mode,"aw"
 1678              		.set	.LANCHOR5,. + 0
 1681              	side_wall_ctrl_mode:
 1682 0000 03       		.byte	3
 1683              		.text
 1684              	.Letext0:
 1685              		.file 2 "c:\\tools\\gcc-arm-none-eabi-9-2019-q4-major\\arm-none-eabi\\include\\machine\\_default_t
 1686              		.file 3 "c:\\tools\\gcc-arm-none-eabi-9-2019-q4-major\\arm-none-eabi\\include\\sys\\lock.h"
 1687              		.file 4 "c:\\tools\\gcc-arm-none-eabi-9-2019-q4-major\\arm-none-eabi\\include\\sys\\_types.h"
 1688              		.file 5 "c:\\tools\\gcc-arm-none-eabi-9-2019-q4-major\\lib\\gcc\\arm-none-eabi\\9.2.1\\include\\st
 1689              		.file 6 "c:\\tools\\gcc-arm-none-eabi-9-2019-q4-major\\arm-none-eabi\\include\\sys\\reent.h"
 1690              		.file 7 "c:\\tools\\gcc-arm-none-eabi-9-2019-q4-major\\arm-none-eabi\\include\\sys\\_stdint.h"
 1691              		.file 8 "c:\\tools\\gcc-arm-none-eabi-9-2019-q4-major\\arm-none-eabi\\include\\math.h"
 1692              		.file 9 "Inc/adjust.h"
 1693              		.file 10 "Inc/exvol.h"
 1694              		.file 11 "Inc/ir_sensor.h"
 1695              		.file 12 "Inc/target.h"
 1696              		.file 13 "Inc/mouse_state.h"
ARM GAS  C:\Temp\ccfBETwd.s 			page 39


DEFINED SYMBOLS
                            *ABS*:00000000 adjust.c
  C:\Temp\ccfBETwd.s:18     .text.set_target_side_sensor:00000000 $t
  C:\Temp\ccfBETwd.s:26     .text.set_target_side_sensor:00000000 set_target_side_sensor
  C:\Temp\ccfBETwd.s:64     .text.set_target_side_sensor:00000028 $d
  C:\Temp\ccfBETwd.s:76     .text.get_target_sensor_sr:00000000 $t
  C:\Temp\ccfBETwd.s:83     .text.get_target_sensor_sr:00000000 get_target_sensor_sr
  C:\Temp\ccfBETwd.s:106    .text.get_target_sensor_sr:00000014 $d
  C:\Temp\ccfBETwd.s:111    .text.get_target_sensor_sl:00000000 $t
  C:\Temp\ccfBETwd.s:118    .text.get_target_sensor_sl:00000000 get_target_sensor_sl
  C:\Temp\ccfBETwd.s:141    .text.get_target_sensor_sl:00000014 $d
  C:\Temp\ccfBETwd.s:146    .text.get_side_sensor_l_th:00000000 $t
  C:\Temp\ccfBETwd.s:153    .text.get_side_sensor_l_th:00000000 get_side_sensor_l_th
  C:\Temp\ccfBETwd.s:168    .text.get_side_sensor_l_th:00000008 $d
  C:\Temp\ccfBETwd.s:173    .text.get_side_sensor_r_th:00000000 $t
  C:\Temp\ccfBETwd.s:180    .text.get_side_sensor_r_th:00000000 get_side_sensor_r_th
  C:\Temp\ccfBETwd.s:195    .text.get_side_sensor_r_th:00000008 $d
  C:\Temp\ccfBETwd.s:200    .text.get_side_wall_ctrl_mode:00000000 $t
  C:\Temp\ccfBETwd.s:207    .text.get_side_wall_ctrl_mode:00000000 get_side_wall_ctrl_mode
  C:\Temp\ccfBETwd.s:222    .text.get_side_wall_ctrl_mode:00000008 $d
  C:\Temp\ccfBETwd.s:227    .text.calc_side_wall_ctrl_mode:00000000 $t
  C:\Temp\ccfBETwd.s:234    .text.calc_side_wall_ctrl_mode:00000000 calc_side_wall_ctrl_mode
  C:\Temp\ccfBETwd.s:491    .text.calc_side_wall_ctrl_mode:0000011c $d
  C:\Temp\ccfBETwd.s:506    .text.get_side_wall_err:00000000 $t
  C:\Temp\ccfBETwd.s:513    .text.get_side_wall_err:00000000 get_side_wall_err
  C:\Temp\ccfBETwd.s:640    .text.get_side_wall_err:000000b0 $d
  C:\Temp\ccfBETwd.s:649    .text.adjust_theta_side_wall:00000000 $t
  C:\Temp\ccfBETwd.s:656    .text.adjust_theta_side_wall:00000000 adjust_theta_side_wall
  C:\Temp\ccfBETwd.s:671    .text.calc_motor_vol_side_wall:00000000 $t
  C:\Temp\ccfBETwd.s:678    .text.calc_motor_vol_side_wall:00000000 calc_motor_vol_side_wall
  C:\Temp\ccfBETwd.s:770    .text.calc_motor_vol_side_wall:0000005c $d
  C:\Temp\ccfBETwd.s:777    .text.get_target_vol_diff_sidewall:00000000 $t
  C:\Temp\ccfBETwd.s:784    .text.get_target_vol_diff_sidewall:00000000 get_target_vol_diff_sidewall
  C:\Temp\ccfBETwd.s:799    .text.get_target_vol_diff_sidewall:00000008 $d
  C:\Temp\ccfBETwd.s:805    .text.calc_motor_vol_front_wall:00000000 $t
  C:\Temp\ccfBETwd.s:812    .text.calc_motor_vol_front_wall:00000000 calc_motor_vol_front_wall
  C:\Temp\ccfBETwd.s:1122   .text.calc_motor_vol_front_wall:000001a8 $d
  C:\Temp\ccfBETwd.s:1156   .text.get_target_vol_sum_frontwall:00000000 $t
  C:\Temp\ccfBETwd.s:1163   .text.get_target_vol_sum_frontwall:00000000 get_target_vol_sum_frontwall
  C:\Temp\ccfBETwd.s:1178   .text.get_target_vol_sum_frontwall:00000008 $d
  C:\Temp\ccfBETwd.s:1183   .text.get_target_vol_diff_frontwall:00000000 $t
  C:\Temp\ccfBETwd.s:1190   .text.get_target_vol_diff_frontwall:00000000 get_target_vol_diff_frontwall
  C:\Temp\ccfBETwd.s:1205   .text.get_target_vol_diff_frontwall:00000008 $d
  C:\Temp\ccfBETwd.s:1210   .text.clr_frontwall_operate_history:00000000 $t
  C:\Temp\ccfBETwd.s:1217   .text.clr_frontwall_operate_history:00000000 clr_frontwall_operate_history
  C:\Temp\ccfBETwd.s:1255   .text.clr_frontwall_operate_history:0000002c $d
  C:\Temp\ccfBETwd.s:1267   .text.fornt_wall_calibrate:00000000 $t
  C:\Temp\ccfBETwd.s:1274   .text.fornt_wall_calibrate:00000000 fornt_wall_calibrate
  C:\Temp\ccfBETwd.s:1454   .text.fornt_wall_calibrate:00000108 $d
  C:\Temp\ccfBETwd.s:1465   .text.calibrate_tim:00000000 $t
  C:\Temp\ccfBETwd.s:1472   .text.calibrate_tim:00000000 calibrate_tim
  C:\Temp\ccfBETwd.s:1501   .text.calibrate_tim:00000018 $d
  C:\Temp\ccfBETwd.s:1506   .text.adjust_1ms:00000000 $t
  C:\Temp\ccfBETwd.s:1513   .text.adjust_1ms:00000000 adjust_1ms
  C:\Temp\ccfBETwd.s:1546   .bss.ave_counter.7300:00000000 $d
  C:\Temp\ccfBETwd.s:1550   .bss.ave_counter.7300:00000000 ave_counter.7300
  C:\Temp\ccfBETwd.s:1553   .bss.ave_store.7299:00000000 $d
ARM GAS  C:\Temp\ccfBETwd.s 			page 40


  C:\Temp\ccfBETwd.s:1557   .bss.ave_store.7299:00000000 ave_store.7299
  C:\Temp\ccfBETwd.s:1560   .bss.fornt_wall_calibrate_tim:00000000 $d
  C:\Temp\ccfBETwd.s:1564   .bss.fornt_wall_calibrate_tim:00000000 fornt_wall_calibrate_tim
  C:\Temp\ccfBETwd.s:1567   .bss.front_sensor_move_D_prev:00000000 $d
  C:\Temp\ccfBETwd.s:1571   .bss.front_sensor_move_D_prev:00000000 front_sensor_move_D_prev
  C:\Temp\ccfBETwd.s:1574   .bss.front_sensor_move_err_I:00000000 $d
  C:\Temp\ccfBETwd.s:1578   .bss.front_sensor_move_err_I:00000000 front_sensor_move_err_I
  C:\Temp\ccfBETwd.s:1581   .bss.front_sensor_move_err_prev:00000000 $d
  C:\Temp\ccfBETwd.s:1585   .bss.front_sensor_move_err_prev:00000000 front_sensor_move_err_prev
  C:\Temp\ccfBETwd.s:1588   .bss.front_sensor_rotate_D_prev:00000000 $d
  C:\Temp\ccfBETwd.s:1592   .bss.front_sensor_rotate_D_prev:00000000 front_sensor_rotate_D_prev
  C:\Temp\ccfBETwd.s:1595   .bss.front_sensor_rotate_err_I:00000000 $d
  C:\Temp\ccfBETwd.s:1599   .bss.front_sensor_rotate_err_I:00000000 front_sensor_rotate_err_I
  C:\Temp\ccfBETwd.s:1602   .bss.front_sensor_rotate_err_prev:00000000 $d
  C:\Temp\ccfBETwd.s:1606   .bss.front_sensor_rotate_err_prev:00000000 front_sensor_rotate_err_prev
  C:\Temp\ccfBETwd.s:1609   .bss.side_sensor_l_old.7288:00000000 $d
  C:\Temp\ccfBETwd.s:1613   .bss.side_sensor_l_old.7288:00000000 side_sensor_l_old.7288
  C:\Temp\ccfBETwd.s:1616   .bss.side_sensor_l_th:00000000 $d
  C:\Temp\ccfBETwd.s:1620   .bss.side_sensor_l_th:00000000 side_sensor_l_th
  C:\Temp\ccfBETwd.s:1623   .bss.side_sensor_r_old.7287:00000000 $d
  C:\Temp\ccfBETwd.s:1627   .bss.side_sensor_r_old.7287:00000000 side_sensor_r_old.7287
  C:\Temp\ccfBETwd.s:1630   .bss.side_sensor_r_th:00000000 $d
  C:\Temp\ccfBETwd.s:1634   .bss.side_sensor_r_th:00000000 side_sensor_r_th
  C:\Temp\ccfBETwd.s:1637   .bss.target_sensor_sl:00000000 $d
  C:\Temp\ccfBETwd.s:1641   .bss.target_sensor_sl:00000000 target_sensor_sl
  C:\Temp\ccfBETwd.s:1644   .bss.target_sensor_sr:00000000 $d
  C:\Temp\ccfBETwd.s:1648   .bss.target_sensor_sr:00000000 target_sensor_sr
  C:\Temp\ccfBETwd.s:1654   .bss.target_set_flg.7266:00000000 target_set_flg.7266
  C:\Temp\ccfBETwd.s:1655   .bss.target_set_flg.7266:00000000 $d
  C:\Temp\ccfBETwd.s:1657   .bss.target_vol_diff_frontwall:00000000 $d
  C:\Temp\ccfBETwd.s:1661   .bss.target_vol_diff_frontwall:00000000 target_vol_diff_frontwall
  C:\Temp\ccfBETwd.s:1664   .bss.target_vol_diff_sidewall:00000000 $d
  C:\Temp\ccfBETwd.s:1668   .bss.target_vol_diff_sidewall:00000000 target_vol_diff_sidewall
  C:\Temp\ccfBETwd.s:1671   .bss.target_vol_sum_frontwall:00000000 $d
  C:\Temp\ccfBETwd.s:1675   .bss.target_vol_sum_frontwall:00000000 target_vol_sum_frontwall
  C:\Temp\ccfBETwd.s:1681   .data.side_wall_ctrl_mode:00000000 side_wall_ctrl_mode

UNDEFINED SYMBOLS
__aeabi_d2f
Sensor_GetValue
__aeabi_dsub
__aeabi_dmul
__aeabi_dadd
SensorValue2length
__aeabi_f2d
get_move_speed
get_rotation_angle
get_ideal_angle
__aeabi_ddiv
__aeabi_dcmplt
__aeabi_dcmpgt
set_mode_ctrl
get_ideal_length
set_move_length
set_rotation_angle
