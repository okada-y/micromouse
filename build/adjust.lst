ARM GAS  C:\Temp\ccyo3Eiq.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"adjust.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.set_target_side_sensor,"ax",%progbits
  18              		.align	1
  19              		.global	set_target_side_sensor
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv4-sp-d16
  26              	set_target_side_sensor:
  27              	.LFB4:
  28              		.file 1 "Src/adjust.c"
   1:Src/adjust.c  **** 
   2:Src/adjust.c  **** 
   3:Src/adjust.c  **** #include <stdio.h>
   4:Src/adjust.c  **** #include "adjust.h"
   5:Src/adjust.c  **** #include "param.h"
   6:Src/adjust.c  **** #include "exvol.h"
   7:Src/adjust.c  **** #include "mouse_state.h"
   8:Src/adjust.c  **** #include "target.h"
   9:Src/adjust.c  **** #include "ir_sensor.h"
  10:Src/adjust.c  **** 
  11:Src/adjust.c  **** 
  12:Src/adjust.c  **** static double front_sensor_move_err_I = 0;   	//åå·®å’Œã®Ié …
  13:Src/adjust.c  **** static double front_sensor_rotate_err_I = 0;   	//åå·®å·®ã®Ié …
  14:Src/adjust.c  **** static double front_sensor_move_err_prev = 0;   //å‰å›åå·®å’Œ
  15:Src/adjust.c  **** static double front_sensor_rotate_err_prev = 0; //å‰å›åå·®å·®
  16:Src/adjust.c  **** static double front_sensor_move_D_prev = 0; 	//å‰å›åå·®å’Œå¾®åˆ†
  17:Src/adjust.c  **** static double front_sensor_rotate_D_prev = 0;   //å‰å›åå·®å·®å¾®åˆ†
  18:Src/adjust.c  **** 
  19:Src/adjust.c  **** static float target_vol_sum_frontwall = 0;		//å‰å£åˆ¶å¾¡ã«ã‚ˆã‚‹ãƒ¢ãƒ¼ã‚¿å°åŠ é›»åœ§ã®å’Œ[V]
  20:Src/adjust.c  **** static float target_vol_diff_frontwall = 0;		//å‰å£åˆ¶å¾¡ã«ã‚ˆã‚‹ãƒ¢ãƒ¼ã‚¿å°åŠ é›»åœ§ã®å·®[V]
  21:Src/adjust.c  **** 
  22:Src/adjust.c  **** static uint16_t fornt_wall_calibrate_tim = 0;  	//å‰å£è£œæ­£ç”¨ã‚«ã‚¦ãƒ³ã‚¿
  23:Src/adjust.c  **** 
  24:Src/adjust.c  **** static double target_sensor_sl = 0;				//å·¦å£è·é›¢ç›®æ¨™å€¤[m]
  25:Src/adjust.c  **** static double target_sensor_sr = 0;				//å³å£è·é›¢ç›®æ¨™å€¤[m]
  26:Src/adjust.c  **** 
  27:Src/adjust.c  **** static float target_vol_diff_sidewall = 0;			//æ¨ªå£åˆ¶å¾¡ã«ãŠã‘ã‚‹ãƒ¢ãƒ¼ã‚¿å°åŠ é›»åœ§ã®å·®[
  28:Src/adjust.c  **** 
  29:Src/adjust.c  **** static side_wall_ctrl side_wall_ctrl_mode = none;	//æ¨ªå£è£œæ­£ãƒ¢ãƒ¼ãƒ‰ï¼ˆå·¦ã€å³ã€ä¸¡æ–¹ã€ã
  30:Src/adjust.c  **** static int16_t side_sensor_l_th = 0;				//å·¦å£åˆ¶å¾¡ã®é–¾å€¤
ARM GAS  C:\Temp\ccyo3Eiq.s 			page 2


  31:Src/adjust.c  **** static int16_t side_sensor_r_th = 0;				//å³å£åˆ¶å¾¡ã®é–¾å€¤
  32:Src/adjust.c  **** 
  33:Src/adjust.c  **** //æ©Ÿèƒ½	: adjust.cã®1msã‚¿ã‚¹ã‚¯ã¾ã¨ã‚
  34:Src/adjust.c  **** //å¼•æ•°	: ãªã—
  35:Src/adjust.c  **** //è¿”ã‚Šå€¤	: ãªã—
  36:Src/adjust.c  **** void adjust_1ms (void)
  37:Src/adjust.c  **** {
  38:Src/adjust.c  **** 	set_target_side_sensor();		//åˆæœŸä½ç½®ã®ã‚»ãƒ³ã‚µå€¤ã‚’æ¨ªå£åˆ¶å¾¡ç›®æ¨™å€¤ã«ã‚»ãƒƒãƒˆ
  39:Src/adjust.c  **** 	calc_side_wall_ctrl_mode();		//æ¨ªå£è£œæ­£ã®ãƒ¢ãƒ¼ãƒ‰ã‚’æ±ºå®š
  40:Src/adjust.c  **** 	adjust_theta_side_wall();		//æ¨ªå£è£œæ­£ã®ãƒ¢ãƒ¼ãƒ‰ã«å¿œã˜ã€è»Œè·¡åˆ¶å¾¡ã«ãŠã‘ã‚‹è§’åº¦ã‚’
  41:Src/adjust.c  **** 	calc_motor_vol_side_wall();		//æ¨ªå£è£œæ­£ã«ãŠã‘ã‚‹å°åŠ é›»åœ§è¨ˆç®—
  42:Src/adjust.c  **** 	calc_motor_vol_front_wall();	//å‰å£åˆ¶å¾¡ã«ãŠã‘ã‚‹å°åŠ é›»åœ§è¨ˆç®—
  43:Src/adjust.c  **** 	calibrate_tim();				//å‰å£åˆ¶å¾¡ç”¨ã‚¿ã‚¤ãƒ
  44:Src/adjust.c  **** }
  45:Src/adjust.c  **** 
  46:Src/adjust.c  **** //æ©Ÿèƒ½	: å£ãƒˆãƒ¬ãƒ¼ã‚¹ã®ç›®æ¨™è·é›¢ã‚’ã‚»ãƒƒãƒˆã™ã‚‹
  47:Src/adjust.c  **** //å¼•æ•°	: ãªã— 
  48:Src/adjust.c  **** //è¿”ã‚Šå€¤	: ãªã—
  49:Src/adjust.c  **** //å‚™è€ƒ	:åˆæœŸä½ç½®ã®å£è·é›¢ã‚’ç›®æ¨™ä½ç½®ã¨ã™ã‚‹ã€‚
  50:Src/adjust.c  **** void set_target_side_sensor(void)
  51:Src/adjust.c  **** {
  29              		.loc 1 51 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33 0000 08B5     		push	{r3, lr}
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 8
  36              		.cfi_offset 3, -8
  37              		.cfi_offset 14, -4
  52:Src/adjust.c  **** 	static uint8_t target_set_flg = 0;
  38              		.loc 1 52 2 view .LVU1
  53:Src/adjust.c  **** 	if(target_set_flg == 0) 
  39              		.loc 1 53 2 view .LVU2
  40              		.loc 1 53 20 is_stmt 0 view .LVU3
  41 0002 0A4B     		ldr	r3, .L5
  42 0004 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
  43              		.loc 1 53 4 view .LVU4
  44 0006 03B1     		cbz	r3, .L4
  45              	.L1:
  54:Src/adjust.c  **** 	{
  55:Src/adjust.c  **** 		target_sensor_sl = SensorValue2length(1);
  56:Src/adjust.c  **** 		target_sensor_sr = SensorValue2length(2);	
  57:Src/adjust.c  **** 		target_set_flg = 1;
  58:Src/adjust.c  **** 	}
  59:Src/adjust.c  **** }
  46              		.loc 1 59 1 view .LVU5
  47 0008 08BD     		pop	{r3, pc}
  48              	.L4:
  55:Src/adjust.c  **** 		target_sensor_sr = SensorValue2length(2);	
  49              		.loc 1 55 3 is_stmt 1 view .LVU6
  55:Src/adjust.c  **** 		target_sensor_sr = SensorValue2length(2);	
  50              		.loc 1 55 22 is_stmt 0 view .LVU7
  51 000a 0120     		movs	r0, #1
  52 000c FFF7FEFF 		bl	SensorValue2length
  53              	.LVL0:
  55:Src/adjust.c  **** 		target_sensor_sr = SensorValue2length(2);	
ARM GAS  C:\Temp\ccyo3Eiq.s 			page 3


  54              		.loc 1 55 20 view .LVU8
  55 0010 074B     		ldr	r3, .L5+4
  56 0012 83ED000B 		vstr.64	d0, [r3]
  56:Src/adjust.c  **** 		target_set_flg = 1;
  57              		.loc 1 56 3 is_stmt 1 view .LVU9
  56:Src/adjust.c  **** 		target_set_flg = 1;
  58              		.loc 1 56 22 is_stmt 0 view .LVU10
  59 0016 0220     		movs	r0, #2
  60 0018 FFF7FEFF 		bl	SensorValue2length
  61              	.LVL1:
  56:Src/adjust.c  **** 		target_set_flg = 1;
  62              		.loc 1 56 20 view .LVU11
  63 001c 054B     		ldr	r3, .L5+8
  64 001e 83ED000B 		vstr.64	d0, [r3]
  57:Src/adjust.c  **** 	}
  65              		.loc 1 57 3 is_stmt 1 view .LVU12
  57:Src/adjust.c  **** 	}
  66              		.loc 1 57 18 is_stmt 0 view .LVU13
  67 0022 024B     		ldr	r3, .L5
  68 0024 0122     		movs	r2, #1
  69 0026 1A70     		strb	r2, [r3]
  70              		.loc 1 59 1 view .LVU14
  71 0028 EEE7     		b	.L1
  72              	.L6:
  73 002a 00BF     		.align	2
  74              	.L5:
  75 002c 00000000 		.word	.LANCHOR0
  76 0030 00000000 		.word	.LANCHOR1
  77 0034 00000000 		.word	.LANCHOR2
  78              		.cfi_endproc
  79              	.LFE4:
  81              		.global	__aeabi_d2f
  82              		.section	.text.get_target_sensor_sr,"ax",%progbits
  83              		.align	1
  84              		.global	get_target_sensor_sr
  85              		.syntax unified
  86              		.thumb
  87              		.thumb_func
  88              		.fpu fpv4-sp-d16
  90              	get_target_sensor_sr:
  91              	.LFB5:
  60:Src/adjust.c  **** 
  61:Src/adjust.c  **** //æ©Ÿèƒ½	: å£ãƒˆãƒ¬ãƒ¼ã‚¹ã®å³å£ç›®æ¨™è·é›¢ã‚’å–å¾—ã™ã‚‹
  62:Src/adjust.c  **** //å¼•æ•°	: ãªã—
  63:Src/adjust.c  **** //è¿”ã‚Šå€¤	: å³å£è·é›¢ç›®æ¨™å€¤
  64:Src/adjust.c  **** float get_target_sensor_sr ( void )
  65:Src/adjust.c  **** {
  92              		.loc 1 65 1 is_stmt 1 view -0
  93              		.cfi_startproc
  94              		@ args = 0, pretend = 0, frame = 0
  95              		@ frame_needed = 0, uses_anonymous_args = 0
  96 0000 08B5     		push	{r3, lr}
  97              	.LCFI1:
  98              		.cfi_def_cfa_offset 8
  99              		.cfi_offset 3, -8
 100              		.cfi_offset 14, -4
  66:Src/adjust.c  **** 	return (float)target_sensor_sr;
ARM GAS  C:\Temp\ccyo3Eiq.s 			page 4


 101              		.loc 1 66 2 view .LVU16
 102              		.loc 1 66 9 is_stmt 0 view .LVU17
 103 0002 044B     		ldr	r3, .L9
 104 0004 D3E90001 		ldrd	r0, [r3]
 105 0008 FFF7FEFF 		bl	__aeabi_d2f
 106              	.LVL2:
  67:Src/adjust.c  **** }
 107              		.loc 1 67 1 view .LVU18
 108 000c 00EE100A 		vmov	s0, r0
 109 0010 08BD     		pop	{r3, pc}
 110              	.L10:
 111 0012 00BF     		.align	2
 112              	.L9:
 113 0014 00000000 		.word	.LANCHOR2
 114              		.cfi_endproc
 115              	.LFE5:
 117              		.section	.text.get_target_sensor_sl,"ax",%progbits
 118              		.align	1
 119              		.global	get_target_sensor_sl
 120              		.syntax unified
 121              		.thumb
 122              		.thumb_func
 123              		.fpu fpv4-sp-d16
 125              	get_target_sensor_sl:
 126              	.LFB6:
  68:Src/adjust.c  **** 
  69:Src/adjust.c  **** //æ©Ÿèƒ½	: å£ãƒˆãƒ¬ãƒ¼ã‚¹ã®å·¦å£ç›®æ¨™è·é›¢ã‚’å–å¾—ã™ã‚‹
  70:Src/adjust.c  **** //å¼•æ•°	: ãªã—
  71:Src/adjust.c  **** //è¿”ã‚Šå€¤	: å·¦å£è·é›¢ç›®æ¨™å€¤
  72:Src/adjust.c  **** float get_target_sensor_sl ( void )
  73:Src/adjust.c  **** {
 127              		.loc 1 73 1 is_stmt 1 view -0
 128              		.cfi_startproc
 129              		@ args = 0, pretend = 0, frame = 0
 130              		@ frame_needed = 0, uses_anonymous_args = 0
 131 0000 08B5     		push	{r3, lr}
 132              	.LCFI2:
 133              		.cfi_def_cfa_offset 8
 134              		.cfi_offset 3, -8
 135              		.cfi_offset 14, -4
  74:Src/adjust.c  **** 	return (float)target_sensor_sl;
 136              		.loc 1 74 2 view .LVU20
 137              		.loc 1 74 9 is_stmt 0 view .LVU21
 138 0002 044B     		ldr	r3, .L13
 139 0004 D3E90001 		ldrd	r0, [r3]
 140 0008 FFF7FEFF 		bl	__aeabi_d2f
 141              	.LVL3:
  75:Src/adjust.c  **** }
 142              		.loc 1 75 1 view .LVU22
 143 000c 00EE100A 		vmov	s0, r0
 144 0010 08BD     		pop	{r3, pc}
 145              	.L14:
 146 0012 00BF     		.align	2
 147              	.L13:
 148 0014 00000000 		.word	.LANCHOR1
 149              		.cfi_endproc
 150              	.LFE6:
ARM GAS  C:\Temp\ccyo3Eiq.s 			page 5


 152              		.section	.text.get_side_sensor_l_th,"ax",%progbits
 153              		.align	1
 154              		.global	get_side_sensor_l_th
 155              		.syntax unified
 156              		.thumb
 157              		.thumb_func
 158              		.fpu fpv4-sp-d16
 160              	get_side_sensor_l_th:
 161              	.LFB7:
  76:Src/adjust.c  **** 
  77:Src/adjust.c  **** //æ©Ÿèƒ½	: å£ãƒˆãƒ¬ãƒ¼ã‚¹ã®å·¦å£ãƒ¢ãƒ¼ãƒ‰é–¾å€¤ã‚’å–å¾—ã™ã‚‹
  78:Src/adjust.c  **** //å¼•æ•°	: ãªã—
  79:Src/adjust.c  **** //è¿”ã‚Šå€¤	: å·¦å£ãƒ¢ãƒ¼ãƒ‰é–¾å€¤
  80:Src/adjust.c  **** uint16_t get_side_sensor_l_th ( void )
  81:Src/adjust.c  **** {
 162              		.loc 1 81 1 is_stmt 1 view -0
 163              		.cfi_startproc
 164              		@ args = 0, pretend = 0, frame = 0
 165              		@ frame_needed = 0, uses_anonymous_args = 0
 166              		@ link register save eliminated.
  82:Src/adjust.c  **** 	return side_sensor_l_th;
 167              		.loc 1 82 2 view .LVU24
  83:Src/adjust.c  **** }
 168              		.loc 1 83 1 is_stmt 0 view .LVU25
 169 0000 014B     		ldr	r3, .L16
 170 0002 1888     		ldrh	r0, [r3]
 171 0004 7047     		bx	lr
 172              	.L17:
 173 0006 00BF     		.align	2
 174              	.L16:
 175 0008 00000000 		.word	.LANCHOR3
 176              		.cfi_endproc
 177              	.LFE7:
 179              		.section	.text.get_side_sensor_r_th,"ax",%progbits
 180              		.align	1
 181              		.global	get_side_sensor_r_th
 182              		.syntax unified
 183              		.thumb
 184              		.thumb_func
 185              		.fpu fpv4-sp-d16
 187              	get_side_sensor_r_th:
 188              	.LFB8:
  84:Src/adjust.c  **** 
  85:Src/adjust.c  **** 
  86:Src/adjust.c  **** //æ©Ÿèƒ½	: å£ãƒˆãƒ¬ãƒ¼ã‚¹ã®å³å£ãƒ¢ãƒ¼ãƒ‰é–¾å€¤ã‚’å–å¾—ã™ã‚‹
  87:Src/adjust.c  **** //å¼•æ•°	: ãªã—
  88:Src/adjust.c  **** //è¿”ã‚Šå€¤	: å³å£ãƒ¢ãƒ¼ãƒ‰é–¾å€¤
  89:Src/adjust.c  **** uint16_t get_side_sensor_r_th ( void )
  90:Src/adjust.c  **** {
 189              		.loc 1 90 1 is_stmt 1 view -0
 190              		.cfi_startproc
 191              		@ args = 0, pretend = 0, frame = 0
 192              		@ frame_needed = 0, uses_anonymous_args = 0
 193              		@ link register save eliminated.
  91:Src/adjust.c  **** 	return side_sensor_r_th;
 194              		.loc 1 91 2 view .LVU27
  92:Src/adjust.c  **** }
ARM GAS  C:\Temp\ccyo3Eiq.s 			page 6


 195              		.loc 1 92 1 is_stmt 0 view .LVU28
 196 0000 014B     		ldr	r3, .L19
 197 0002 1888     		ldrh	r0, [r3]
 198 0004 7047     		bx	lr
 199              	.L20:
 200 0006 00BF     		.align	2
 201              	.L19:
 202 0008 00000000 		.word	.LANCHOR4
 203              		.cfi_endproc
 204              	.LFE8:
 206              		.section	.text.get_side_wall_ctrl_mode,"ax",%progbits
 207              		.align	1
 208              		.global	get_side_wall_ctrl_mode
 209              		.syntax unified
 210              		.thumb
 211              		.thumb_func
 212              		.fpu fpv4-sp-d16
 214              	get_side_wall_ctrl_mode:
 215              	.LFB9:
  93:Src/adjust.c  **** 
  94:Src/adjust.c  **** //æ©Ÿèƒ½	: æ¨ªå£åˆ¶å¾¡ã«ãŠã‘ã‚‹ãƒ¢ãƒ¼ãƒ‰ã‚’å–å¾—ã™ã‚‹
  95:Src/adjust.c  **** //å¼•æ•°	: ãªã—
  96:Src/adjust.c  **** //è¿”ã‚Šå€¤	: æ¨ªå£åˆ¶å¾¡ãƒ¢ãƒ¼ãƒ‰
  97:Src/adjust.c  **** uint8_t get_side_wall_ctrl_mode ( void )
  98:Src/adjust.c  **** {
 216              		.loc 1 98 1 is_stmt 1 view -0
 217              		.cfi_startproc
 218              		@ args = 0, pretend = 0, frame = 0
 219              		@ frame_needed = 0, uses_anonymous_args = 0
 220              		@ link register save eliminated.
  99:Src/adjust.c  **** 	return side_wall_ctrl_mode;
 221              		.loc 1 99 2 view .LVU30
 100:Src/adjust.c  **** }
 222              		.loc 1 100 1 is_stmt 0 view .LVU31
 223 0000 014B     		ldr	r3, .L22
 224 0002 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 225 0004 7047     		bx	lr
 226              	.L23:
 227 0006 00BF     		.align	2
 228              	.L22:
 229 0008 00000000 		.word	.LANCHOR5
 230              		.cfi_endproc
 231              	.LFE9:
 233              		.section	.text.calc_side_wall_ctrl_mode,"ax",%progbits
 234              		.align	1
 235              		.global	calc_side_wall_ctrl_mode
 236              		.syntax unified
 237              		.thumb
 238              		.thumb_func
 239              		.fpu fpv4-sp-d16
 241              	calc_side_wall_ctrl_mode:
 242              	.LFB10:
 101:Src/adjust.c  **** 
 102:Src/adjust.c  **** //æ©Ÿèƒ½	: æ¨ªå£åˆ¶å¾¡ã«ãŠã‘ã‚‹ãƒ¢ãƒ¼ãƒ‰ã‚’æ±ºå®šã™ã‚‹ï¼ˆå³ã€å·¦ã€ä¸¡å£ã€ãªã—ï¼‰
 103:Src/adjust.c  **** //å¼•æ•°	: ãªã—
 104:Src/adjust.c  **** //è¿”ã‚Šå€¤	: ãªã—
 105:Src/adjust.c  **** //å‚™è€ƒ 	:1msã‚¿ã‚¹ã‚¯
ARM GAS  C:\Temp\ccyo3Eiq.s 			page 7


 106:Src/adjust.c  **** void calc_side_wall_ctrl_mode ( void )
 107:Src/adjust.c  **** {
 243              		.loc 1 107 1 is_stmt 1 view -0
 244              		.cfi_startproc
 245              		@ args = 0, pretend = 0, frame = 0
 246              		@ frame_needed = 0, uses_anonymous_args = 0
 247 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 248              	.LCFI3:
 249              		.cfi_def_cfa_offset 24
 250              		.cfi_offset 3, -24
 251              		.cfi_offset 4, -20
 252              		.cfi_offset 5, -16
 253              		.cfi_offset 6, -12
 254              		.cfi_offset 7, -8
 255              		.cfi_offset 14, -4
 108:Src/adjust.c  **** 	int16_t side_sensor_r = 0; 				//å³å‰ã‚»ãƒ³ã‚µå€¤
 256              		.loc 1 108 2 view .LVU33
 257              	.LVL4:
 109:Src/adjust.c  ****     int16_t side_sensor_l = 0; 				//å·¦å‰ã‚»ãƒ³ã‚µå€¤
 258              		.loc 1 109 5 view .LVU34
 110:Src/adjust.c  **** 	static int16_t side_sensor_r_old = 0;	//å‰å›å³å‰ã‚»ãƒ³ã‚µå€¤
 259              		.loc 1 110 2 view .LVU35
 111:Src/adjust.c  ****     static int16_t side_sensor_l_old = 0; 	//å‰å›å·¦å‰ã‚»ãƒ³ã‚µå€¤
 260              		.loc 1 111 5 view .LVU36
 112:Src/adjust.c  **** 	int16_t side_sensor_r_diff = 0;			//å³å‰ã‚»ãƒ³ã‚µå€¤å¤‰åŒ–é‡
 261              		.loc 1 112 2 view .LVU37
 113:Src/adjust.c  ****     int16_t side_sensor_l_diff = 0; 		//å·¦å‰ã‚»ãƒ³ã‚µå€¤å¤‰åŒ–é‡
 262              		.loc 1 113 5 view .LVU38
 114:Src/adjust.c  **** 	int16_t side_sensor_r_diff_sum = 0;		//å³å‰ã‚»ãƒ³ã‚µå€¤å¤‰åŒ–é‡åˆè¨ˆ
 263              		.loc 1 114 2 view .LVU39
 115:Src/adjust.c  ****     int16_t side_sensor_l_diff_sum = 0; 	//å·¦å‰ã‚»ãƒ³ã‚µå€¤å¤‰åŒ–é‡åˆè¨ˆ
 264              		.loc 1 115 5 view .LVU40
 116:Src/adjust.c  **** 	float side_sensor_r_diff_ave = 0;		//å³å‰ã‚»ãƒ³ã‚µå€¤å¹³å‡
 265              		.loc 1 116 2 view .LVU41
 117:Src/adjust.c  ****     float side_sensor_l_diff_ave = 0; 		//å·¦å‰ã‚»ãƒ³ã‚µå€¤å¹³å‡
 266              		.loc 1 117 5 view .LVU42
 118:Src/adjust.c  **** 
 119:Src/adjust.c  **** 
 120:Src/adjust.c  ****     typedef struct {
 267              		.loc 1 120 5 view .LVU43
 121:Src/adjust.c  **** 	int16_t	right;			
 122:Src/adjust.c  **** 	int16_t left;			
 123:Src/adjust.c  ****     } ave_temp;
 124:Src/adjust.c  **** 
 125:Src/adjust.c  **** 	static ave_temp ave_store[ir_diff_ave_num];  // ãƒ‡ãƒ¼ã‚¿æ ¼ç´ç”¨ã®æ§‹é€ ä½“
 268              		.loc 1 125 2 view .LVU44
 126:Src/adjust.c  **** 	static uint16_t ave_counter = 0;
 269              		.loc 1 126 2 view .LVU45
 127:Src/adjust.c  **** 	uint16_t i = 0;
 270              		.loc 1 127 2 view .LVU46
 128:Src/adjust.c  **** 	uint16_t j = 0;
 271              		.loc 1 128 2 view .LVU47
 129:Src/adjust.c  **** 
 130:Src/adjust.c  **** 	//ã‚»ãƒ³ã‚µå€¤å–å¾—
 131:Src/adjust.c  **** 	side_sensor_l = Sensor_GetValue(1);
 272              		.loc 1 131 2 view .LVU48
 273              		.loc 1 131 18 is_stmt 0 view .LVU49
ARM GAS  C:\Temp\ccyo3Eiq.s 			page 8


 274 0002 0120     		movs	r0, #1
 275 0004 FFF7FEFF 		bl	Sensor_GetValue
 276              	.LVL5:
 277 0008 0546     		mov	r5, r0
 278              	.LVL6:
 132:Src/adjust.c  **** 	side_sensor_r = Sensor_GetValue(2);
 279              		.loc 1 132 2 is_stmt 1 view .LVU50
 280              		.loc 1 132 18 is_stmt 0 view .LVU51
 281 000a 0220     		movs	r0, #2
 282 000c FFF7FEFF 		bl	Sensor_GetValue
 283              	.LVL7:
 133:Src/adjust.c  **** 
 134:Src/adjust.c  **** 	//ã‚»ãƒ³ã‚µå¤‰åŒ–é‡å–å¾—
 135:Src/adjust.c  **** 	side_sensor_l_diff = ABS(side_sensor_l - side_sensor_l_old);
 284              		.loc 1 135 2 is_stmt 1 view .LVU52
 285              		.loc 1 135 23 is_stmt 0 view .LVU53
 286 0010 424B     		ldr	r3, .L43
 287 0012 B3F90020 		ldrsh	r2, [r3]
 288 0016 AA1A     		subs	r2, r5, r2
 289 0018 002A     		cmp	r2, #0
 290 001a B8BF     		it	lt
 291 001c 5242     		rsblt	r2, r2, #0
 292              	.LVL8:
 136:Src/adjust.c  **** 	side_sensor_r_diff = ABS(side_sensor_r - side_sensor_r_old);
 293              		.loc 1 136 2 is_stmt 1 view .LVU54
 294              		.loc 1 136 23 is_stmt 0 view .LVU55
 295 001e 404B     		ldr	r3, .L43+4
 296 0020 B3F90010 		ldrsh	r1, [r3]
 297 0024 411A     		subs	r1, r0, r1
 298 0026 0029     		cmp	r1, #0
 299 0028 B8BF     		it	lt
 300 002a 4942     		rsblt	r1, r1, #0
 301              	.LVL9:
 137:Src/adjust.c  **** 
 138:Src/adjust.c  **** 	i = ave_counter % ir_diff_ave_num;
 302              		.loc 1 138 2 is_stmt 1 view .LVU56
 303              		.loc 1 138 4 is_stmt 0 view .LVU57
 304 002c 3D4B     		ldr	r3, .L43+8
 305 002e 1F88     		ldrh	r7, [r3]
 306 0030 3D4B     		ldr	r3, .L43+12
 307 0032 A3FB0743 		umull	r4, r3, r3, r7
 308 0036 DB08     		lsrs	r3, r3, #3
 309 0038 03EB8303 		add	r3, r3, r3, lsl #2
 310 003c A7EB4303 		sub	r3, r7, r3, lsl #1
 311 0040 9BB2     		uxth	r3, r3
 312              	.LVL10:
 139:Src/adjust.c  **** 	ave_store[i].right = side_sensor_r_diff;
 313              		.loc 1 139 2 is_stmt 1 view .LVU58
 314              		.loc 1 139 21 is_stmt 0 view .LVU59
 315 0042 3A4C     		ldr	r4, .L43+16
 316 0044 24F82310 		strh	r1, [r4, r3, lsl #2]	@ movhi
 140:Src/adjust.c  **** 	ave_store[i].left = side_sensor_l_diff;
 317              		.loc 1 140 2 is_stmt 1 view .LVU60
 318              		.loc 1 140 20 is_stmt 0 view .LVU61
 319 0048 04EB8303 		add	r3, r4, r3, lsl #2
 320              	.LVL11:
 321              		.loc 1 140 20 view .LVU62
ARM GAS  C:\Temp\ccyo3Eiq.s 			page 9


 322 004c 5A80     		strh	r2, [r3, #2]	@ movhi
 141:Src/adjust.c  **** 
 142:Src/adjust.c  **** 	//ç§»å‹•å¹³å‡å‡¦ç†
 143:Src/adjust.c  **** 	for(j=0; j < ir_diff_ave_num; j++)
 323              		.loc 1 143 2 is_stmt 1 view .LVU63
 324              		.loc 1 143 7 is_stmt 0 view .LVU64
 325 004e 0023     		movs	r3, #0
 115:Src/adjust.c  **** 	float side_sensor_r_diff_ave = 0;		//å³å‰ã‚»ãƒ³ã‚µå€¤å¹³å‡
 326              		.loc 1 115 13 view .LVU65
 327 0050 1946     		mov	r1, r3
 328              	.LVL12:
 114:Src/adjust.c  ****     int16_t side_sensor_l_diff_sum = 0; 	//å·¦å‰ã‚»ãƒ³ã‚µå€¤å¤‰åŒ–é‡åˆè¨ˆ
 329              		.loc 1 114 10 view .LVU66
 330 0052 1C46     		mov	r4, r3
 331              	.LVL13:
 332              	.L25:
 333              		.loc 1 143 11 is_stmt 1 discriminator 1 view .LVU67
 334              		.loc 1 143 2 is_stmt 0 discriminator 1 view .LVU68
 335 0054 092B     		cmp	r3, #9
 336 0056 0CD8     		bhi	.L42
 144:Src/adjust.c  **** 	{
 145:Src/adjust.c  **** 		side_sensor_r_diff_sum += ave_store[j].right;
 337              		.loc 1 145 3 is_stmt 1 discriminator 3 view .LVU69
 338              		.loc 1 145 41 is_stmt 0 discriminator 3 view .LVU70
 339 0058 344A     		ldr	r2, .L43+16
 340              	.LVL14:
 341              		.loc 1 145 41 discriminator 3 view .LVU71
 342 005a 32F82360 		ldrh	r6, [r2, r3, lsl #2]
 343              		.loc 1 145 26 discriminator 3 view .LVU72
 344 005e 3444     		add	r4, r4, r6
 345              	.LVL15:
 346              		.loc 1 145 26 discriminator 3 view .LVU73
 347 0060 24B2     		sxth	r4, r4
 348              	.LVL16:
 146:Src/adjust.c  **** 		side_sensor_l_diff_sum += ave_store[j].left;
 349              		.loc 1 146 3 is_stmt 1 discriminator 3 view .LVU74
 350              		.loc 1 146 41 is_stmt 0 discriminator 3 view .LVU75
 351 0062 02EB8302 		add	r2, r2, r3, lsl #2
 352              	.LVL17:
 353              		.loc 1 146 41 discriminator 3 view .LVU76
 354 0066 5288     		ldrh	r2, [r2, #2]
 355              		.loc 1 146 26 discriminator 3 view .LVU77
 356 0068 1144     		add	r1, r1, r2
 357              	.LVL18:
 358              		.loc 1 146 26 discriminator 3 view .LVU78
 359 006a 09B2     		sxth	r1, r1
 360              	.LVL19:
 143:Src/adjust.c  **** 	{
 361              		.loc 1 143 32 is_stmt 1 discriminator 3 view .LVU79
 143:Src/adjust.c  **** 	{
 362              		.loc 1 143 33 is_stmt 0 discriminator 3 view .LVU80
 363 006c 0133     		adds	r3, r3, #1
 364              	.LVL20:
 143:Src/adjust.c  **** 	{
 365              		.loc 1 143 33 discriminator 3 view .LVU81
 366 006e 9BB2     		uxth	r3, r3
 367              	.LVL21:
ARM GAS  C:\Temp\ccyo3Eiq.s 			page 10


 143:Src/adjust.c  **** 	{
 368              		.loc 1 143 33 discriminator 3 view .LVU82
 369 0070 F0E7     		b	.L25
 370              	.L42:
 147:Src/adjust.c  **** 	}
 148:Src/adjust.c  **** 
 149:Src/adjust.c  **** 	side_sensor_r_diff_ave = (float)side_sensor_r_diff_sum / ir_diff_ave_num;
 371              		.loc 1 149 2 is_stmt 1 view .LVU83
 372              		.loc 1 149 27 is_stmt 0 view .LVU84
 373 0072 07EE904A 		vmov	s15, r4	@ int
 374 0076 F8EEE77A 		vcvt.f32.s32	s15, s15
 375              		.loc 1 149 25 view .LVU85
 376 007a B2EE047A 		vmov.f32	s14, #1.0e+1
 377 007e C7EE876A 		vdiv.f32	s13, s15, s14
 378              	.LVL22:
 150:Src/adjust.c  **** 	side_sensor_l_diff_ave = (float)side_sensor_l_diff_sum / ir_diff_ave_num;
 379              		.loc 1 150 2 is_stmt 1 view .LVU86
 380              		.loc 1 150 27 is_stmt 0 view .LVU87
 381 0082 07EE901A 		vmov	s15, r1	@ int
 382 0086 F8EEE77A 		vcvt.f32.s32	s15, s15
 383              		.loc 1 150 25 view .LVU88
 384 008a 87EE876A 		vdiv.f32	s12, s15, s14
 385              	.LVL23:
 151:Src/adjust.c  **** 	
 152:Src/adjust.c  **** 	ave_counter += 1 ;
 386              		.loc 1 152 2 is_stmt 1 view .LVU89
 387              		.loc 1 152 14 is_stmt 0 view .LVU90
 388 008e 0137     		adds	r7, r7, #1
 389              	.LVL24:
 390              		.loc 1 152 14 view .LVU91
 391 0090 244B     		ldr	r3, .L43+8
 392              	.LVL25:
 393              		.loc 1 152 14 view .LVU92
 394 0092 1F80     		strh	r7, [r3]	@ movhi
 153:Src/adjust.c  **** 
 154:Src/adjust.c  **** 
 155:Src/adjust.c  **** 	//å¤‰åŒ–é‡ã«å¿œã˜ã¦ã€å£åˆ¶å¾¡ã®é–¾å€¤ã‚’å¤‰åŒ–
 156:Src/adjust.c  **** 	if(side_sensor_l_diff_ave > side_sensor_diff_th){
 395              		.loc 1 156 2 is_stmt 1 view .LVU93
 396              		.loc 1 156 4 is_stmt 0 view .LVU94
 397 0094 F0EE087A 		vmov.f32	s15, #3.0e+0
 398 0098 B4EEE76A 		vcmpe.f32	s12, s15
 399 009c F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 400 00a0 1CDD     		ble	.L39
 157:Src/adjust.c  **** 		side_sensor_l_th = side_sensor_th + side_sensor_th_add;
 401              		.loc 1 157 3 is_stmt 1 view .LVU95
 402              		.loc 1 157 20 is_stmt 0 view .LVU96
 403 00a2 234B     		ldr	r3, .L43+20
 404 00a4 4FF4C872 		mov	r2, #400
 405 00a8 1A80     		strh	r2, [r3]	@ movhi
 406              	.L29:
 158:Src/adjust.c  **** 	}else{
 159:Src/adjust.c  **** 		side_sensor_l_th = side_sensor_th;
 160:Src/adjust.c  **** 	}
 161:Src/adjust.c  **** 
 162:Src/adjust.c  **** 	if(side_sensor_r_diff_ave > side_sensor_diff_th){
 407              		.loc 1 162 2 is_stmt 1 view .LVU97
ARM GAS  C:\Temp\ccyo3Eiq.s 			page 11


 408              		.loc 1 162 4 is_stmt 0 view .LVU98
 409 00aa F0EE087A 		vmov.f32	s15, #3.0e+0
 410 00ae F4EEE76A 		vcmpe.f32	s13, s15
 411 00b2 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 412 00b6 15DD     		ble	.L40
 163:Src/adjust.c  **** 		side_sensor_r_th = side_sensor_th + side_sensor_th_add;
 413              		.loc 1 163 3 is_stmt 1 view .LVU99
 414              		.loc 1 163 20 is_stmt 0 view .LVU100
 415 00b8 1E4B     		ldr	r3, .L43+24
 416 00ba 4FF4C872 		mov	r2, #400
 417 00be 1A80     		strh	r2, [r3]	@ movhi
 418              	.L32:
 164:Src/adjust.c  **** 	}else{
 165:Src/adjust.c  **** 		side_sensor_r_th = side_sensor_th;
 166:Src/adjust.c  **** 	}
 167:Src/adjust.c  **** 
 168:Src/adjust.c  **** 	//é–¾å€¤ã«å¿œã˜ã¦ã€æ¨ªå£åˆ¶å¾¡ãƒ¢ãƒ¼ãƒ‰ã‚’è¨­å®š
 169:Src/adjust.c  **** 	if( (side_sensor_l_th < side_sensor_l) && (side_sensor_r_th < side_sensor_r))
 419              		.loc 1 169 2 is_stmt 1 view .LVU101
 420              		.loc 1 169 24 is_stmt 0 view .LVU102
 421 00c0 1B4B     		ldr	r3, .L43+20
 422 00c2 B3F90030 		ldrsh	r3, [r3]
 423              		.loc 1 169 4 view .LVU103
 424 00c6 AB42     		cmp	r3, r5
 425 00c8 10DA     		bge	.L33
 426              		.loc 1 169 62 discriminator 1 view .LVU104
 427 00ca 1A4A     		ldr	r2, .L43+24
 428 00cc B2F90020 		ldrsh	r2, [r2]
 429              		.loc 1 169 41 discriminator 1 view .LVU105
 430 00d0 8242     		cmp	r2, r0
 431 00d2 0BDA     		bge	.L33
 170:Src/adjust.c  **** 	{
 171:Src/adjust.c  **** 		side_wall_ctrl_mode = both_side;
 432              		.loc 1 171 3 is_stmt 1 view .LVU106
 433              		.loc 1 171 23 is_stmt 0 view .LVU107
 434 00d4 184B     		ldr	r3, .L43+28
 435 00d6 0222     		movs	r2, #2
 436 00d8 1A70     		strb	r2, [r3]
 437 00da 0CE0     		b	.L34
 438              	.L39:
 159:Src/adjust.c  **** 	}
 439              		.loc 1 159 3 is_stmt 1 view .LVU108
 159:Src/adjust.c  **** 	}
 440              		.loc 1 159 20 is_stmt 0 view .LVU109
 441 00dc 144B     		ldr	r3, .L43+20
 442 00de 6422     		movs	r2, #100
 443 00e0 1A80     		strh	r2, [r3]	@ movhi
 444 00e2 E2E7     		b	.L29
 445              	.L40:
 165:Src/adjust.c  **** 	}
 446              		.loc 1 165 3 is_stmt 1 view .LVU110
 165:Src/adjust.c  **** 	}
 447              		.loc 1 165 20 is_stmt 0 view .LVU111
 448 00e4 134B     		ldr	r3, .L43+24
 449 00e6 6422     		movs	r2, #100
 450 00e8 1A80     		strh	r2, [r3]	@ movhi
 451 00ea E9E7     		b	.L32
ARM GAS  C:\Temp\ccyo3Eiq.s 			page 12


 452              	.L33:
 172:Src/adjust.c  **** 	}
 173:Src/adjust.c  **** 	else if((side_sensor_l_th < side_sensor_l))
 453              		.loc 1 173 7 is_stmt 1 view .LVU112
 454              		.loc 1 173 9 is_stmt 0 view .LVU113
 455 00ec AB42     		cmp	r3, r5
 456 00ee 07DA     		bge	.L35
 174:Src/adjust.c  **** 	{
 175:Src/adjust.c  **** 		side_wall_ctrl_mode = left;
 457              		.loc 1 175 3 is_stmt 1 view .LVU114
 458              		.loc 1 175 23 is_stmt 0 view .LVU115
 459 00f0 114B     		ldr	r3, .L43+28
 460 00f2 0122     		movs	r2, #1
 461 00f4 1A70     		strb	r2, [r3]
 462              	.L34:
 176:Src/adjust.c  **** 	}
 177:Src/adjust.c  **** 	else if((side_sensor_r_th < side_sensor_r))
 178:Src/adjust.c  **** 	{
 179:Src/adjust.c  **** 		side_wall_ctrl_mode = right;
 180:Src/adjust.c  **** 	}
 181:Src/adjust.c  **** 	else{
 182:Src/adjust.c  **** 		side_wall_ctrl_mode = none;
 183:Src/adjust.c  **** 	}
 184:Src/adjust.c  **** 
 185:Src/adjust.c  **** 	//ã‚»ãƒ³ã‚µå€¤æ›´æ–°
 186:Src/adjust.c  **** 	side_sensor_l_old = side_sensor_l;
 463              		.loc 1 186 2 is_stmt 1 view .LVU116
 464              		.loc 1 186 20 is_stmt 0 view .LVU117
 465 00f6 094B     		ldr	r3, .L43
 466 00f8 1D80     		strh	r5, [r3]	@ movhi
 187:Src/adjust.c  **** 	side_sensor_r_old = side_sensor_r;
 467              		.loc 1 187 2 is_stmt 1 view .LVU118
 468              		.loc 1 187 20 is_stmt 0 view .LVU119
 469 00fa 094B     		ldr	r3, .L43+4
 470 00fc 1880     		strh	r0, [r3]	@ movhi
 188:Src/adjust.c  **** 
 189:Src/adjust.c  **** }
 471              		.loc 1 189 1 view .LVU120
 472 00fe F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 473              	.LVL26:
 474              	.L35:
 177:Src/adjust.c  **** 	{
 475              		.loc 1 177 7 is_stmt 1 view .LVU121
 177:Src/adjust.c  **** 	{
 476              		.loc 1 177 28 is_stmt 0 view .LVU122
 477 0100 0C4B     		ldr	r3, .L43+24
 478 0102 B3F90030 		ldrsh	r3, [r3]
 177:Src/adjust.c  **** 	{
 479              		.loc 1 177 9 view .LVU123
 480 0106 8342     		cmp	r3, r0
 481 0108 03DA     		bge	.L36
 179:Src/adjust.c  **** 	}
 482              		.loc 1 179 3 is_stmt 1 view .LVU124
 179:Src/adjust.c  **** 	}
 483              		.loc 1 179 23 is_stmt 0 view .LVU125
 484 010a 0B4B     		ldr	r3, .L43+28
 485 010c 0022     		movs	r2, #0
ARM GAS  C:\Temp\ccyo3Eiq.s 			page 13


 486 010e 1A70     		strb	r2, [r3]
 487 0110 F1E7     		b	.L34
 488              	.L36:
 182:Src/adjust.c  **** 	}
 489              		.loc 1 182 3 is_stmt 1 view .LVU126
 182:Src/adjust.c  **** 	}
 490              		.loc 1 182 23 is_stmt 0 view .LVU127
 491 0112 094B     		ldr	r3, .L43+28
 492 0114 0322     		movs	r2, #3
 493 0116 1A70     		strb	r2, [r3]
 494 0118 EDE7     		b	.L34
 495              	.L44:
 496 011a 00BF     		.align	2
 497              	.L43:
 498 011c 00000000 		.word	.LANCHOR6
 499 0120 00000000 		.word	.LANCHOR7
 500 0124 00000000 		.word	.LANCHOR8
 501 0128 CDCCCCCC 		.word	-858993459
 502 012c 00000000 		.word	.LANCHOR9
 503 0130 00000000 		.word	.LANCHOR3
 504 0134 00000000 		.word	.LANCHOR4
 505 0138 00000000 		.word	.LANCHOR5
 506              		.cfi_endproc
 507              	.LFE10:
 509              		.global	__aeabi_dsub
 510              		.global	__aeabi_dmul
 511              		.global	__aeabi_dadd
 512              		.section	.text.get_side_wall_err,"ax",%progbits
 513              		.align	1
 514              		.global	get_side_wall_err
 515              		.syntax unified
 516              		.thumb
 517              		.thumb_func
 518              		.fpu fpv4-sp-d16
 520              	get_side_wall_err:
 521              	.LFB11:
 190:Src/adjust.c  **** 
 191:Src/adjust.c  **** //æ©Ÿèƒ½	: å„æ¨ªå£åˆ¶å¾¡ãƒ¢ãƒ¼ãƒ‰ã«ãŠã‘ã‚‹åå·®ã‚’ç®—å‡ºã€å–å¾—ã™ã‚‹
 192:Src/adjust.c  **** //å¼•æ•°	: ãªã—
 193:Src/adjust.c  **** //è¿”ã‚Šå€¤	: ä¸­å¿ƒä½ç½®ã‹ã‚‰ã®åå·®
 194:Src/adjust.c  **** //å‚™è€ƒ 	:1msã‚¿ã‚¹ã‚¯
 195:Src/adjust.c  **** double get_side_wall_err(void)
 196:Src/adjust.c  **** {
 522              		.loc 1 196 1 is_stmt 1 view -0
 523              		.cfi_startproc
 524              		@ args = 0, pretend = 0, frame = 0
 525              		@ frame_needed = 0, uses_anonymous_args = 0
 526 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 527              	.LCFI4:
 528              		.cfi_def_cfa_offset 24
 529              		.cfi_offset 3, -24
 530              		.cfi_offset 4, -20
 531              		.cfi_offset 5, -16
 532              		.cfi_offset 6, -12
 533              		.cfi_offset 7, -8
 534              		.cfi_offset 14, -4
 197:Src/adjust.c  **** 	double side_wall_err_tmp = 0;
ARM GAS  C:\Temp\ccyo3Eiq.s 			page 14


 535              		.loc 1 197 2 view .LVU129
 536              	.LVL27:
 198:Src/adjust.c  **** 	
 199:Src/adjust.c  **** 	switch(side_wall_ctrl_mode){
 537              		.loc 1 199 2 view .LVU130
 538 0002 2D4B     		ldr	r3, .L51+8
 539 0004 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 540 0006 012B     		cmp	r3, #1
 541 0008 05D0     		beq	.L46
 542 000a 022B     		cmp	r3, #2
 543 000c 2AD0     		beq	.L47
 544 000e B3B1     		cbz	r3, .L48
 545 0010 9FED270B 		vldr.64	d0, .L51
 546              	.LVL28:
 547              	.L45:
 200:Src/adjust.c  **** 		case left:
 201:Src/adjust.c  **** 			side_wall_err_tmp = -2 * (target_sensor_sl - SensorValue2length(1));
 202:Src/adjust.c  **** 			break;
 203:Src/adjust.c  **** 		
 204:Src/adjust.c  **** 		case right:
 205:Src/adjust.c  **** 			side_wall_err_tmp = 2 * (target_sensor_sr - SensorValue2length(2));
 206:Src/adjust.c  **** 			break;
 207:Src/adjust.c  **** 		
 208:Src/adjust.c  **** 		case both_side:
 209:Src/adjust.c  **** 			side_wall_err_tmp = (target_sensor_sr - SensorValue2length(2)) - (target_sensor_sl - SensorValue
 210:Src/adjust.c  **** 			break;
 211:Src/adjust.c  **** 		
 212:Src/adjust.c  **** 		case none:
 213:Src/adjust.c  **** 			side_wall_err_tmp = 0;
 214:Src/adjust.c  **** 			break;						
 215:Src/adjust.c  **** 	}
 216:Src/adjust.c  **** 
 217:Src/adjust.c  **** 	return side_wall_err_tmp;
 218:Src/adjust.c  **** }
 548              		.loc 1 218 1 is_stmt 0 view .LVU131
 549 0014 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 550              	.LVL29:
 551              	.L46:
 201:Src/adjust.c  **** 			break;
 552              		.loc 1 201 4 is_stmt 1 view .LVU132
 201:Src/adjust.c  **** 			break;
 553              		.loc 1 201 47 is_stmt 0 view .LVU133
 554 0016 294B     		ldr	r3, .L51+12
 555 0018 D3E90045 		ldrd	r4, [r3]
 201:Src/adjust.c  **** 			break;
 556              		.loc 1 201 49 view .LVU134
 557 001c 0120     		movs	r0, #1
 558 001e FFF7FEFF 		bl	SensorValue2length
 559              	.LVL30:
 560 0022 53EC102B 		vmov	r2, r3, d0
 201:Src/adjust.c  **** 			break;
 561              		.loc 1 201 47 view .LVU135
 562 0026 2046     		mov	r0, r4
 563 0028 2946     		mov	r1, r5
 564 002a FFF7FEFF 		bl	__aeabi_dsub
 565              	.LVL31:
 201:Src/adjust.c  **** 			break;
ARM GAS  C:\Temp\ccyo3Eiq.s 			page 15


 566              		.loc 1 201 22 view .LVU136
 567 002e 0022     		movs	r2, #0
 568 0030 4FF04043 		mov	r3, #-1073741824
 569 0034 FFF7FEFF 		bl	__aeabi_dmul
 570              	.LVL32:
 571 0038 41EC100B 		vmov	d0, r0, r1
 572              	.LVL33:
 202:Src/adjust.c  **** 		
 573              		.loc 1 202 4 is_stmt 1 view .LVU137
 574 003c EAE7     		b	.L45
 575              	.LVL34:
 576              	.L48:
 205:Src/adjust.c  **** 			break;
 577              		.loc 1 205 4 view .LVU138
 205:Src/adjust.c  **** 			break;
 578              		.loc 1 205 46 is_stmt 0 view .LVU139
 579 003e 204B     		ldr	r3, .L51+16
 580 0040 D3E90045 		ldrd	r4, [r3]
 205:Src/adjust.c  **** 			break;
 581              		.loc 1 205 48 view .LVU140
 582 0044 0220     		movs	r0, #2
 583 0046 FFF7FEFF 		bl	SensorValue2length
 584              	.LVL35:
 585 004a 53EC102B 		vmov	r2, r3, d0
 205:Src/adjust.c  **** 			break;
 586              		.loc 1 205 46 view .LVU141
 587 004e 2046     		mov	r0, r4
 588 0050 2946     		mov	r1, r5
 589 0052 FFF7FEFF 		bl	__aeabi_dsub
 590              	.LVL36:
 591 0056 0246     		mov	r2, r0
 592 0058 0B46     		mov	r3, r1
 205:Src/adjust.c  **** 			break;
 593              		.loc 1 205 22 view .LVU142
 594 005a FFF7FEFF 		bl	__aeabi_dadd
 595              	.LVL37:
 596 005e 41EC100B 		vmov	d0, r0, r1
 597              	.LVL38:
 206:Src/adjust.c  **** 		
 598              		.loc 1 206 4 is_stmt 1 view .LVU143
 599 0062 D7E7     		b	.L45
 600              	.LVL39:
 601              	.L47:
 209:Src/adjust.c  **** 			break;
 602              		.loc 1 209 4 view .LVU144
 209:Src/adjust.c  **** 			break;
 603              		.loc 1 209 42 is_stmt 0 view .LVU145
 604 0064 164B     		ldr	r3, .L51+16
 605 0066 D3E90045 		ldrd	r4, [r3]
 209:Src/adjust.c  **** 			break;
 606              		.loc 1 209 44 view .LVU146
 607 006a 0220     		movs	r0, #2
 608 006c FFF7FEFF 		bl	SensorValue2length
 609              	.LVL40:
 610 0070 53EC102B 		vmov	r2, r3, d0
 209:Src/adjust.c  **** 			break;
 611              		.loc 1 209 42 view .LVU147
ARM GAS  C:\Temp\ccyo3Eiq.s 			page 16


 612 0074 2046     		mov	r0, r4
 613 0076 2946     		mov	r1, r5
 614 0078 FFF7FEFF 		bl	__aeabi_dsub
 615              	.LVL41:
 616 007c 0446     		mov	r4, r0
 617 007e 0D46     		mov	r5, r1
 209:Src/adjust.c  **** 			break;
 618              		.loc 1 209 87 view .LVU148
 619 0080 0E4B     		ldr	r3, .L51+12
 620 0082 D3E90067 		ldrd	r6, [r3]
 209:Src/adjust.c  **** 			break;
 621              		.loc 1 209 89 view .LVU149
 622 0086 0120     		movs	r0, #1
 623 0088 FFF7FEFF 		bl	SensorValue2length
 624              	.LVL42:
 625 008c 53EC102B 		vmov	r2, r3, d0
 209:Src/adjust.c  **** 			break;
 626              		.loc 1 209 87 view .LVU150
 627 0090 3046     		mov	r0, r6
 628 0092 3946     		mov	r1, r7
 629 0094 FFF7FEFF 		bl	__aeabi_dsub
 630              	.LVL43:
 631 0098 0246     		mov	r2, r0
 632 009a 0B46     		mov	r3, r1
 209:Src/adjust.c  **** 			break;
 633              		.loc 1 209 22 view .LVU151
 634 009c 2046     		mov	r0, r4
 635 009e 2946     		mov	r1, r5
 636 00a0 FFF7FEFF 		bl	__aeabi_dsub
 637              	.LVL44:
 638 00a4 41EC100B 		vmov	d0, r0, r1
 639              	.LVL45:
 210:Src/adjust.c  **** 		
 640              		.loc 1 210 4 is_stmt 1 view .LVU152
 217:Src/adjust.c  **** }
 641              		.loc 1 217 2 view .LVU153
 217:Src/adjust.c  **** }
 642              		.loc 1 217 9 is_stmt 0 view .LVU154
 643 00a8 B4E7     		b	.L45
 644              	.L52:
 645 00aa 00BFAFF3 		.align	3
 645      0080
 646              	.L51:
 647 00b0 00000000 		.word	0
 648 00b4 00000000 		.word	0
 649 00b8 00000000 		.word	.LANCHOR5
 650 00bc 00000000 		.word	.LANCHOR1
 651 00c0 00000000 		.word	.LANCHOR2
 652              		.cfi_endproc
 653              	.LFE11:
 655              		.section	.text.adjust_theta_side_wall,"ax",%progbits
 656              		.align	1
 657              		.global	adjust_theta_side_wall
 658              		.syntax unified
 659              		.thumb
 660              		.thumb_func
 661              		.fpu fpv4-sp-d16
ARM GAS  C:\Temp\ccyo3Eiq.s 			page 17


 663              	adjust_theta_side_wall:
 664              	.LFB12:
 219:Src/adjust.c  **** 
 220:Src/adjust.c  **** //æ©Ÿèƒ½	: å„æ¨ªå£åˆ¶å¾¡ãƒ¢ãƒ¼ãƒ‰ã«ãŠã‘ã‚‹è§’åº¦è£œæ­£å‡¦ç†ã‚’å…¥ã‚Œã‚‹
 221:Src/adjust.c  **** //å¼•æ•°	: ãªã—
 222:Src/adjust.c  **** //è¿”ã‚Šå€¤	: ãªã—
 223:Src/adjust.c  **** //å‚™è€ƒ 	:1msã‚¿ã‚¹ã‚¯
 224:Src/adjust.c  **** void adjust_theta_side_wall(void)
 225:Src/adjust.c  **** {
 665              		.loc 1 225 1 is_stmt 1 view -0
 666              		.cfi_startproc
 667              		@ args = 0, pretend = 0, frame = 0
 668              		@ frame_needed = 0, uses_anonymous_args = 0
 669              		@ link register save eliminated.
 226:Src/adjust.c  **** 	switch(side_wall_ctrl_mode){
 670              		.loc 1 226 2 view .LVU156
 227:Src/adjust.c  **** 		case left:
 228:Src/adjust.c  **** 			break;
 229:Src/adjust.c  **** 		case right:
 230:Src/adjust.c  **** 			break;
 231:Src/adjust.c  **** 		case both_side:
 232:Src/adjust.c  **** 			break;
 233:Src/adjust.c  **** 		case none:
 234:Src/adjust.c  **** 			break;						
 235:Src/adjust.c  **** 	}
 236:Src/adjust.c  **** 	//è»Œè·¡åˆ¶å¾¡ã®Ié …ã«ãƒ•ã‚£ãƒ«ã‚¿ã‚’ã‹ã‘ã‚‹ã€‚å„ãƒ¢ãƒ¼ãƒ‰ã«å¿œã˜ãŸæ„Ÿã˜ã§ã€‚
 237:Src/adjust.c  **** }
 671              		.loc 1 237 1 is_stmt 0 view .LVU157
 672 0000 7047     		bx	lr
 673              		.cfi_endproc
 674              	.LFE12:
 676              		.global	__aeabi_ddiv
 677              		.section	.text.calc_motor_vol_side_wall,"ax",%progbits
 678              		.align	1
 679              		.global	calc_motor_vol_side_wall
 680              		.syntax unified
 681              		.thumb
 682              		.thumb_func
 683              		.fpu fpv4-sp-d16
 685              	calc_motor_vol_side_wall:
 686              	.LFB13:
 238:Src/adjust.c  **** 
 239:Src/adjust.c  **** //æ©Ÿèƒ½	: åå·®ã‹ã‚‰æ¨ªå£åˆ¶å¾¡ã®ãƒ¢ãƒ¼ã‚¿å°åŠ é›»åœ§ã‚’è¨ˆç®—ã™ã‚‹ã€‚
 240:Src/adjust.c  **** //å¼•æ•°	: ãªã—
 241:Src/adjust.c  **** //è¿”ã‚Šå€¤	: ãªã—
 242:Src/adjust.c  **** //å‚™è€ƒ 	:1msã‚¿ã‚¹ã‚¯
 243:Src/adjust.c  **** void calc_motor_vol_side_wall(void)
 244:Src/adjust.c  **** {
 687              		.loc 1 244 1 is_stmt 1 view -0
 688              		.cfi_startproc
 689              		@ args = 0, pretend = 0, frame = 0
 690              		@ frame_needed = 0, uses_anonymous_args = 0
 691 0000 2DE9F84F 		push	{r3, r4, r5, r6, r7, r8, r9, r10, fp, lr}
 692              	.LCFI5:
 693              		.cfi_def_cfa_offset 40
 694              		.cfi_offset 3, -40
 695              		.cfi_offset 4, -36
ARM GAS  C:\Temp\ccyo3Eiq.s 			page 18


 696              		.cfi_offset 5, -32
 697              		.cfi_offset 6, -28
 698              		.cfi_offset 7, -24
 699              		.cfi_offset 8, -20
 700              		.cfi_offset 9, -16
 701              		.cfi_offset 10, -12
 702              		.cfi_offset 11, -8
 703              		.cfi_offset 14, -4
 245:Src/adjust.c  **** 	double side_wall_err = 0;
 704              		.loc 1 245 2 view .LVU159
 705              	.LVL46:
 246:Src/adjust.c  **** 	double side_wall_err_P = 0;
 706              		.loc 1 246 2 view .LVU160
 247:Src/adjust.c  **** 	double side_wall_err_D = 0;
 707              		.loc 1 247 2 view .LVU161
 248:Src/adjust.c  **** 	double side_wall_err_PD = 0;
 708              		.loc 1 248 2 view .LVU162
 249:Src/adjust.c  **** 	static double side_wall_err_prev = 0;
 709              		.loc 1 249 2 view .LVU163
 250:Src/adjust.c  **** 	static double side_wall_err_D_prev = 0;
 710              		.loc 1 250 2 view .LVU164
 251:Src/adjust.c  **** 
 252:Src/adjust.c  **** 	//åå·®å–å¾—
 253:Src/adjust.c  **** 	side_wall_err = get_side_wall_err();
 711              		.loc 1 253 2 view .LVU165
 712              		.loc 1 253 18 is_stmt 0 view .LVU166
 713 0004 FFF7FEFF 		bl	get_side_wall_err
 714              	.LVL47:
 715 0008 55EC104B 		vmov	r4, r5, d0
 716              	.LVL48:
 254:Src/adjust.c  **** 
 255:Src/adjust.c  **** 	//Pé …
 256:Src/adjust.c  **** 	side_wall_err_P = side_wall_P * side_wall_err;
 717              		.loc 1 256 2 is_stmt 1 view .LVU167
 718              		.loc 1 256 18 is_stmt 0 view .LVU168
 719 000c 0022     		movs	r2, #0
 720 000e 1E4B     		ldr	r3, .L56+16
 721 0010 10EE100A 		vmov	r0, s0	@ int
 722 0014 2946     		mov	r1, r5
 723 0016 FFF7FEFF 		bl	__aeabi_dmul
 724              	.LVL49:
 725 001a 8046     		mov	r8, r0
 726 001c 8946     		mov	r9, r1
 727              	.LVL50:
 257:Src/adjust.c  **** 	
 258:Src/adjust.c  **** 	//Dé …
 259:Src/adjust.c  **** 	side_wall_err_D = (side_wall_err_D_prev + side_wall_D * side_wall_fil * (side_wall_err - side_wall
 728              		.loc 1 259 2 is_stmt 1 view .LVU169
 729              		.loc 1 259 89 is_stmt 0 view .LVU170
 730 001e DFF870B0 		ldr	fp, .L56+24
 731 0022 DBE90023 		ldrd	r2, [fp]
 732 0026 2046     		mov	r0, r4
 733 0028 2946     		mov	r1, r5
 734 002a FFF7FEFF 		bl	__aeabi_dsub
 735              	.LVL51:
 736              		.loc 1 259 72 view .LVU171
 737 002e 12A3     		adr	r3, .L56
ARM GAS  C:\Temp\ccyo3Eiq.s 			page 19


 738 0030 D3E90023 		ldrd	r2, [r3]
 739 0034 FFF7FEFF 		bl	__aeabi_dmul
 740              	.LVL52:
 741              		.loc 1 259 42 view .LVU172
 742 0038 DFF858A0 		ldr	r10, .L56+28
 743 003c DAE90023 		ldrd	r2, [r10]
 744 0040 FFF7FEFF 		bl	__aeabi_dadd
 745              	.LVL53:
 746              		.loc 1 259 18 view .LVU173
 747 0044 0EA3     		adr	r3, .L56+8
 748 0046 D3E90023 		ldrd	r2, [r3]
 749 004a FFF7FEFF 		bl	__aeabi_ddiv
 750              	.LVL54:
 751 004e 0646     		mov	r6, r0
 752 0050 0F46     		mov	r7, r1
 753              	.LVL55:
 260:Src/adjust.c  **** 								/(1+side_wall_fil*0.001);
 261:Src/adjust.c  **** 
 262:Src/adjust.c  **** 	//åˆç®—
 263:Src/adjust.c  **** 	side_wall_err_PD = side_wall_err_P + side_wall_err_D;
 754              		.loc 1 263 2 is_stmt 1 view .LVU174
 755              		.loc 1 263 19 is_stmt 0 view .LVU175
 756 0052 0246     		mov	r2, r0
 757 0054 0B46     		mov	r3, r1
 758 0056 4046     		mov	r0, r8
 759 0058 4946     		mov	r1, r9
 760 005a FFF7FEFF 		bl	__aeabi_dadd
 761              	.LVL56:
 264:Src/adjust.c  **** 
 265:Src/adjust.c  **** 	/*å°åŠ é›»åœ§ç®—å‡º*/
 266:Src/adjust.c  **** 	target_vol_diff_sidewall = (float)side_wall_err_PD;
 762              		.loc 1 266 2 is_stmt 1 view .LVU176
 763              		.loc 1 266 29 is_stmt 0 view .LVU177
 764 005e FFF7FEFF 		bl	__aeabi_d2f
 765              	.LVL57:
 766              		.loc 1 266 27 view .LVU178
 767 0062 0A4B     		ldr	r3, .L56+20
 768 0064 1860     		str	r0, [r3]	@ float
 267:Src/adjust.c  **** 
 268:Src/adjust.c  **** 	/*ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿æ›´æ–°*/
 269:Src/adjust.c  **** 	side_wall_err_prev = side_wall_err;
 769              		.loc 1 269 2 is_stmt 1 view .LVU179
 770              		.loc 1 269 21 is_stmt 0 view .LVU180
 771 0066 CBE90045 		strd	r4, [fp]
 270:Src/adjust.c  **** 	side_wall_err_D_prev = side_wall_err_D;
 772              		.loc 1 270 2 is_stmt 1 view .LVU181
 773              		.loc 1 270 23 is_stmt 0 view .LVU182
 774 006a CAE90067 		strd	r6, [r10]
 271:Src/adjust.c  **** 
 272:Src/adjust.c  **** }
 775              		.loc 1 272 1 view .LVU183
 776 006e BDE8F88F 		pop	{r3, r4, r5, r6, r7, r8, r9, r10, fp, pc}
 777              	.LVL58:
 778              	.L57:
 779              		.loc 1 272 1 view .LVU184
 780 0072 00BFAFF3 		.align	3
 780      0080
ARM GAS  C:\Temp\ccyo3Eiq.s 			page 20


 781              	.L56:
 782 0078 AF4BD32C 		.word	752044975
 783 007c FCC85C40 		.word	1079822588
 784 0080 AE2BEE52 		.word	1391340462
 785 0084 91B4F43F 		.word	1073001617
 786 0088 00005940 		.word	1079574528
 787 008c 00000000 		.word	.LANCHOR12
 788 0090 00000000 		.word	.LANCHOR10
 789 0094 00000000 		.word	.LANCHOR11
 790              		.cfi_endproc
 791              	.LFE13:
 793              		.section	.text.get_target_vol_diff_sidewall,"ax",%progbits
 794              		.align	1
 795              		.global	get_target_vol_diff_sidewall
 796              		.syntax unified
 797              		.thumb
 798              		.thumb_func
 799              		.fpu fpv4-sp-d16
 801              	get_target_vol_diff_sidewall:
 802              	.LFB14:
 273:Src/adjust.c  **** 
 274:Src/adjust.c  **** //æ©Ÿèƒ½	: æ¨ªå£è£œæ­£ã«ã‚ˆã‚‹ãƒ¢ãƒ¼ã‚¿å°åŠ é›»åœ§ã®å·®ã‚’å–å¾—ã™ã‚‹
 275:Src/adjust.c  **** //å¼•æ•°	: ãªã—
 276:Src/adjust.c  **** //è¿”ã‚Šå€¤	: æ¨ªå£è£œæ­£ã«ã‚ˆã‚‹å³ãƒ¢ãƒ¼ã‚¿å°åŠ é›»åœ§
 277:Src/adjust.c  **** float get_target_vol_diff_sidewall ( void )
 278:Src/adjust.c  **** {
 803              		.loc 1 278 1 is_stmt 1 view -0
 804              		.cfi_startproc
 805              		@ args = 0, pretend = 0, frame = 0
 806              		@ frame_needed = 0, uses_anonymous_args = 0
 807              		@ link register save eliminated.
 279:Src/adjust.c  **** 	return target_vol_diff_sidewall;
 808              		.loc 1 279 2 view .LVU186
 280:Src/adjust.c  **** }
 809              		.loc 1 280 1 is_stmt 0 view .LVU187
 810 0000 014B     		ldr	r3, .L59
 811 0002 93ED000A 		vldr.32	s0, [r3]
 812 0006 7047     		bx	lr
 813              	.L60:
 814              		.align	2
 815              	.L59:
 816 0008 00000000 		.word	.LANCHOR12
 817              		.cfi_endproc
 818              	.LFE14:
 820              		.section	.text.calc_motor_vol_front_wall,"ax",%progbits
 821              		.align	1
 822              		.global	calc_motor_vol_front_wall
 823              		.syntax unified
 824              		.thumb
 825              		.thumb_func
 826              		.fpu fpv4-sp-d16
 828              	calc_motor_vol_front_wall:
 829              	.LFB15:
 281:Src/adjust.c  **** 
 282:Src/adjust.c  **** 
 283:Src/adjust.c  **** //æ©Ÿèƒ½	: å‰å£åˆ¶å¾¡ã«ãŠã‘ã‚‹ãƒ¢ãƒ¼ã‚¿å°åŠ é›»åœ§ã‚’è¨ˆç®—ã™ã‚‹ã€‚
 284:Src/adjust.c  **** //å¼•æ•°	: ãªã—
ARM GAS  C:\Temp\ccyo3Eiq.s 			page 21


 285:Src/adjust.c  **** //è¿”ã‚Šå€¤	: ãªã—
 286:Src/adjust.c  **** //å‚™è€ƒ	:1msã‚¿ã‚¹ã‚¯
 287:Src/adjust.c  **** void calc_motor_vol_front_wall ( void )
 288:Src/adjust.c  **** {
 830              		.loc 1 288 1 is_stmt 1 view -0
 831              		.cfi_startproc
 832              		@ args = 0, pretend = 0, frame = 24
 833              		@ frame_needed = 0, uses_anonymous_args = 0
 834 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 835              	.LCFI6:
 836              		.cfi_def_cfa_offset 36
 837              		.cfi_offset 4, -36
 838              		.cfi_offset 5, -32
 839              		.cfi_offset 6, -28
 840              		.cfi_offset 7, -24
 841              		.cfi_offset 8, -20
 842              		.cfi_offset 9, -16
 843              		.cfi_offset 10, -12
 844              		.cfi_offset 11, -8
 845              		.cfi_offset 14, -4
 846 0004 2DED088B 		vpush.64	{d8, d9, d10, d11}
 847              	.LCFI7:
 848              		.cfi_def_cfa_offset 68
 849              		.cfi_offset 80, -68
 850              		.cfi_offset 81, -64
 851              		.cfi_offset 82, -60
 852              		.cfi_offset 83, -56
 853              		.cfi_offset 84, -52
 854              		.cfi_offset 85, -48
 855              		.cfi_offset 86, -44
 856              		.cfi_offset 87, -40
 857 0008 87B0     		sub	sp, sp, #28
 858              	.LCFI8:
 859              		.cfi_def_cfa_offset 96
 289:Src/adjust.c  **** 	double front_sensor_r = 0; 				//å³å‰ã‚»ãƒ³ã‚µå€¤
 860              		.loc 1 289 2 view .LVU189
 861              	.LVL59:
 290:Src/adjust.c  ****     double front_sensor_l = 0; 				//å·¦å‰ã‚»ãƒ³ã‚µå€¤
 862              		.loc 1 290 5 view .LVU190
 291:Src/adjust.c  ****     double front_sensor_r_err = 0;   		//å³å‰ã‚»ãƒ³ã‚µã®åå·®
 863              		.loc 1 291 5 view .LVU191
 292:Src/adjust.c  ****     double front_sensor_l_err = 0;			//å·¦å‰ã‚»ãƒ³ã‚µã®åå·®
 864              		.loc 1 292 5 view .LVU192
 293:Src/adjust.c  ****     double front_sensor_move_err = 0;   	//ã‚»ãƒ³ã‚µã®åå·®ã®å’Œ
 865              		.loc 1 293 5 view .LVU193
 294:Src/adjust.c  ****     double front_sensor_rotate_err = 0;		//ã‚»ãƒ³ã‚µã®åå·®ã®å·®
 866              		.loc 1 294 5 view .LVU194
 295:Src/adjust.c  **** 
 296:Src/adjust.c  ****     double front_sensor_move_err_P = 0;   	//åå·®å’Œã®Pé …
 867              		.loc 1 296 5 view .LVU195
 297:Src/adjust.c  ****     double front_sensor_rotate_err_P = 0;   //åå·®å·®ã®Pé …
 868              		.loc 1 297 5 view .LVU196
 298:Src/adjust.c  ****     double front_sensor_move_err_D = 0;   	//åå·®å’Œã®Dé …
 869              		.loc 1 298 5 view .LVU197
 299:Src/adjust.c  ****     double front_sensor_rotate_err_D = 0;   //åå·®å·®ã®Dé …
 870              		.loc 1 299 5 view .LVU198
 300:Src/adjust.c  ****     double front_sensor_move_PID = 0;  		//
ARM GAS  C:\Temp\ccyo3Eiq.s 			page 22


 871              		.loc 1 300 5 view .LVU199
 301:Src/adjust.c  ****     double front_sensor_rotate_PID = 0;   		//
 872              		.loc 1 301 5 view .LVU200
 302:Src/adjust.c  **** 
 303:Src/adjust.c  **** 
 304:Src/adjust.c  **** 	//ã‚»ãƒ³ã‚µå€¤å–å¾—
 305:Src/adjust.c  **** 	front_sensor_l = SensorValue2length(0);
 873              		.loc 1 305 2 view .LVU201
 874              		.loc 1 305 19 is_stmt 0 view .LVU202
 875 000a 0020     		movs	r0, #0
 876 000c FFF7FEFF 		bl	SensorValue2length
 877              	.LVL60:
 878 0010 57EC106B 		vmov	r6, r7, d0
 879              	.LVL61:
 306:Src/adjust.c  **** 	front_sensor_r = SensorValue2length(3);
 880              		.loc 1 306 2 is_stmt 1 view .LVU203
 881              		.loc 1 306 19 is_stmt 0 view .LVU204
 882 0014 0320     		movs	r0, #3
 883 0016 FFF7FEFF 		bl	SensorValue2length
 884              	.LVL62:
 885 001a 55EC104B 		vmov	r4, r5, d0
 886              	.LVL63:
 307:Src/adjust.c  **** 
 308:Src/adjust.c  **** 	//åå·®å–å¾—
 309:Src/adjust.c  **** 	front_sensor_l_err = front_sensor_l - front_sensor_l_ref ;
 887              		.loc 1 309 2 is_stmt 1 view .LVU205
 888              		.loc 1 309 21 is_stmt 0 view .LVU206
 889 001e 74A3     		adr	r3, .L63+72
 890 0020 D3E90023 		ldrd	r2, [r3]
 891 0024 3046     		mov	r0, r6
 892 0026 3946     		mov	r1, r7
 893 0028 FFF7FEFF 		bl	__aeabi_dsub
 894              	.LVL64:
 895 002c 0646     		mov	r6, r0
 896              	.LVL65:
 897              		.loc 1 309 21 view .LVU207
 898 002e 0F46     		mov	r7, r1
 899              	.LVL66:
 310:Src/adjust.c  **** 	front_sensor_r_err = front_sensor_r - front_sensor_r_ref ;
 900              		.loc 1 310 2 is_stmt 1 view .LVU208
 901              		.loc 1 310 21 is_stmt 0 view .LVU209
 902 0030 71A3     		adr	r3, .L63+80
 903 0032 D3E90023 		ldrd	r2, [r3]
 904 0036 2046     		mov	r0, r4
 905 0038 2946     		mov	r1, r5
 906 003a FFF7FEFF 		bl	__aeabi_dsub
 907              	.LVL67:
 908 003e 0446     		mov	r4, r0
 909              	.LVL68:
 910              		.loc 1 310 21 view .LVU210
 911 0040 0D46     		mov	r5, r1
 912              	.LVL69:
 311:Src/adjust.c  **** 
 312:Src/adjust.c  **** 	/* åå·®å¤‰æ›*/
 313:Src/adjust.c  **** 	front_sensor_move_err = front_sensor_r_err + front_sensor_l_err;
 913              		.loc 1 313 2 is_stmt 1 view .LVU211
 914              		.loc 1 313 24 is_stmt 0 view .LVU212
ARM GAS  C:\Temp\ccyo3Eiq.s 			page 23


 915 0042 0246     		mov	r2, r0
 916 0044 0B46     		mov	r3, r1
 917 0046 3046     		mov	r0, r6
 918 0048 3946     		mov	r1, r7
 919 004a FFF7FEFF 		bl	__aeabi_dadd
 920              	.LVL70:
 921 004e 8046     		mov	r8, r0
 922 0050 8946     		mov	r9, r1
 923              	.LVL71:
 314:Src/adjust.c  **** 	front_sensor_rotate_err = (front_sensor_r_err - front_sensor_l_err)/chassis_width; //è§’åº¦ã«å¤‰æ
 924              		.loc 1 314 2 is_stmt 1 view .LVU213
 925              		.loc 1 314 48 is_stmt 0 view .LVU214
 926 0052 3246     		mov	r2, r6
 927 0054 3B46     		mov	r3, r7
 928 0056 2046     		mov	r0, r4
 929 0058 2946     		mov	r1, r5
 930 005a FFF7FEFF 		bl	__aeabi_dsub
 931              	.LVL72:
 932              		.loc 1 314 26 view .LVU215
 933 005e 68A3     		adr	r3, .L63+88
 934 0060 D3E90023 		ldrd	r2, [r3]
 935 0064 FFF7FEFF 		bl	__aeabi_ddiv
 936              	.LVL73:
 937 0068 0646     		mov	r6, r0
 938              	.LVL74:
 939              		.loc 1 314 26 view .LVU216
 940 006a 0F46     		mov	r7, r1
 941              	.LVL75:
 315:Src/adjust.c  **** 
 316:Src/adjust.c  **** 	/*åå·®ç©åˆ†(Ié …)*/
 317:Src/adjust.c  **** 	front_sensor_move_err_I  += front_sensor_move_KI * 0.001 * front_sensor_move_err;
 942              		.loc 1 317 2 is_stmt 1 view .LVU217
 943              		.loc 1 317 59 is_stmt 0 view .LVU218
 944 006c 66A3     		adr	r3, .L63+96
 945 006e D3E90023 		ldrd	r2, [r3]
 946 0072 4046     		mov	r0, r8
 947 0074 4946     		mov	r1, r9
 948 0076 FFF7FEFF 		bl	__aeabi_dmul
 949              	.LVL76:
 950              		.loc 1 317 27 view .LVU219
 951 007a 594C     		ldr	r4, .L63+56
 952              	.LVL77:
 953              		.loc 1 317 27 view .LVU220
 954 007c D4E90023 		ldrd	r2, [r4]
 955 0080 FFF7FEFF 		bl	__aeabi_dadd
 956              	.LVL78:
 957 0084 41EC1B0B 		vmov	d11, r0, r1
 958 0088 C4E90001 		strd	r0, [r4]
 318:Src/adjust.c  **** 	front_sensor_rotate_err_I  += front_sensor_rotate_KI * 0.001 * front_sensor_rotate_err;
 959              		.loc 1 318 2 is_stmt 1 view .LVU221
 960              		.loc 1 318 63 is_stmt 0 view .LVU222
 961 008c 46A3     		adr	r3, .L63
 962 008e D3E90023 		ldrd	r2, [r3]
 963 0092 3046     		mov	r0, r6
 964 0094 3946     		mov	r1, r7
 965 0096 FFF7FEFF 		bl	__aeabi_dmul
 966              	.LVL79:
ARM GAS  C:\Temp\ccyo3Eiq.s 			page 24


 967              		.loc 1 318 29 view .LVU223
 968 009a 524C     		ldr	r4, .L63+60
 969 009c D4E90023 		ldrd	r2, [r4]
 970 00a0 FFF7FEFF 		bl	__aeabi_dadd
 971              	.LVL80:
 972 00a4 41EC1A0B 		vmov	d10, r0, r1
 973 00a8 C4E90001 		strd	r0, [r4]
 319:Src/adjust.c  **** 	/*Pé …*/
 320:Src/adjust.c  **** 	front_sensor_move_err_P = front_sensor_move_KP * front_sensor_move_err;
 974              		.loc 1 320 2 is_stmt 1 view .LVU224
 975              		.loc 1 320 26 is_stmt 0 view .LVU225
 976 00ac 40A3     		adr	r3, .L63+8
 977 00ae D3E90023 		ldrd	r2, [r3]
 978 00b2 4046     		mov	r0, r8
 979 00b4 4946     		mov	r1, r9
 980 00b6 FFF7FEFF 		bl	__aeabi_dmul
 981              	.LVL81:
 982 00ba 0446     		mov	r4, r0
 983 00bc 0D46     		mov	r5, r1
 984              	.LVL82:
 321:Src/adjust.c  **** 	front_sensor_rotate_err_P = front_sensor_rotate_KP * front_sensor_rotate_err;
 985              		.loc 1 321 2 is_stmt 1 view .LVU226
 986              		.loc 1 321 28 is_stmt 0 view .LVU227
 987 00be 3EA3     		adr	r3, .L63+16
 988 00c0 D3E90023 		ldrd	r2, [r3]
 989 00c4 3046     		mov	r0, r6
 990 00c6 3946     		mov	r1, r7
 991 00c8 FFF7FEFF 		bl	__aeabi_dmul
 992              	.LVL83:
 993 00cc CDE90201 		strd	r0, [sp, #8]
 994              	.LVL84:
 322:Src/adjust.c  **** 	/*Dé …*/
 323:Src/adjust.c  **** 	front_sensor_move_err_D = (front_sensor_move_D_prev + front_sensor_move_KD * front_sensor_move_fil
 995              		.loc 1 323 2 is_stmt 1 view .LVU228
 996              		.loc 1 323 126 is_stmt 0 view .LVU229
 997 00d0 DFF83CB1 		ldr	fp, .L63+104
 998 00d4 DBE90023 		ldrd	r2, [fp]
 999 00d8 CDE90089 		strd	r8, [sp]
 1000 00dc 4046     		mov	r0, r8
 1001              	.LVL85:
 1002              		.loc 1 323 126 view .LVU230
 1003 00de 4946     		mov	r1, r9
 1004 00e0 FFF7FEFF 		bl	__aeabi_dsub
 1005              	.LVL86:
 1006              		.loc 1 323 101 view .LVU231
 1007 00e4 36A3     		adr	r3, .L63+24
 1008 00e6 D3E90023 		ldrd	r2, [r3]
 1009 00ea FFF7FEFF 		bl	__aeabi_dmul
 1010              	.LVL87:
 1011              		.loc 1 323 54 view .LVU232
 1012 00ee DFF82491 		ldr	r9, .L63+108
 1013 00f2 D9E90023 		ldrd	r2, [r9]
 1014 00f6 FFF7FEFF 		bl	__aeabi_dadd
 1015              	.LVL88:
 1016              		.loc 1 323 26 view .LVU233
 1017 00fa 33A3     		adr	r3, .L63+32
 1018 00fc D3E90023 		ldrd	r2, [r3]
ARM GAS  C:\Temp\ccyo3Eiq.s 			page 25


 1019 0100 FFF7FEFF 		bl	__aeabi_ddiv
 1020              	.LVL89:
 1021 0104 41EC190B 		vmov	d9, r0, r1
 1022              	.LVL90:
 324:Src/adjust.c  **** 								/(1+front_sensor_move_fil*0.001);
 325:Src/adjust.c  **** 	front_sensor_rotate_err_D = (front_sensor_rotate_D_prev + front_sensor_rotate_KD * front_sensor_ro
 1023              		.loc 1 325 2 is_stmt 1 view .LVU234
 1024              		.loc 1 325 136 is_stmt 0 view .LVU235
 1025 0108 DFF80CA1 		ldr	r10, .L63+112
 1026 010c DAE90023 		ldrd	r2, [r10]
 1027 0110 3046     		mov	r0, r6
 1028              	.LVL91:
 1029              		.loc 1 325 136 view .LVU236
 1030 0112 3946     		mov	r1, r7
 1031 0114 FFF7FEFF 		bl	__aeabi_dsub
 1032              	.LVL92:
 1033              		.loc 1 325 109 view .LVU237
 1034 0118 2DA3     		adr	r3, .L63+40
 1035 011a D3E90023 		ldrd	r2, [r3]
 1036 011e FFF7FEFF 		bl	__aeabi_dmul
 1037              	.LVL93:
 1038              		.loc 1 325 58 view .LVU238
 1039 0122 DFF8F880 		ldr	r8, .L63+116
 1040              	.LVL94:
 1041              		.loc 1 325 58 view .LVU239
 1042 0126 D8E90023 		ldrd	r2, [r8]
 1043 012a FFF7FEFF 		bl	__aeabi_dadd
 1044              	.LVL95:
 1045              		.loc 1 325 28 view .LVU240
 1046 012e 2AA3     		adr	r3, .L63+48
 1047 0130 D3E90023 		ldrd	r2, [r3]
 1048 0134 FFF7FEFF 		bl	__aeabi_ddiv
 1049              	.LVL96:
 1050 0138 41EC180B 		vmov	d8, r0, r1
 1051              	.LVL97:
 326:Src/adjust.c  **** 								/(1+front_sensor_rotate_fil*0.001);
 327:Src/adjust.c  **** 	/*PID*/
 328:Src/adjust.c  **** 	front_sensor_move_PID = front_sensor_move_err_P + front_sensor_move_err_I + front_sensor_move_err_
 1052              		.loc 1 328 2 is_stmt 1 view .LVU241
 1053              		.loc 1 328 50 is_stmt 0 view .LVU242
 1054 013c 2246     		mov	r2, r4
 1055 013e 2B46     		mov	r3, r5
 1056 0140 51EC1B0B 		vmov	r0, r1, d11
 1057              	.LVL98:
 1058              		.loc 1 328 50 view .LVU243
 1059 0144 FFF7FEFF 		bl	__aeabi_dadd
 1060              	.LVL99:
 1061              		.loc 1 328 24 view .LVU244
 1062 0148 53EC192B 		vmov	r2, r3, d9
 1063 014c FFF7FEFF 		bl	__aeabi_dadd
 1064              	.LVL100:
 1065 0150 CDE90401 		strd	r0, [sp, #16]
 1066              	.LVL101:
 329:Src/adjust.c  ****     front_sensor_rotate_PID = front_sensor_rotate_err_P + front_sensor_rotate_err_I + front_sensor_
 1067              		.loc 1 329 5 is_stmt 1 view .LVU245
 1068              		.loc 1 329 57 is_stmt 0 view .LVU246
 1069 0154 DDE90223 		ldrd	r2, [sp, #8]
ARM GAS  C:\Temp\ccyo3Eiq.s 			page 26


 1070 0158 51EC1A0B 		vmov	r0, r1, d10
 1071              	.LVL102:
 1072              		.loc 1 329 57 view .LVU247
 1073 015c FFF7FEFF 		bl	__aeabi_dadd
 1074              	.LVL103:
 1075              		.loc 1 329 29 view .LVU248
 1076 0160 53EC182B 		vmov	r2, r3, d8
 1077 0164 FFF7FEFF 		bl	__aeabi_dadd
 1078              	.LVL104:
 1079 0168 0446     		mov	r4, r0
 1080              	.LVL105:
 1081              		.loc 1 329 29 view .LVU249
 1082 016a 0D46     		mov	r5, r1
 1083              	.LVL106:
 330:Src/adjust.c  **** 
 331:Src/adjust.c  ****     /*å°åŠ é›»åœ§ç®—å‡º*/
 332:Src/adjust.c  **** 	target_vol_sum_frontwall = front_sensor_move_PID;
 1084              		.loc 1 332 2 is_stmt 1 view .LVU250
 1085              		.loc 1 332 27 is_stmt 0 view .LVU251
 1086 016c DDE90401 		ldrd	r0, [sp, #16]
 1087 0170 FFF7FEFF 		bl	__aeabi_d2f
 1088              	.LVL107:
 1089 0174 1C4B     		ldr	r3, .L63+64
 1090 0176 1860     		str	r0, [r3]	@ float
 333:Src/adjust.c  **** 	target_vol_diff_frontwall = front_sensor_rotate_PID;
 1091              		.loc 1 333 2 is_stmt 1 view .LVU252
 1092              		.loc 1 333 28 is_stmt 0 view .LVU253
 1093 0178 2046     		mov	r0, r4
 1094 017a 2946     		mov	r1, r5
 1095 017c FFF7FEFF 		bl	__aeabi_d2f
 1096              	.LVL108:
 1097 0180 1A4B     		ldr	r3, .L63+68
 1098 0182 1860     		str	r0, [r3]	@ float
 334:Src/adjust.c  **** 
 335:Src/adjust.c  **** 	/*ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿æ›´æ–°*/
 336:Src/adjust.c  ****     front_sensor_move_err_prev = front_sensor_move_err;   	
 1099              		.loc 1 336 5 is_stmt 1 view .LVU254
 1100              		.loc 1 336 32 is_stmt 0 view .LVU255
 1101 0184 9DED007B 		vldr.64	d7, [sp]
 1102 0188 8BED007B 		vstr.64	d7, [fp]
 337:Src/adjust.c  **** 	front_sensor_rotate_err_prev = front_sensor_rotate_err; 
 1103              		.loc 1 337 2 is_stmt 1 view .LVU256
 1104              		.loc 1 337 31 is_stmt 0 view .LVU257
 1105 018c CAE90067 		strd	r6, [r10]
 338:Src/adjust.c  ****     front_sensor_move_D_prev = front_sensor_move_err_D;		
 1106              		.loc 1 338 5 is_stmt 1 view .LVU258
 1107              		.loc 1 338 30 is_stmt 0 view .LVU259
 1108 0190 89ED009B 		vstr.64	d9, [r9]
 339:Src/adjust.c  ****     front_sensor_rotate_D_prev = front_sensor_rotate_err_D;
 1109              		.loc 1 339 5 is_stmt 1 view .LVU260
 1110              		.loc 1 339 32 is_stmt 0 view .LVU261
 1111 0194 88ED008B 		vstr.64	d8, [r8]
 340:Src/adjust.c  **** 
 341:Src/adjust.c  **** }
 1112              		.loc 1 341 1 view .LVU262
 1113 0198 07B0     		add	sp, sp, #28
 1114              	.LCFI9:
ARM GAS  C:\Temp\ccyo3Eiq.s 			page 27


 1115              		.cfi_def_cfa_offset 68
 1116              	.LVL109:
 1117              		.loc 1 341 1 view .LVU263
 1118              		@ sp needed
 1119 019a BDEC088B 		vldm	sp!, {d8-d11}
 1120              	.LCFI10:
 1121              		.cfi_restore 86
 1122              		.cfi_restore 87
 1123              		.cfi_restore 84
 1124              		.cfi_restore 85
 1125              		.cfi_restore 82
 1126              		.cfi_restore 83
 1127              		.cfi_restore 80
 1128              		.cfi_restore 81
 1129              		.cfi_def_cfa_offset 36
 1130              	.LVL110:
 1131              		.loc 1 341 1 view .LVU264
 1132 019e BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 1133              	.LVL111:
 1134              	.L64:
 1135              		.loc 1 341 1 view .LVU265
 1136 01a2 00BFAFF3 		.align	3
 1136      0080
 1137              	.L63:
 1138 01a8 60E5D022 		.word	584115552
 1139 01ac 9BA5643F 		.word	1063560603
 1140 01b0 00000000 		.word	0
 1141 01b4 631A5F40 		.word	1079974499
 1142 01b8 000000E0 		.word	-536870912
 1143 01bc 8A9E1940 		.word	1075420810
 1144 01c0 00000060 		.word	1610612736
 1145 01c4 A2AB5340 		.word	1079225250
 1146 01c8 C1CAA185 		.word	-2052994367
 1147 01cc 2062F03F 		.word	1072718368
 1148 01d0 00000000 		.word	0
 1149 01d4 236C2240 		.word	1075997731
 1150 01d8 7368916D 		.word	1838246003
 1151 01dc 81B6F03F 		.word	1072739969
 1152 01e0 00000000 		.word	.LANCHOR13
 1153 01e4 00000000 		.word	.LANCHOR14
 1154 01e8 00000000 		.word	.LANCHOR19
 1155 01ec 00000000 		.word	.LANCHOR20
 1156 01f0 00000060 		.word	1610612736
 1157 01f4 BC74833F 		.word	1065579708
 1158 01f8 000000E0 		.word	-536870912
 1159 01fc 4F8D873F 		.word	1065848143
 1160 0200 000000E0 		.word	-536870912
 1161 0204 BED5A23F 		.word	1067636158
 1162 0208 08AC1C5A 		.word	1511828488
 1163 020c D4DF9A3F 		.word	1067114452
 1164 0210 00000000 		.word	.LANCHOR15
 1165 0214 00000000 		.word	.LANCHOR16
 1166 0218 00000000 		.word	.LANCHOR17
 1167 021c 00000000 		.word	.LANCHOR18
 1168              		.cfi_endproc
 1169              	.LFE15:
 1171              		.section	.text.get_target_vol_sum_frontwall,"ax",%progbits
ARM GAS  C:\Temp\ccyo3Eiq.s 			page 28


 1172              		.align	1
 1173              		.global	get_target_vol_sum_frontwall
 1174              		.syntax unified
 1175              		.thumb
 1176              		.thumb_func
 1177              		.fpu fpv4-sp-d16
 1179              	get_target_vol_sum_frontwall:
 1180              	.LFB16:
 342:Src/adjust.c  **** 
 343:Src/adjust.c  **** //æ©Ÿèƒ½	: å‰å£è£œæ­£ã«ã‚ˆã‚‹ãƒ¢ãƒ¼ã‚¿å°åŠ é›»åœ§ã®å’Œã‚’å–å¾—ã™ã‚‹
 344:Src/adjust.c  **** //å¼•æ•°	: ãªã—
 345:Src/adjust.c  **** //è¿”ã‚Šå€¤	: å‰å£è£œæ­£ã«ã‚ˆã‚‹å³ãƒ¢ãƒ¼ã‚¿å°åŠ é›»åœ§
 346:Src/adjust.c  **** float get_target_vol_sum_frontwall ( void )
 347:Src/adjust.c  **** {
 1181              		.loc 1 347 1 is_stmt 1 view -0
 1182              		.cfi_startproc
 1183              		@ args = 0, pretend = 0, frame = 0
 1184              		@ frame_needed = 0, uses_anonymous_args = 0
 1185              		@ link register save eliminated.
 348:Src/adjust.c  **** 	return target_vol_sum_frontwall;
 1186              		.loc 1 348 2 view .LVU267
 349:Src/adjust.c  **** }
 1187              		.loc 1 349 1 is_stmt 0 view .LVU268
 1188 0000 014B     		ldr	r3, .L66
 1189 0002 93ED000A 		vldr.32	s0, [r3]
 1190 0006 7047     		bx	lr
 1191              	.L67:
 1192              		.align	2
 1193              	.L66:
 1194 0008 00000000 		.word	.LANCHOR19
 1195              		.cfi_endproc
 1196              	.LFE16:
 1198              		.section	.text.get_target_vol_diff_frontwall,"ax",%progbits
 1199              		.align	1
 1200              		.global	get_target_vol_diff_frontwall
 1201              		.syntax unified
 1202              		.thumb
 1203              		.thumb_func
 1204              		.fpu fpv4-sp-d16
 1206              	get_target_vol_diff_frontwall:
 1207              	.LFB17:
 350:Src/adjust.c  **** 
 351:Src/adjust.c  **** //æ©Ÿèƒ½	: å‰å£è£œæ­£ã«ã‚ˆã‚‹ãƒ¢ãƒ¼ã‚¿å°åŠ é›»åœ§ã®å·®ã‚’å–å¾—ã™ã‚‹
 352:Src/adjust.c  **** //å¼•æ•°	: ãªã—
 353:Src/adjust.c  **** //è¿”ã‚Šå€¤	: å‰å£è£œæ­£ã«ã‚ˆã‚‹å³ãƒ¢ãƒ¼ã‚¿å°åŠ é›»åœ§
 354:Src/adjust.c  **** float get_target_vol_diff_frontwall ( void )
 355:Src/adjust.c  **** {
 1208              		.loc 1 355 1 is_stmt 1 view -0
 1209              		.cfi_startproc
 1210              		@ args = 0, pretend = 0, frame = 0
 1211              		@ frame_needed = 0, uses_anonymous_args = 0
 1212              		@ link register save eliminated.
 356:Src/adjust.c  **** 	return target_vol_diff_frontwall;
 1213              		.loc 1 356 2 view .LVU270
 357:Src/adjust.c  **** }
 1214              		.loc 1 357 1 is_stmt 0 view .LVU271
 1215 0000 014B     		ldr	r3, .L69
ARM GAS  C:\Temp\ccyo3Eiq.s 			page 29


 1216 0002 93ED000A 		vldr.32	s0, [r3]
 1217 0006 7047     		bx	lr
 1218              	.L70:
 1219              		.align	2
 1220              	.L69:
 1221 0008 00000000 		.word	.LANCHOR20
 1222              		.cfi_endproc
 1223              	.LFE17:
 1225              		.section	.text.clr_frontwall_operate_history,"ax",%progbits
 1226              		.align	1
 1227              		.global	clr_frontwall_operate_history
 1228              		.syntax unified
 1229              		.thumb
 1230              		.thumb_func
 1231              		.fpu fpv4-sp-d16
 1233              	clr_frontwall_operate_history:
 1234              	.LFB18:
 358:Src/adjust.c  **** 
 359:Src/adjust.c  **** //æ©Ÿèƒ½	: å‰å£åˆ¶å¾¡ã®æ“ä½œå±¥æ­´ã‚’æ¶ˆã™
 360:Src/adjust.c  **** //å¼•æ•°	: ãªã—
 361:Src/adjust.c  **** //è¿”ã‚Šå€¤	: ãªã—
 362:Src/adjust.c  **** void clr_frontwall_operate_history ( void )
 363:Src/adjust.c  **** {
 1235              		.loc 1 363 1 is_stmt 1 view -0
 1236              		.cfi_startproc
 1237              		@ args = 0, pretend = 0, frame = 0
 1238              		@ frame_needed = 0, uses_anonymous_args = 0
 1239              		@ link register save eliminated.
 364:Src/adjust.c  **** 	front_sensor_move_err_I = 0;   		
 1240              		.loc 1 364 2 view .LVU273
 1241              		.loc 1 364 26 is_stmt 0 view .LVU274
 1242 0000 0022     		movs	r2, #0
 1243 0002 0023     		movs	r3, #0
 1244 0004 0949     		ldr	r1, .L72
 1245 0006 C1E90023 		strd	r2, [r1]
 365:Src/adjust.c  **** 	front_sensor_rotate_err_I = 0; 	  	
 1246              		.loc 1 365 2 is_stmt 1 view .LVU275
 1247              		.loc 1 365 28 is_stmt 0 view .LVU276
 1248 000a 0949     		ldr	r1, .L72+4
 1249 000c C1E90023 		strd	r2, [r1]
 366:Src/adjust.c  **** 	front_sensor_move_err_prev = 0;	   	
 1250              		.loc 1 366 2 is_stmt 1 view .LVU277
 1251              		.loc 1 366 29 is_stmt 0 view .LVU278
 1252 0010 0849     		ldr	r1, .L72+8
 1253 0012 C1E90023 		strd	r2, [r1]
 367:Src/adjust.c  **** 	front_sensor_rotate_err_prev = 0; 	
 1254              		.loc 1 367 2 is_stmt 1 view .LVU279
 1255              		.loc 1 367 31 is_stmt 0 view .LVU280
 1256 0016 0849     		ldr	r1, .L72+12
 1257 0018 C1E90023 		strd	r2, [r1]
 368:Src/adjust.c  **** 	front_sensor_move_D_prev = 0; 		
 1258              		.loc 1 368 2 is_stmt 1 view .LVU281
 1259              		.loc 1 368 27 is_stmt 0 view .LVU282
 1260 001c 0749     		ldr	r1, .L72+16
 1261 001e C1E90023 		strd	r2, [r1]
 369:Src/adjust.c  **** 	front_sensor_rotate_D_prev = 0;	   	
 1262              		.loc 1 369 2 is_stmt 1 view .LVU283
ARM GAS  C:\Temp\ccyo3Eiq.s 			page 30


 1263              		.loc 1 369 29 is_stmt 0 view .LVU284
 1264 0022 0749     		ldr	r1, .L72+20
 1265 0024 C1E90023 		strd	r2, [r1]
 370:Src/adjust.c  **** }
 1266              		.loc 1 370 1 view .LVU285
 1267 0028 7047     		bx	lr
 1268              	.L73:
 1269 002a 00BF     		.align	2
 1270              	.L72:
 1271 002c 00000000 		.word	.LANCHOR13
 1272 0030 00000000 		.word	.LANCHOR14
 1273 0034 00000000 		.word	.LANCHOR15
 1274 0038 00000000 		.word	.LANCHOR17
 1275 003c 00000000 		.word	.LANCHOR16
 1276 0040 00000000 		.word	.LANCHOR18
 1277              		.cfi_endproc
 1278              	.LFE18:
 1280              		.global	__aeabi_dcmplt
 1281              		.global	__aeabi_dcmpgt
 1282              		.section	.text.fornt_wall_calibrate,"ax",%progbits
 1283              		.align	1
 1284              		.global	fornt_wall_calibrate
 1285              		.syntax unified
 1286              		.thumb
 1287              		.thumb_func
 1288              		.fpu fpv4-sp-d16
 1290              	fornt_wall_calibrate:
 1291              	.LFB19:
 371:Src/adjust.c  **** 
 372:Src/adjust.c  **** 
 373:Src/adjust.c  **** ////////////////////////////////////////
 374:Src/adjust.c  **** /* ãƒã‚¦ã‚¹ä½ç½®è£œæ­£é–¢æ•°		ã€€			*/
 375:Src/adjust.c  **** /* å£ã‚’ä½¿ã£ãŸä½ç½®ã®è£œæ­£ç”¨é–¢æ•°			*/
 376:Src/adjust.c  **** ////////////////////////////////////////
 377:Src/adjust.c  **** 
 378:Src/adjust.c  **** /* memo:å‰å£è£œæ­£
 379:Src/adjust.c  ****  * param:
 380:Src/adjust.c  ****  *  * */
 381:Src/adjust.c  **** void fornt_wall_calibrate (void)
 382:Src/adjust.c  **** {
 1292              		.loc 1 382 1 is_stmt 1 view -0
 1293              		.cfi_startproc
 1294              		@ args = 0, pretend = 0, frame = 0
 1295              		@ frame_needed = 0, uses_anonymous_args = 0
 1296 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 1297              	.LCFI11:
 1298              		.cfi_def_cfa_offset 24
 1299              		.cfi_offset 3, -24
 1300              		.cfi_offset 4, -20
 1301              		.cfi_offset 5, -16
 1302              		.cfi_offset 6, -12
 1303              		.cfi_offset 7, -8
 1304              		.cfi_offset 14, -4
 383:Src/adjust.c  **** 	double temp_r;
 1305              		.loc 1 383 2 view .LVU287
 384:Src/adjust.c  **** 	double temp_l;
 1306              		.loc 1 384 2 view .LVU288
ARM GAS  C:\Temp\ccyo3Eiq.s 			page 31


 385:Src/adjust.c  **** 	double temp;
 1307              		.loc 1 385 2 view .LVU289
 386:Src/adjust.c  **** 
 387:Src/adjust.c  **** 	set_mode_ctrl(front_wall); 		//åˆ¶å¾¡ãƒ¢ãƒ¼ãƒ‰ã‚’å‰å£è£œæ­£ãƒ¢ãƒ¼ãƒ‰ã«
 1308              		.loc 1 387 2 view .LVU290
 1309 0002 0120     		movs	r0, #1
 1310 0004 FFF7FEFF 		bl	set_mode_ctrl
 1311              	.LVL112:
 388:Src/adjust.c  **** 	fornt_wall_calibrate_tim = 0; 	//å‰å£åˆ¶å¾¡ç”¨ã‚¿ã‚¤ãƒã‚’åˆæœŸåŒ–
 1312              		.loc 1 388 2 view .LVU291
 1313              		.loc 1 388 27 is_stmt 0 view .LVU292
 1314 0008 454B     		ldr	r3, .L97+24
 1315 000a 0022     		movs	r2, #0
 1316 000c 1A80     		strh	r2, [r3]	@ movhi
 1317 000e 22E0     		b	.L85
 1318              	.L94:
 389:Src/adjust.c  **** 
 390:Src/adjust.c  **** 	while(1)
 391:Src/adjust.c  **** 	{
 392:Src/adjust.c  **** 		//åå·®å–å¾—
 393:Src/adjust.c  **** 		temp_r = ABS(front_sensor_r_ref - SensorValue2length(3));
 1319              		.loc 1 393 12 discriminator 1 view .LVU293
 1320 0010 0320     		movs	r0, #3
 1321 0012 FFF7FEFF 		bl	SensorValue2length
 1322              	.LVL113:
 1323 0016 53EC102B 		vmov	r2, r3, d0
 1324 001a 3BA1     		adr	r1, .L97
 1325 001c D1E90001 		ldrd	r0, [r1]
 1326 0020 FFF7FEFF 		bl	__aeabi_dsub
 1327              	.LVL114:
 1328 0024 0646     		mov	r6, r0
 1329 0026 01F10047 		add	r7, r1, #-2147483648
 1330 002a 30E0     		b	.L77
 1331              	.LVL115:
 1332              	.L95:
 394:Src/adjust.c  **** 		temp_l = ABS(front_sensor_l_ref - SensorValue2length(0));
 1333              		.loc 1 394 12 discriminator 1 view .LVU294
 1334 002c 0020     		movs	r0, #0
 1335 002e FFF7FEFF 		bl	SensorValue2length
 1336              	.LVL116:
 1337 0032 53EC102B 		vmov	r2, r3, d0
 1338 0036 36A1     		adr	r1, .L97+8
 1339 0038 D1E90001 		ldrd	r0, [r1]
 1340 003c FFF7FEFF 		bl	__aeabi_dsub
 1341              	.LVL117:
 1342 0040 0446     		mov	r4, r0
 1343 0042 01F10045 		add	r5, r1, #-2147483648
 1344 0046 3EE0     		b	.L80
 1345              	.LVL118:
 1346              	.L96:
 395:Src/adjust.c  **** 		//åå·®ã®æœ€å¤§å€¤å–å¾—
 396:Src/adjust.c  **** 		temp = MAX(temp_r,temp_l);
 397:Src/adjust.c  **** 		//ã‚»ãƒ³ã‚µå€¤ãŒåŸºæº–ã‚ˆã‚Šå·®ã‚’æŒã¤ã¨ãã€ã‚¿ã‚¤ãƒã‚’ãƒªã‚»ãƒƒãƒˆ
 398:Src/adjust.c  **** 		if(temp > front_sensor_th)
 399:Src/adjust.c  **** 		{
 400:Src/adjust.c  **** 		 fornt_wall_calibrate_tim = 0;
 1347              		.loc 1 400 4 is_stmt 1 view .LVU295
ARM GAS  C:\Temp\ccyo3Eiq.s 			page 32


 1348              		.loc 1 400 29 is_stmt 0 view .LVU296
 1349 0048 354B     		ldr	r3, .L97+24
 1350 004a 0022     		movs	r2, #0
 1351 004c 1A80     		strh	r2, [r3]	@ movhi
 1352              	.L83:
 401:Src/adjust.c  **** 		}
 402:Src/adjust.c  **** 		//ã‚­ãƒ£ãƒªãƒ–ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³æ™‚é–“ã‚’è¶…ãˆã‚‹ã¨ãã€ãƒ–ãƒ¬ã‚¤ã‚¯
 403:Src/adjust.c  **** 		if(fornt_wall_calibrate_tim >= calib_tim )
 1353              		.loc 1 403 3 is_stmt 1 view .LVU297
 1354              		.loc 1 403 31 is_stmt 0 view .LVU298
 1355 004e 344B     		ldr	r3, .L97+24
 1356 0050 1B88     		ldrh	r3, [r3]
 1357              		.loc 1 403 5 view .LVU299
 1358 0052 632B     		cmp	r3, #99
 1359 0054 4AD8     		bhi	.L93
 1360              	.LVL119:
 1361              	.L85:
 390:Src/adjust.c  **** 	{
 1362              		.loc 1 390 2 is_stmt 1 view .LVU300
 393:Src/adjust.c  **** 		temp_l = ABS(front_sensor_l_ref - SensorValue2length(0));
 1363              		.loc 1 393 3 view .LVU301
 393:Src/adjust.c  **** 		temp_l = ABS(front_sensor_l_ref - SensorValue2length(0));
 1364              		.loc 1 393 12 is_stmt 0 view .LVU302
 1365 0056 0320     		movs	r0, #3
 1366 0058 FFF7FEFF 		bl	SensorValue2length
 1367              	.LVL120:
 1368 005c 53EC102B 		vmov	r2, r3, d0
 1369 0060 29A1     		adr	r1, .L97
 1370 0062 D1E90001 		ldrd	r0, [r1]
 1371 0066 FFF7FEFF 		bl	__aeabi_dsub
 1372              	.LVL121:
 1373 006a 0022     		movs	r2, #0
 1374 006c 0023     		movs	r3, #0
 1375 006e FFF7FEFF 		bl	__aeabi_dcmplt
 1376              	.LVL122:
 1377 0072 0028     		cmp	r0, #0
 1378 0074 CCD1     		bne	.L94
 393:Src/adjust.c  **** 		temp_l = ABS(front_sensor_l_ref - SensorValue2length(0));
 1379              		.loc 1 393 12 discriminator 2 view .LVU303
 1380 0076 0320     		movs	r0, #3
 1381 0078 FFF7FEFF 		bl	SensorValue2length
 1382              	.LVL123:
 1383 007c 53EC102B 		vmov	r2, r3, d0
 1384 0080 21A1     		adr	r1, .L97
 1385 0082 D1E90001 		ldrd	r0, [r1]
 1386 0086 FFF7FEFF 		bl	__aeabi_dsub
 1387              	.LVL124:
 1388 008a 0646     		mov	r6, r0
 1389 008c 0F46     		mov	r7, r1
 1390              	.L77:
 1391              	.LVL125:
 394:Src/adjust.c  **** 		//åå·®ã®æœ€å¤§å€¤å–å¾—
 1392              		.loc 1 394 3 is_stmt 1 discriminator 4 view .LVU304
 394:Src/adjust.c  **** 		//åå·®ã®æœ€å¤§å€¤å–å¾—
 1393              		.loc 1 394 12 is_stmt 0 discriminator 4 view .LVU305
 1394 008e 0020     		movs	r0, #0
 1395 0090 FFF7FEFF 		bl	SensorValue2length
ARM GAS  C:\Temp\ccyo3Eiq.s 			page 33


 1396              	.LVL126:
 1397 0094 53EC102B 		vmov	r2, r3, d0
 1398 0098 1DA1     		adr	r1, .L97+8
 1399 009a D1E90001 		ldrd	r0, [r1]
 1400 009e FFF7FEFF 		bl	__aeabi_dsub
 1401              	.LVL127:
 1402 00a2 0022     		movs	r2, #0
 1403 00a4 0023     		movs	r3, #0
 1404 00a6 FFF7FEFF 		bl	__aeabi_dcmplt
 1405              	.LVL128:
 1406 00aa 0028     		cmp	r0, #0
 1407 00ac BED1     		bne	.L95
 394:Src/adjust.c  **** 		//åå·®ã®æœ€å¤§å€¤å–å¾—
 1408              		.loc 1 394 12 discriminator 2 view .LVU306
 1409 00ae 0020     		movs	r0, #0
 1410 00b0 FFF7FEFF 		bl	SensorValue2length
 1411              	.LVL129:
 1412 00b4 53EC102B 		vmov	r2, r3, d0
 1413 00b8 15A1     		adr	r1, .L97+8
 1414 00ba D1E90001 		ldrd	r0, [r1]
 1415 00be FFF7FEFF 		bl	__aeabi_dsub
 1416              	.LVL130:
 1417 00c2 0446     		mov	r4, r0
 1418 00c4 0D46     		mov	r5, r1
 1419              	.L80:
 1420              	.LVL131:
 396:Src/adjust.c  **** 		//ã‚»ãƒ³ã‚µå€¤ãŒåŸºæº–ã‚ˆã‚Šå·®ã‚’æŒã¤ã¨ãã€ã‚¿ã‚¤ãƒã‚’ãƒªã‚»ãƒƒãƒˆ
 1421              		.loc 1 396 3 is_stmt 1 discriminator 4 view .LVU307
 396:Src/adjust.c  **** 		//ã‚»ãƒ³ã‚µå€¤ãŒåŸºæº–ã‚ˆã‚Šå·®ã‚’æŒã¤ã¨ãã€ã‚¿ã‚¤ãƒã‚’ãƒªã‚»ãƒƒãƒˆ
 1422              		.loc 1 396 10 is_stmt 0 discriminator 4 view .LVU308
 1423 00c6 2246     		mov	r2, r4
 1424 00c8 2B46     		mov	r3, r5
 1425 00ca 3046     		mov	r0, r6
 1426 00cc 3946     		mov	r1, r7
 1427 00ce FFF7FEFF 		bl	__aeabi_dcmpgt
 1428              	.LVL132:
 1429 00d2 08B1     		cbz	r0, .L81
 396:Src/adjust.c  **** 		//ã‚»ãƒ³ã‚µå€¤ãŒåŸºæº–ã‚ˆã‚Šå·®ã‚’æŒã¤ã¨ãã€ã‚¿ã‚¤ãƒã‚’ãƒªã‚»ãƒƒãƒˆ
 1430              		.loc 1 396 10 view .LVU309
 1431 00d4 3446     		mov	r4, r6
 1432              	.LVL133:
 396:Src/adjust.c  **** 		//ã‚»ãƒ³ã‚µå€¤ãŒåŸºæº–ã‚ˆã‚Šå·®ã‚’æŒã¤ã¨ãã€ã‚¿ã‚¤ãƒã‚’ãƒªã‚»ãƒƒãƒˆ
 1433              		.loc 1 396 10 view .LVU310
 1434 00d6 3D46     		mov	r5, r7
 1435              	.L81:
 1436              	.LVL134:
 398:Src/adjust.c  **** 		{
 1437              		.loc 1 398 3 is_stmt 1 discriminator 4 view .LVU311
 398:Src/adjust.c  **** 		{
 1438              		.loc 1 398 5 is_stmt 0 discriminator 4 view .LVU312
 1439 00d8 0FA3     		adr	r3, .L97+16
 1440 00da D3E90023 		ldrd	r2, [r3]
 1441 00de 2046     		mov	r0, r4
 1442 00e0 2946     		mov	r1, r5
 1443 00e2 FFF7FEFF 		bl	__aeabi_dcmpgt
 1444              	.LVL135:
 1445 00e6 0028     		cmp	r0, #0
ARM GAS  C:\Temp\ccyo3Eiq.s 			page 34


 1446 00e8 B1D0     		beq	.L83
 1447 00ea ADE7     		b	.L96
 1448              	.L93:
 404:Src/adjust.c  **** 		{
 405:Src/adjust.c  **** 		 break;
 406:Src/adjust.c  **** 		}
 407:Src/adjust.c  **** 	}
 408:Src/adjust.c  **** 	//è£œæ­£çµ‚äº†æ™‚ã€ç§»å‹•è·é›¢ã€è§’åº¦ã«ç†æƒ³å€¤ã‚’ä»£å…¥
 409:Src/adjust.c  **** 	set_move_length(get_ideal_length());
 1449              		.loc 1 409 2 is_stmt 1 view .LVU313
 1450 00ec FFF7FEFF 		bl	get_ideal_length
 1451              	.LVL136:
 1452 00f0 FFF7FEFF 		bl	set_move_length
 1453              	.LVL137:
 410:Src/adjust.c  **** 	set_rotation_angle(get_ideal_angle());
 1454              		.loc 1 410 2 view .LVU314
 1455 00f4 FFF7FEFF 		bl	get_ideal_angle
 1456              	.LVL138:
 1457 00f8 FFF7FEFF 		bl	set_rotation_angle
 1458              	.LVL139:
 411:Src/adjust.c  **** 	
 412:Src/adjust.c  **** 	//åˆ¶å¾¡ãƒ¢ãƒ¼ãƒ‰ã‚’è»Œè·¡åˆ¶å¾¡ã«å¤‰æ›´
 413:Src/adjust.c  **** 	set_mode_ctrl(trace);
 1459              		.loc 1 413 2 view .LVU315
 1460 00fc 0020     		movs	r0, #0
 1461 00fe FFF7FEFF 		bl	set_mode_ctrl
 1462              	.LVL140:
 414:Src/adjust.c  **** }
 1463              		.loc 1 414 1 is_stmt 0 view .LVU316
 1464 0102 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1465              	.LVL141:
 1466              	.L98:
 1467              		.loc 1 414 1 view .LVU317
 1468 0104 AFF30080 		.align	3
 1469              	.L97:
 1470 0108 000000E0 		.word	-536870912
 1471 010c 4F8D873F 		.word	1065848143
 1472 0110 00000060 		.word	1610612736
 1473 0114 BC74833F 		.word	1065579708
 1474 0118 61325530 		.word	810889825
 1475 011c 2AA9333F 		.word	1060350250
 1476 0120 00000000 		.word	.LANCHOR21
 1477              		.cfi_endproc
 1478              	.LFE19:
 1480              		.section	.text.calibrate_tim,"ax",%progbits
 1481              		.align	1
 1482              		.global	calibrate_tim
 1483              		.syntax unified
 1484              		.thumb
 1485              		.thumb_func
 1486              		.fpu fpv4-sp-d16
 1488              	calibrate_tim:
 1489              	.LFB20:
 415:Src/adjust.c  **** 
 416:Src/adjust.c  **** /* memo:å‰å£è£œæ­£ç”¨ã‚¿ã‚¤ãƒ
 417:Src/adjust.c  ****  * param:
 418:Src/adjust.c  ****  *  * */
ARM GAS  C:\Temp\ccyo3Eiq.s 			page 35


 419:Src/adjust.c  **** void calibrate_tim (void){
 1490              		.loc 1 419 26 is_stmt 1 view -0
 1491              		.cfi_startproc
 1492              		@ args = 0, pretend = 0, frame = 0
 1493              		@ frame_needed = 0, uses_anonymous_args = 0
 1494              		@ link register save eliminated.
 420:Src/adjust.c  **** 
 421:Src/adjust.c  **** 	fornt_wall_calibrate_tim += 1;
 1495              		.loc 1 421 2 view .LVU319
 1496              		.loc 1 421 27 is_stmt 0 view .LVU320
 1497 0000 054A     		ldr	r2, .L101
 1498 0002 1388     		ldrh	r3, [r2]
 1499 0004 0133     		adds	r3, r3, #1
 1500 0006 9BB2     		uxth	r3, r3
 1501 0008 1380     		strh	r3, [r2]	@ movhi
 422:Src/adjust.c  **** 
 423:Src/adjust.c  **** 	if(fornt_wall_calibrate_tim > calib_tim){
 1502              		.loc 1 423 2 is_stmt 1 view .LVU321
 1503              		.loc 1 423 4 is_stmt 0 view .LVU322
 1504 000a 642B     		cmp	r3, #100
 1505 000c 02D9     		bls	.L99
 424:Src/adjust.c  **** 		fornt_wall_calibrate_tim = calib_tim;
 1506              		.loc 1 424 3 is_stmt 1 view .LVU323
 1507              		.loc 1 424 28 is_stmt 0 view .LVU324
 1508 000e 1346     		mov	r3, r2
 1509 0010 6422     		movs	r2, #100
 1510 0012 1A80     		strh	r2, [r3]	@ movhi
 1511              	.L99:
 425:Src/adjust.c  **** 	}
 426:Src/adjust.c  **** }
 1512              		.loc 1 426 1 view .LVU325
 1513 0014 7047     		bx	lr
 1514              	.L102:
 1515 0016 00BF     		.align	2
 1516              	.L101:
 1517 0018 00000000 		.word	.LANCHOR21
 1518              		.cfi_endproc
 1519              	.LFE20:
 1521              		.section	.text.adjust_1ms,"ax",%progbits
 1522              		.align	1
 1523              		.global	adjust_1ms
 1524              		.syntax unified
 1525              		.thumb
 1526              		.thumb_func
 1527              		.fpu fpv4-sp-d16
 1529              	adjust_1ms:
 1530              	.LFB3:
  37:Src/adjust.c  **** 	set_target_side_sensor();		//åˆæœŸä½ç½®ã®ã‚»ãƒ³ã‚µå€¤ã‚’æ¨ªå£åˆ¶å¾¡ç›®æ¨™å€¤ã«ã‚»ãƒƒãƒˆ
 1531              		.loc 1 37 1 is_stmt 1 view -0
 1532              		.cfi_startproc
 1533              		@ args = 0, pretend = 0, frame = 0
 1534              		@ frame_needed = 0, uses_anonymous_args = 0
 1535 0000 08B5     		push	{r3, lr}
 1536              	.LCFI12:
 1537              		.cfi_def_cfa_offset 8
 1538              		.cfi_offset 3, -8
 1539              		.cfi_offset 14, -4
ARM GAS  C:\Temp\ccyo3Eiq.s 			page 36


  38:Src/adjust.c  **** 	calc_side_wall_ctrl_mode();		//æ¨ªå£è£œæ­£ã®ãƒ¢ãƒ¼ãƒ‰ã‚’æ±ºå®š
 1540              		.loc 1 38 2 view .LVU327
 1541 0002 FFF7FEFF 		bl	set_target_side_sensor
 1542              	.LVL142:
  39:Src/adjust.c  **** 	adjust_theta_side_wall();		//æ¨ªå£è£œæ­£ã®ãƒ¢ãƒ¼ãƒ‰ã«å¿œã˜ã€è»Œè·¡åˆ¶å¾¡ã«ãŠã‘ã‚‹è§’åº¦ã‚’
 1543              		.loc 1 39 2 view .LVU328
 1544 0006 FFF7FEFF 		bl	calc_side_wall_ctrl_mode
 1545              	.LVL143:
  40:Src/adjust.c  **** 	calc_motor_vol_side_wall();		//æ¨ªå£è£œæ­£ã«ãŠã‘ã‚‹å°åŠ é›»åœ§è¨ˆç®—
 1546              		.loc 1 40 2 view .LVU329
  41:Src/adjust.c  **** 	calc_motor_vol_front_wall();	//å‰å£åˆ¶å¾¡ã«ãŠã‘ã‚‹å°åŠ é›»åœ§è¨ˆç®—
 1547              		.loc 1 41 2 view .LVU330
 1548 000a FFF7FEFF 		bl	calc_motor_vol_side_wall
 1549              	.LVL144:
  42:Src/adjust.c  **** 	calibrate_tim();				//å‰å£åˆ¶å¾¡ç”¨ã‚¿ã‚¤ãƒ
 1550              		.loc 1 42 2 view .LVU331
 1551 000e FFF7FEFF 		bl	calc_motor_vol_front_wall
 1552              	.LVL145:
  43:Src/adjust.c  **** }
 1553              		.loc 1 43 2 view .LVU332
 1554 0012 FFF7FEFF 		bl	calibrate_tim
 1555              	.LVL146:
  44:Src/adjust.c  **** 
 1556              		.loc 1 44 1 is_stmt 0 view .LVU333
 1557 0016 08BD     		pop	{r3, pc}
 1558              		.cfi_endproc
 1559              	.LFE3:
 1561              		.section	.bss.ave_counter.7300,"aw",%nobits
 1562              		.align	1
 1563              		.set	.LANCHOR8,. + 0
 1566              	ave_counter.7300:
 1567 0000 0000     		.space	2
 1568              		.section	.bss.ave_store.7299,"aw",%nobits
 1569              		.align	2
 1570              		.set	.LANCHOR9,. + 0
 1573              	ave_store.7299:
 1574 0000 00000000 		.space	40
 1574      00000000 
 1574      00000000 
 1574      00000000 
 1574      00000000 
 1575              		.section	.bss.fornt_wall_calibrate_tim,"aw",%nobits
 1576              		.align	1
 1577              		.set	.LANCHOR21,. + 0
 1580              	fornt_wall_calibrate_tim:
 1581 0000 0000     		.space	2
 1582              		.section	.bss.front_sensor_move_D_prev,"aw",%nobits
 1583              		.align	3
 1584              		.set	.LANCHOR16,. + 0
 1587              	front_sensor_move_D_prev:
 1588 0000 00000000 		.space	8
 1588      00000000 
 1589              		.section	.bss.front_sensor_move_err_I,"aw",%nobits
 1590              		.align	3
 1591              		.set	.LANCHOR13,. + 0
 1594              	front_sensor_move_err_I:
 1595 0000 00000000 		.space	8
ARM GAS  C:\Temp\ccyo3Eiq.s 			page 37


 1595      00000000 
 1596              		.section	.bss.front_sensor_move_err_prev,"aw",%nobits
 1597              		.align	3
 1598              		.set	.LANCHOR15,. + 0
 1601              	front_sensor_move_err_prev:
 1602 0000 00000000 		.space	8
 1602      00000000 
 1603              		.section	.bss.front_sensor_rotate_D_prev,"aw",%nobits
 1604              		.align	3
 1605              		.set	.LANCHOR18,. + 0
 1608              	front_sensor_rotate_D_prev:
 1609 0000 00000000 		.space	8
 1609      00000000 
 1610              		.section	.bss.front_sensor_rotate_err_I,"aw",%nobits
 1611              		.align	3
 1612              		.set	.LANCHOR14,. + 0
 1615              	front_sensor_rotate_err_I:
 1616 0000 00000000 		.space	8
 1616      00000000 
 1617              		.section	.bss.front_sensor_rotate_err_prev,"aw",%nobits
 1618              		.align	3
 1619              		.set	.LANCHOR17,. + 0
 1622              	front_sensor_rotate_err_prev:
 1623 0000 00000000 		.space	8
 1623      00000000 
 1624              		.section	.bss.side_sensor_l_old.7288,"aw",%nobits
 1625              		.align	1
 1626              		.set	.LANCHOR6,. + 0
 1629              	side_sensor_l_old.7288:
 1630 0000 0000     		.space	2
 1631              		.section	.bss.side_sensor_l_th,"aw",%nobits
 1632              		.align	1
 1633              		.set	.LANCHOR3,. + 0
 1636              	side_sensor_l_th:
 1637 0000 0000     		.space	2
 1638              		.section	.bss.side_sensor_r_old.7287,"aw",%nobits
 1639              		.align	1
 1640              		.set	.LANCHOR7,. + 0
 1643              	side_sensor_r_old.7287:
 1644 0000 0000     		.space	2
 1645              		.section	.bss.side_sensor_r_th,"aw",%nobits
 1646              		.align	1
 1647              		.set	.LANCHOR4,. + 0
 1650              	side_sensor_r_th:
 1651 0000 0000     		.space	2
 1652              		.section	.bss.side_wall_err_D_prev.7331,"aw",%nobits
 1653              		.align	3
 1654              		.set	.LANCHOR11,. + 0
 1657              	side_wall_err_D_prev.7331:
 1658 0000 00000000 		.space	8
 1658      00000000 
 1659              		.section	.bss.side_wall_err_prev.7330,"aw",%nobits
 1660              		.align	3
 1661              		.set	.LANCHOR10,. + 0
 1664              	side_wall_err_prev.7330:
 1665 0000 00000000 		.space	8
 1665      00000000 
ARM GAS  C:\Temp\ccyo3Eiq.s 			page 38


 1666              		.section	.bss.target_sensor_sl,"aw",%nobits
 1667              		.align	3
 1668              		.set	.LANCHOR1,. + 0
 1671              	target_sensor_sl:
 1672 0000 00000000 		.space	8
 1672      00000000 
 1673              		.section	.bss.target_sensor_sr,"aw",%nobits
 1674              		.align	3
 1675              		.set	.LANCHOR2,. + 0
 1678              	target_sensor_sr:
 1679 0000 00000000 		.space	8
 1679      00000000 
 1680              		.section	.bss.target_set_flg.7266,"aw",%nobits
 1681              		.set	.LANCHOR0,. + 0
 1684              	target_set_flg.7266:
 1685 0000 00       		.space	1
 1686              		.section	.bss.target_vol_diff_frontwall,"aw",%nobits
 1687              		.align	2
 1688              		.set	.LANCHOR20,. + 0
 1691              	target_vol_diff_frontwall:
 1692 0000 00000000 		.space	4
 1693              		.section	.bss.target_vol_diff_sidewall,"aw",%nobits
 1694              		.align	2
 1695              		.set	.LANCHOR12,. + 0
 1698              	target_vol_diff_sidewall:
 1699 0000 00000000 		.space	4
 1700              		.section	.bss.target_vol_sum_frontwall,"aw",%nobits
 1701              		.align	2
 1702              		.set	.LANCHOR19,. + 0
 1705              	target_vol_sum_frontwall:
 1706 0000 00000000 		.space	4
 1707              		.section	.data.side_wall_ctrl_mode,"aw"
 1708              		.set	.LANCHOR5,. + 0
 1711              	side_wall_ctrl_mode:
 1712 0000 03       		.byte	3
 1713              		.text
 1714              	.Letext0:
 1715              		.file 2 "c:\\tools\\gcc-arm-none-eabi-9-2019-q4-major\\arm-none-eabi\\include\\machine\\_default_t
 1716              		.file 3 "c:\\tools\\gcc-arm-none-eabi-9-2019-q4-major\\arm-none-eabi\\include\\sys\\lock.h"
 1717              		.file 4 "c:\\tools\\gcc-arm-none-eabi-9-2019-q4-major\\arm-none-eabi\\include\\sys\\_types.h"
 1718              		.file 5 "c:\\tools\\gcc-arm-none-eabi-9-2019-q4-major\\lib\\gcc\\arm-none-eabi\\9.2.1\\include\\st
 1719              		.file 6 "c:\\tools\\gcc-arm-none-eabi-9-2019-q4-major\\arm-none-eabi\\include\\sys\\reent.h"
 1720              		.file 7 "c:\\tools\\gcc-arm-none-eabi-9-2019-q4-major\\arm-none-eabi\\include\\sys\\_stdint.h"
 1721              		.file 8 "Inc/adjust.h"
 1722              		.file 9 "Inc/exvol.h"
 1723              		.file 10 "c:\\tools\\gcc-arm-none-eabi-9-2019-q4-major\\arm-none-eabi\\include\\math.h"
 1724              		.file 11 "Inc/ir_sensor.h"
 1725              		.file 12 "Inc/target.h"
 1726              		.file 13 "Inc/mouse_state.h"
ARM GAS  C:\Temp\ccyo3Eiq.s 			page 39


DEFINED SYMBOLS
                            *ABS*:00000000 adjust.c
  C:\Temp\ccyo3Eiq.s:18     .text.set_target_side_sensor:00000000 $t
  C:\Temp\ccyo3Eiq.s:26     .text.set_target_side_sensor:00000000 set_target_side_sensor
  C:\Temp\ccyo3Eiq.s:75     .text.set_target_side_sensor:0000002c $d
  C:\Temp\ccyo3Eiq.s:83     .text.get_target_sensor_sr:00000000 $t
  C:\Temp\ccyo3Eiq.s:90     .text.get_target_sensor_sr:00000000 get_target_sensor_sr
  C:\Temp\ccyo3Eiq.s:113    .text.get_target_sensor_sr:00000014 $d
  C:\Temp\ccyo3Eiq.s:118    .text.get_target_sensor_sl:00000000 $t
  C:\Temp\ccyo3Eiq.s:125    .text.get_target_sensor_sl:00000000 get_target_sensor_sl
  C:\Temp\ccyo3Eiq.s:148    .text.get_target_sensor_sl:00000014 $d
  C:\Temp\ccyo3Eiq.s:153    .text.get_side_sensor_l_th:00000000 $t
  C:\Temp\ccyo3Eiq.s:160    .text.get_side_sensor_l_th:00000000 get_side_sensor_l_th
  C:\Temp\ccyo3Eiq.s:175    .text.get_side_sensor_l_th:00000008 $d
  C:\Temp\ccyo3Eiq.s:180    .text.get_side_sensor_r_th:00000000 $t
  C:\Temp\ccyo3Eiq.s:187    .text.get_side_sensor_r_th:00000000 get_side_sensor_r_th
  C:\Temp\ccyo3Eiq.s:202    .text.get_side_sensor_r_th:00000008 $d
  C:\Temp\ccyo3Eiq.s:207    .text.get_side_wall_ctrl_mode:00000000 $t
  C:\Temp\ccyo3Eiq.s:214    .text.get_side_wall_ctrl_mode:00000000 get_side_wall_ctrl_mode
  C:\Temp\ccyo3Eiq.s:229    .text.get_side_wall_ctrl_mode:00000008 $d
  C:\Temp\ccyo3Eiq.s:234    .text.calc_side_wall_ctrl_mode:00000000 $t
  C:\Temp\ccyo3Eiq.s:241    .text.calc_side_wall_ctrl_mode:00000000 calc_side_wall_ctrl_mode
  C:\Temp\ccyo3Eiq.s:498    .text.calc_side_wall_ctrl_mode:0000011c $d
  C:\Temp\ccyo3Eiq.s:513    .text.get_side_wall_err:00000000 $t
  C:\Temp\ccyo3Eiq.s:520    .text.get_side_wall_err:00000000 get_side_wall_err
  C:\Temp\ccyo3Eiq.s:647    .text.get_side_wall_err:000000b0 $d
  C:\Temp\ccyo3Eiq.s:656    .text.adjust_theta_side_wall:00000000 $t
  C:\Temp\ccyo3Eiq.s:663    .text.adjust_theta_side_wall:00000000 adjust_theta_side_wall
  C:\Temp\ccyo3Eiq.s:678    .text.calc_motor_vol_side_wall:00000000 $t
  C:\Temp\ccyo3Eiq.s:685    .text.calc_motor_vol_side_wall:00000000 calc_motor_vol_side_wall
  C:\Temp\ccyo3Eiq.s:782    .text.calc_motor_vol_side_wall:00000078 $d
  C:\Temp\ccyo3Eiq.s:794    .text.get_target_vol_diff_sidewall:00000000 $t
  C:\Temp\ccyo3Eiq.s:801    .text.get_target_vol_diff_sidewall:00000000 get_target_vol_diff_sidewall
  C:\Temp\ccyo3Eiq.s:816    .text.get_target_vol_diff_sidewall:00000008 $d
  C:\Temp\ccyo3Eiq.s:821    .text.calc_motor_vol_front_wall:00000000 $t
  C:\Temp\ccyo3Eiq.s:828    .text.calc_motor_vol_front_wall:00000000 calc_motor_vol_front_wall
  C:\Temp\ccyo3Eiq.s:1138   .text.calc_motor_vol_front_wall:000001a8 $d
  C:\Temp\ccyo3Eiq.s:1172   .text.get_target_vol_sum_frontwall:00000000 $t
  C:\Temp\ccyo3Eiq.s:1179   .text.get_target_vol_sum_frontwall:00000000 get_target_vol_sum_frontwall
  C:\Temp\ccyo3Eiq.s:1194   .text.get_target_vol_sum_frontwall:00000008 $d
  C:\Temp\ccyo3Eiq.s:1199   .text.get_target_vol_diff_frontwall:00000000 $t
  C:\Temp\ccyo3Eiq.s:1206   .text.get_target_vol_diff_frontwall:00000000 get_target_vol_diff_frontwall
  C:\Temp\ccyo3Eiq.s:1221   .text.get_target_vol_diff_frontwall:00000008 $d
  C:\Temp\ccyo3Eiq.s:1226   .text.clr_frontwall_operate_history:00000000 $t
  C:\Temp\ccyo3Eiq.s:1233   .text.clr_frontwall_operate_history:00000000 clr_frontwall_operate_history
  C:\Temp\ccyo3Eiq.s:1271   .text.clr_frontwall_operate_history:0000002c $d
  C:\Temp\ccyo3Eiq.s:1283   .text.fornt_wall_calibrate:00000000 $t
  C:\Temp\ccyo3Eiq.s:1290   .text.fornt_wall_calibrate:00000000 fornt_wall_calibrate
  C:\Temp\ccyo3Eiq.s:1470   .text.fornt_wall_calibrate:00000108 $d
  C:\Temp\ccyo3Eiq.s:1481   .text.calibrate_tim:00000000 $t
  C:\Temp\ccyo3Eiq.s:1488   .text.calibrate_tim:00000000 calibrate_tim
  C:\Temp\ccyo3Eiq.s:1517   .text.calibrate_tim:00000018 $d
  C:\Temp\ccyo3Eiq.s:1522   .text.adjust_1ms:00000000 $t
  C:\Temp\ccyo3Eiq.s:1529   .text.adjust_1ms:00000000 adjust_1ms
  C:\Temp\ccyo3Eiq.s:1562   .bss.ave_counter.7300:00000000 $d
  C:\Temp\ccyo3Eiq.s:1566   .bss.ave_counter.7300:00000000 ave_counter.7300
  C:\Temp\ccyo3Eiq.s:1569   .bss.ave_store.7299:00000000 $d
ARM GAS  C:\Temp\ccyo3Eiq.s 			page 40


  C:\Temp\ccyo3Eiq.s:1573   .bss.ave_store.7299:00000000 ave_store.7299
  C:\Temp\ccyo3Eiq.s:1576   .bss.fornt_wall_calibrate_tim:00000000 $d
  C:\Temp\ccyo3Eiq.s:1580   .bss.fornt_wall_calibrate_tim:00000000 fornt_wall_calibrate_tim
  C:\Temp\ccyo3Eiq.s:1583   .bss.front_sensor_move_D_prev:00000000 $d
  C:\Temp\ccyo3Eiq.s:1587   .bss.front_sensor_move_D_prev:00000000 front_sensor_move_D_prev
  C:\Temp\ccyo3Eiq.s:1590   .bss.front_sensor_move_err_I:00000000 $d
  C:\Temp\ccyo3Eiq.s:1594   .bss.front_sensor_move_err_I:00000000 front_sensor_move_err_I
  C:\Temp\ccyo3Eiq.s:1597   .bss.front_sensor_move_err_prev:00000000 $d
  C:\Temp\ccyo3Eiq.s:1601   .bss.front_sensor_move_err_prev:00000000 front_sensor_move_err_prev
  C:\Temp\ccyo3Eiq.s:1604   .bss.front_sensor_rotate_D_prev:00000000 $d
  C:\Temp\ccyo3Eiq.s:1608   .bss.front_sensor_rotate_D_prev:00000000 front_sensor_rotate_D_prev
  C:\Temp\ccyo3Eiq.s:1611   .bss.front_sensor_rotate_err_I:00000000 $d
  C:\Temp\ccyo3Eiq.s:1615   .bss.front_sensor_rotate_err_I:00000000 front_sensor_rotate_err_I
  C:\Temp\ccyo3Eiq.s:1618   .bss.front_sensor_rotate_err_prev:00000000 $d
  C:\Temp\ccyo3Eiq.s:1622   .bss.front_sensor_rotate_err_prev:00000000 front_sensor_rotate_err_prev
  C:\Temp\ccyo3Eiq.s:1625   .bss.side_sensor_l_old.7288:00000000 $d
  C:\Temp\ccyo3Eiq.s:1629   .bss.side_sensor_l_old.7288:00000000 side_sensor_l_old.7288
  C:\Temp\ccyo3Eiq.s:1632   .bss.side_sensor_l_th:00000000 $d
  C:\Temp\ccyo3Eiq.s:1636   .bss.side_sensor_l_th:00000000 side_sensor_l_th
  C:\Temp\ccyo3Eiq.s:1639   .bss.side_sensor_r_old.7287:00000000 $d
  C:\Temp\ccyo3Eiq.s:1643   .bss.side_sensor_r_old.7287:00000000 side_sensor_r_old.7287
  C:\Temp\ccyo3Eiq.s:1646   .bss.side_sensor_r_th:00000000 $d
  C:\Temp\ccyo3Eiq.s:1650   .bss.side_sensor_r_th:00000000 side_sensor_r_th
  C:\Temp\ccyo3Eiq.s:1653   .bss.side_wall_err_D_prev.7331:00000000 $d
  C:\Temp\ccyo3Eiq.s:1657   .bss.side_wall_err_D_prev.7331:00000000 side_wall_err_D_prev.7331
  C:\Temp\ccyo3Eiq.s:1660   .bss.side_wall_err_prev.7330:00000000 $d
  C:\Temp\ccyo3Eiq.s:1664   .bss.side_wall_err_prev.7330:00000000 side_wall_err_prev.7330
  C:\Temp\ccyo3Eiq.s:1667   .bss.target_sensor_sl:00000000 $d
  C:\Temp\ccyo3Eiq.s:1671   .bss.target_sensor_sl:00000000 target_sensor_sl
  C:\Temp\ccyo3Eiq.s:1674   .bss.target_sensor_sr:00000000 $d
  C:\Temp\ccyo3Eiq.s:1678   .bss.target_sensor_sr:00000000 target_sensor_sr
  C:\Temp\ccyo3Eiq.s:1684   .bss.target_set_flg.7266:00000000 target_set_flg.7266
  C:\Temp\ccyo3Eiq.s:1685   .bss.target_set_flg.7266:00000000 $d
  C:\Temp\ccyo3Eiq.s:1687   .bss.target_vol_diff_frontwall:00000000 $d
  C:\Temp\ccyo3Eiq.s:1691   .bss.target_vol_diff_frontwall:00000000 target_vol_diff_frontwall
  C:\Temp\ccyo3Eiq.s:1694   .bss.target_vol_diff_sidewall:00000000 $d
  C:\Temp\ccyo3Eiq.s:1698   .bss.target_vol_diff_sidewall:00000000 target_vol_diff_sidewall
  C:\Temp\ccyo3Eiq.s:1701   .bss.target_vol_sum_frontwall:00000000 $d
  C:\Temp\ccyo3Eiq.s:1705   .bss.target_vol_sum_frontwall:00000000 target_vol_sum_frontwall
  C:\Temp\ccyo3Eiq.s:1711   .data.side_wall_ctrl_mode:00000000 side_wall_ctrl_mode

UNDEFINED SYMBOLS
SensorValue2length
__aeabi_d2f
Sensor_GetValue
__aeabi_dsub
__aeabi_dmul
__aeabi_dadd
__aeabi_ddiv
__aeabi_dcmplt
__aeabi_dcmpgt
set_mode_ctrl
get_ideal_length
set_move_length
get_ideal_angle
set_rotation_angle
