ARM GAS  C:\Temp\ccFcJnVM.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"adjust.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.set_target_side_sensor,"ax",%progbits
  18              		.align	1
  19              		.global	set_target_side_sensor
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv4-sp-d16
  26              	set_target_side_sensor:
  27              	.LFB4:
  28              		.file 1 "Src/adjust.c"
   1:Src/adjust.c  **** 
   2:Src/adjust.c  **** 
   3:Src/adjust.c  **** #include <stdio.h>
   4:Src/adjust.c  **** #include <math.h>
   5:Src/adjust.c  **** #include "adjust.h"
   6:Src/adjust.c  **** #include "param.h"
   7:Src/adjust.c  **** #include "exvol.h"
   8:Src/adjust.c  **** #include "mouse_state.h"
   9:Src/adjust.c  **** #include "target.h"
  10:Src/adjust.c  **** #include "ir_sensor.h"
  11:Src/adjust.c  **** 
  12:Src/adjust.c  **** 
  13:Src/adjust.c  **** static double front_sensor_move_err_I = 0;   	//åå·®å’Œã®Ié …
  14:Src/adjust.c  **** static double front_sensor_rotate_err_I = 0;   	//åå·®å·®ã®Ié …
  15:Src/adjust.c  **** static double front_sensor_move_err_prev = 0;   //å‰å›åå·®å’Œ
  16:Src/adjust.c  **** static double front_sensor_rotate_err_prev = 0; //å‰å›åå·®å·®
  17:Src/adjust.c  **** static double front_sensor_move_D_prev = 0; 	//å‰å›åå·®å’Œå¾®åˆ†
  18:Src/adjust.c  **** static double front_sensor_rotate_D_prev = 0;   //å‰å›åå·®å·®å¾®åˆ†
  19:Src/adjust.c  **** 
  20:Src/adjust.c  **** static float target_vol_sum_frontwall = 0;		//å‰å£åˆ¶å¾¡ã«ã‚ˆã‚‹ãƒ¢ãƒ¼ã‚¿å°åŠ é›»åœ§ã®å’Œ[V]
  21:Src/adjust.c  **** static float target_vol_diff_frontwall = 0;		//å‰å£åˆ¶å¾¡ã«ã‚ˆã‚‹ãƒ¢ãƒ¼ã‚¿å°åŠ é›»åœ§ã®å·®[V]
  22:Src/adjust.c  **** 
  23:Src/adjust.c  **** static uint16_t fornt_wall_calibrate_tim = 0;  	//å‰å£è£œæ­£ç”¨ã‚«ã‚¦ãƒ³ã‚¿
  24:Src/adjust.c  **** 
  25:Src/adjust.c  **** static double target_sensor_sl = 0;				//å·¦å£è·é›¢ç›®æ¨™å€¤[m]
  26:Src/adjust.c  **** static double target_sensor_sr = 0;				//å³å£è·é›¢ç›®æ¨™å€¤[m]
  27:Src/adjust.c  **** 
  28:Src/adjust.c  **** static float target_vol_diff_sidewall = 0;			//æ¨ªå£åˆ¶å¾¡ã«ãŠã‘ã‚‹ãƒ¢ãƒ¼ã‚¿å°åŠ é›»åœ§ã®å·®[
  29:Src/adjust.c  **** 
  30:Src/adjust.c  **** static side_wall_ctrl side_wall_ctrl_mode = none;	//æ¨ªå£è£œæ­£ãƒ¢ãƒ¼ãƒ‰ï¼ˆå·¦ã€å³ã€ä¸¡æ–¹ã€ã
ARM GAS  C:\Temp\ccFcJnVM.s 			page 2


  31:Src/adjust.c  **** static double side_sensor_l_th = 0;				//å·¦å£åˆ¶å¾¡ã®é–¾å€¤
  32:Src/adjust.c  **** static double side_sensor_r_th = 0;				//å³å£åˆ¶å¾¡ã®é–¾å€¤
  33:Src/adjust.c  **** 
  34:Src/adjust.c  **** //æ©Ÿèƒ½	: adjust.cã®1msã‚¿ã‚¹ã‚¯ã¾ã¨ã‚
  35:Src/adjust.c  **** //å¼•æ•°	: ãªã—
  36:Src/adjust.c  **** //è¿”ã‚Šå€¤	: ãªã—
  37:Src/adjust.c  **** void adjust_1ms (void)
  38:Src/adjust.c  **** {
  39:Src/adjust.c  **** 	set_target_side_sensor();		//åˆæœŸä½ç½®ã®ã‚»ãƒ³ã‚µå€¤ã‚’æ¨ªå£åˆ¶å¾¡ç›®æ¨™å€¤ã«ã‚»ãƒƒãƒˆ
  40:Src/adjust.c  **** 	calc_side_wall_ctrl_mode();		//æ¨ªå£è£œæ­£ã®ãƒ¢ãƒ¼ãƒ‰ã‚’æ±ºå®š
  41:Src/adjust.c  **** 	adjust_theta_side_wall();		//æ¨ªå£è£œæ­£ã®ãƒ¢ãƒ¼ãƒ‰ã«å¿œã˜ã€è»Œè·¡åˆ¶å¾¡ã«ãŠã‘ã‚‹è§’åº¦ã‚’
  42:Src/adjust.c  **** 	calc_motor_vol_side_wall();		//æ¨ªå£è£œæ­£ã«ãŠã‘ã‚‹å°åŠ é›»åœ§è¨ˆç®—
  43:Src/adjust.c  **** 	calc_motor_vol_front_wall();	//å‰å£åˆ¶å¾¡ã«ãŠã‘ã‚‹å°åŠ é›»åœ§è¨ˆç®—
  44:Src/adjust.c  **** 	calibrate_tim();				//å‰å£åˆ¶å¾¡ç”¨ã‚¿ã‚¤ãƒ
  45:Src/adjust.c  **** }
  46:Src/adjust.c  **** 
  47:Src/adjust.c  **** //æ©Ÿèƒ½	: å£ãƒˆãƒ¬ãƒ¼ã‚¹ã®ç›®æ¨™è·é›¢ã‚’ã‚»ãƒƒãƒˆã™ã‚‹
  48:Src/adjust.c  **** //å¼•æ•°	: ãªã— 
  49:Src/adjust.c  **** //è¿”ã‚Šå€¤	: ãªã—
  50:Src/adjust.c  **** //å‚™è€ƒ	:åˆæœŸä½ç½®ã®å£è·é›¢ã‚’ç›®æ¨™ä½ç½®ã¨ã™ã‚‹ã€‚
  51:Src/adjust.c  **** void set_target_side_sensor(void)
  52:Src/adjust.c  **** {
  29              		.loc 1 52 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		@ link register save eliminated.
  53:Src/adjust.c  **** 	static uint8_t target_set_flg = 0;
  34              		.loc 1 53 2 view .LVU1
  54:Src/adjust.c  **** 	if(target_set_flg == 0) 
  35              		.loc 1 54 2 view .LVU2
  36              		.loc 1 54 20 is_stmt 0 view .LVU3
  37 0000 0D4B     		ldr	r3, .L3+16
  38 0002 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
  39              		.loc 1 54 4 view .LVU4
  40 0004 73B9     		cbnz	r3, .L1
  55:Src/adjust.c  **** 	{
  56:Src/adjust.c  **** 		//target_sensor_sl = SensorValue2length(1);
  57:Src/adjust.c  **** 		//target_sensor_sr = SensorValue2length(2);
  58:Src/adjust.c  **** 		//ãƒ‡ãƒãƒƒã‚°ä¸­	
  59:Src/adjust.c  **** 		target_sensor_sl = 0.024331;
  41              		.loc 1 59 3 is_stmt 1 view .LVU5
  42              		.loc 1 59 20 is_stmt 0 view .LVU6
  43 0006 0D4B     		ldr	r3, .L3+20
  44 0008 07A1     		adr	r1, .L3
  45 000a D1E90001 		ldrd	r0, [r1]
  46 000e C3E90001 		strd	r0, [r3]
  60:Src/adjust.c  **** 		target_sensor_sr = 0.023078;	
  47              		.loc 1 60 3 is_stmt 1 view .LVU7
  48              		.loc 1 60 20 is_stmt 0 view .LVU8
  49 0012 0B4B     		ldr	r3, .L3+24
  50 0014 06A1     		adr	r1, .L3+8
  51 0016 D1E90001 		ldrd	r0, [r1]
  52 001a C3E90001 		strd	r0, [r3]
  61:Src/adjust.c  **** 
  62:Src/adjust.c  **** 		target_set_flg = 1;
  53              		.loc 1 62 3 is_stmt 1 view .LVU9
ARM GAS  C:\Temp\ccFcJnVM.s 			page 3


  54              		.loc 1 62 18 is_stmt 0 view .LVU10
  55 001e 064B     		ldr	r3, .L3+16
  56 0020 0122     		movs	r2, #1
  57 0022 1A70     		strb	r2, [r3]
  58              	.L1:
  63:Src/adjust.c  **** 	}
  64:Src/adjust.c  **** }
  59              		.loc 1 64 1 view .LVU11
  60 0024 7047     		bx	lr
  61              	.L4:
  62 0026 00BF     		.align	3
  63              	.L3:
  64 0028 E2AB1DC5 		.word	-987911198
  65 002c 39EA983F 		.word	1066986041
  66 0030 1442075D 		.word	1560756756
  67 0034 C2A1973F 		.word	1066901954
  68 0038 00000000 		.word	.LANCHOR0
  69 003c 00000000 		.word	.LANCHOR1
  70 0040 00000000 		.word	.LANCHOR2
  71              		.cfi_endproc
  72              	.LFE4:
  74              		.global	__aeabi_d2f
  75              		.section	.text.get_target_sensor_sr,"ax",%progbits
  76              		.align	1
  77              		.global	get_target_sensor_sr
  78              		.syntax unified
  79              		.thumb
  80              		.thumb_func
  81              		.fpu fpv4-sp-d16
  83              	get_target_sensor_sr:
  84              	.LFB5:
  65:Src/adjust.c  **** 
  66:Src/adjust.c  **** //æ©Ÿèƒ½	: å£ãƒˆãƒ¬ãƒ¼ã‚¹ã®å³å£ç›®æ¨™è·é›¢ã‚’å–å¾—ã™ã‚‹
  67:Src/adjust.c  **** //å¼•æ•°	: ãªã—
  68:Src/adjust.c  **** //è¿”ã‚Šå€¤	: å³å£è·é›¢ç›®æ¨™å€¤
  69:Src/adjust.c  **** float get_target_sensor_sr ( void )
  70:Src/adjust.c  **** {
  85              		.loc 1 70 1 is_stmt 1 view -0
  86              		.cfi_startproc
  87              		@ args = 0, pretend = 0, frame = 0
  88              		@ frame_needed = 0, uses_anonymous_args = 0
  89 0000 08B5     		push	{r3, lr}
  90              	.LCFI0:
  91              		.cfi_def_cfa_offset 8
  92              		.cfi_offset 3, -8
  93              		.cfi_offset 14, -4
  71:Src/adjust.c  **** 	return (float)target_sensor_sr;
  94              		.loc 1 71 2 view .LVU13
  95              		.loc 1 71 9 is_stmt 0 view .LVU14
  96 0002 044B     		ldr	r3, .L7
  97 0004 D3E90001 		ldrd	r0, [r3]
  98 0008 FFF7FEFF 		bl	__aeabi_d2f
  99              	.LVL0:
  72:Src/adjust.c  **** }
 100              		.loc 1 72 1 view .LVU15
 101 000c 00EE100A 		vmov	s0, r0
 102 0010 08BD     		pop	{r3, pc}
ARM GAS  C:\Temp\ccFcJnVM.s 			page 4


 103              	.L8:
 104 0012 00BF     		.align	2
 105              	.L7:
 106 0014 00000000 		.word	.LANCHOR2
 107              		.cfi_endproc
 108              	.LFE5:
 110              		.section	.text.get_target_sensor_sl,"ax",%progbits
 111              		.align	1
 112              		.global	get_target_sensor_sl
 113              		.syntax unified
 114              		.thumb
 115              		.thumb_func
 116              		.fpu fpv4-sp-d16
 118              	get_target_sensor_sl:
 119              	.LFB6:
  73:Src/adjust.c  **** 
  74:Src/adjust.c  **** //æ©Ÿèƒ½	: å£ãƒˆãƒ¬ãƒ¼ã‚¹ã®å·¦å£ç›®æ¨™è·é›¢ã‚’å–å¾—ã™ã‚‹
  75:Src/adjust.c  **** //å¼•æ•°	: ãªã—
  76:Src/adjust.c  **** //è¿”ã‚Šå€¤	: å·¦å£è·é›¢ç›®æ¨™å€¤
  77:Src/adjust.c  **** float get_target_sensor_sl ( void )
  78:Src/adjust.c  **** {
 120              		.loc 1 78 1 is_stmt 1 view -0
 121              		.cfi_startproc
 122              		@ args = 0, pretend = 0, frame = 0
 123              		@ frame_needed = 0, uses_anonymous_args = 0
 124 0000 08B5     		push	{r3, lr}
 125              	.LCFI1:
 126              		.cfi_def_cfa_offset 8
 127              		.cfi_offset 3, -8
 128              		.cfi_offset 14, -4
  79:Src/adjust.c  **** 	return (float)target_sensor_sl;
 129              		.loc 1 79 2 view .LVU17
 130              		.loc 1 79 9 is_stmt 0 view .LVU18
 131 0002 044B     		ldr	r3, .L11
 132 0004 D3E90001 		ldrd	r0, [r3]
 133 0008 FFF7FEFF 		bl	__aeabi_d2f
 134              	.LVL1:
  80:Src/adjust.c  **** }
 135              		.loc 1 80 1 view .LVU19
 136 000c 00EE100A 		vmov	s0, r0
 137 0010 08BD     		pop	{r3, pc}
 138              	.L12:
 139 0012 00BF     		.align	2
 140              	.L11:
 141 0014 00000000 		.word	.LANCHOR1
 142              		.cfi_endproc
 143              	.LFE6:
 145              		.section	.text.get_side_sensor_l_th,"ax",%progbits
 146              		.align	1
 147              		.global	get_side_sensor_l_th
 148              		.syntax unified
 149              		.thumb
 150              		.thumb_func
 151              		.fpu fpv4-sp-d16
 153              	get_side_sensor_l_th:
 154              	.LFB7:
  81:Src/adjust.c  **** 
ARM GAS  C:\Temp\ccFcJnVM.s 			page 5


  82:Src/adjust.c  **** //æ©Ÿèƒ½	: å£ãƒˆãƒ¬ãƒ¼ã‚¹ã®å·¦å£ãƒ¢ãƒ¼ãƒ‰é–¾å€¤ã‚’å–å¾—ã™ã‚‹
  83:Src/adjust.c  **** //å¼•æ•°	: ãªã—
  84:Src/adjust.c  **** //è¿”ã‚Šå€¤	: å·¦å£ãƒ¢ãƒ¼ãƒ‰é–¾å€¤
  85:Src/adjust.c  **** double get_side_sensor_l_th ( void )
  86:Src/adjust.c  **** {
 155              		.loc 1 86 1 is_stmt 1 view -0
 156              		.cfi_startproc
 157              		@ args = 0, pretend = 0, frame = 0
 158              		@ frame_needed = 0, uses_anonymous_args = 0
 159              		@ link register save eliminated.
  87:Src/adjust.c  **** 	return side_sensor_l_th;
 160              		.loc 1 87 2 view .LVU21
  88:Src/adjust.c  **** }
 161              		.loc 1 88 1 is_stmt 0 view .LVU22
 162 0000 014B     		ldr	r3, .L14
 163 0002 93ED000B 		vldr.64	d0, [r3]
 164 0006 7047     		bx	lr
 165              	.L15:
 166              		.align	2
 167              	.L14:
 168 0008 00000000 		.word	.LANCHOR3
 169              		.cfi_endproc
 170              	.LFE7:
 172              		.section	.text.get_side_sensor_r_th,"ax",%progbits
 173              		.align	1
 174              		.global	get_side_sensor_r_th
 175              		.syntax unified
 176              		.thumb
 177              		.thumb_func
 178              		.fpu fpv4-sp-d16
 180              	get_side_sensor_r_th:
 181              	.LFB8:
  89:Src/adjust.c  **** 
  90:Src/adjust.c  **** 
  91:Src/adjust.c  **** //æ©Ÿèƒ½	: å£ãƒˆãƒ¬ãƒ¼ã‚¹ã®å³å£ãƒ¢ãƒ¼ãƒ‰é–¾å€¤ã‚’å–å¾—ã™ã‚‹
  92:Src/adjust.c  **** //å¼•æ•°	: ãªã—
  93:Src/adjust.c  **** //è¿”ã‚Šå€¤	: å³å£ãƒ¢ãƒ¼ãƒ‰é–¾å€¤
  94:Src/adjust.c  **** double get_side_sensor_r_th ( void )
  95:Src/adjust.c  **** {
 182              		.loc 1 95 1 is_stmt 1 view -0
 183              		.cfi_startproc
 184              		@ args = 0, pretend = 0, frame = 0
 185              		@ frame_needed = 0, uses_anonymous_args = 0
 186              		@ link register save eliminated.
  96:Src/adjust.c  **** 	return side_sensor_r_th;
 187              		.loc 1 96 2 view .LVU24
  97:Src/adjust.c  **** }
 188              		.loc 1 97 1 is_stmt 0 view .LVU25
 189 0000 014B     		ldr	r3, .L17
 190 0002 93ED000B 		vldr.64	d0, [r3]
 191 0006 7047     		bx	lr
 192              	.L18:
 193              		.align	2
 194              	.L17:
 195 0008 00000000 		.word	.LANCHOR4
 196              		.cfi_endproc
 197              	.LFE8:
ARM GAS  C:\Temp\ccFcJnVM.s 			page 6


 199              		.section	.text.get_side_wall_ctrl_mode,"ax",%progbits
 200              		.align	1
 201              		.global	get_side_wall_ctrl_mode
 202              		.syntax unified
 203              		.thumb
 204              		.thumb_func
 205              		.fpu fpv4-sp-d16
 207              	get_side_wall_ctrl_mode:
 208              	.LFB9:
  98:Src/adjust.c  **** 
  99:Src/adjust.c  **** //æ©Ÿèƒ½	: æ¨ªå£åˆ¶å¾¡ã«ãŠã‘ã‚‹ãƒ¢ãƒ¼ãƒ‰ã‚’å–å¾—ã™ã‚‹
 100:Src/adjust.c  **** //å¼•æ•°	: ãªã—
 101:Src/adjust.c  **** //è¿”ã‚Šå€¤	: æ¨ªå£åˆ¶å¾¡ãƒ¢ãƒ¼ãƒ‰
 102:Src/adjust.c  **** uint8_t get_side_wall_ctrl_mode ( void )
 103:Src/adjust.c  **** {
 209              		.loc 1 103 1 is_stmt 1 view -0
 210              		.cfi_startproc
 211              		@ args = 0, pretend = 0, frame = 0
 212              		@ frame_needed = 0, uses_anonymous_args = 0
 213              		@ link register save eliminated.
 104:Src/adjust.c  **** 	return side_wall_ctrl_mode;
 214              		.loc 1 104 2 view .LVU27
 105:Src/adjust.c  **** }
 215              		.loc 1 105 1 is_stmt 0 view .LVU28
 216 0000 014B     		ldr	r3, .L20
 217 0002 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 218 0004 7047     		bx	lr
 219              	.L21:
 220 0006 00BF     		.align	2
 221              	.L20:
 222 0008 00000000 		.word	.LANCHOR5
 223              		.cfi_endproc
 224              	.LFE9:
 226              		.global	__aeabi_dsub
 227              		.global	__aeabi_dcmplt
 228              		.global	__aeabi_dadd
 229              		.global	__aeabi_ddiv
 230              		.global	__aeabi_dcmpgt
 231              		.section	.text.calc_side_wall_ctrl_mode,"ax",%progbits
 232              		.align	1
 233              		.global	calc_side_wall_ctrl_mode
 234              		.syntax unified
 235              		.thumb
 236              		.thumb_func
 237              		.fpu fpv4-sp-d16
 239              	calc_side_wall_ctrl_mode:
 240              	.LFB10:
 106:Src/adjust.c  **** 
 107:Src/adjust.c  **** //æ©Ÿèƒ½	: æ¨ªå£åˆ¶å¾¡ã«ãŠã‘ã‚‹ãƒ¢ãƒ¼ãƒ‰ã‚’æ±ºå®šã™ã‚‹ï¼ˆå³ã€å·¦ã€ä¸¡å£ã€ãªã—ï¼‰
 108:Src/adjust.c  **** //å¼•æ•°	: ãªã—
 109:Src/adjust.c  **** //è¿”ã‚Šå€¤	: ãªã—
 110:Src/adjust.c  **** //å‚™è€ƒ 	:1msã‚¿ã‚¹ã‚¯
 111:Src/adjust.c  **** void calc_side_wall_ctrl_mode ( void )
 112:Src/adjust.c  **** {
 241              		.loc 1 112 1 is_stmt 1 view -0
 242              		.cfi_startproc
 243              		@ args = 0, pretend = 0, frame = 8
ARM GAS  C:\Temp\ccFcJnVM.s 			page 7


 244              		@ frame_needed = 0, uses_anonymous_args = 0
 245 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 246              	.LCFI2:
 247              		.cfi_def_cfa_offset 32
 248              		.cfi_offset 4, -32
 249              		.cfi_offset 5, -28
 250              		.cfi_offset 6, -24
 251              		.cfi_offset 7, -20
 252              		.cfi_offset 8, -16
 253              		.cfi_offset 9, -12
 254              		.cfi_offset 10, -8
 255              		.cfi_offset 14, -4
 256 0004 2DED028B 		vpush.64	{d8}
 257              	.LCFI3:
 258              		.cfi_def_cfa_offset 40
 259              		.cfi_offset 80, -40
 260              		.cfi_offset 81, -36
 261 0008 82B0     		sub	sp, sp, #8
 262              	.LCFI4:
 263              		.cfi_def_cfa_offset 48
 113:Src/adjust.c  **** 	double side_sensor_r = 0; 				//å³å‰ã‚»ãƒ³ã‚µå€¤[m]
 264              		.loc 1 113 2 view .LVU30
 265              	.LVL2:
 114:Src/adjust.c  ****     double side_sensor_l = 0; 				//å·¦å‰ã‚»ãƒ³ã‚µå€¤[m]
 266              		.loc 1 114 5 view .LVU31
 115:Src/adjust.c  **** 	static double side_sensor_r_old = 0;	//å‰å›å³å‰ã‚»ãƒ³ã‚µå€¤[m]
 267              		.loc 1 115 2 view .LVU32
 116:Src/adjust.c  ****     static double side_sensor_l_old = 0; 	//å‰å›å·¦å‰ã‚»ãƒ³ã‚µå€¤[m]
 268              		.loc 1 116 5 view .LVU33
 117:Src/adjust.c  **** 	double side_sensor_r_diff = 0;			//å³å‰ã‚»ãƒ³ã‚µå€¤å¤‰åŒ–é‡
 269              		.loc 1 117 2 view .LVU34
 118:Src/adjust.c  ****     double side_sensor_l_diff = 0; 			//å·¦å‰ã‚»ãƒ³ã‚µå€¤å¤‰åŒ–é‡
 270              		.loc 1 118 5 view .LVU35
 119:Src/adjust.c  **** 	double side_sensor_r_diff_sum = 0;		//å³å‰ã‚»ãƒ³ã‚µå€¤å¤‰åŒ–é‡åˆè¨ˆ
 271              		.loc 1 119 2 view .LVU36
 120:Src/adjust.c  ****     double side_sensor_l_diff_sum = 0; 		//å·¦å‰ã‚»ãƒ³ã‚µå€¤å¤‰åŒ–é‡åˆè¨ˆ
 272              		.loc 1 120 5 view .LVU37
 121:Src/adjust.c  **** 	double side_sensor_r_diff_ave = 0;		//å³å‰ã‚»ãƒ³ã‚µå€¤å¹³å‡
 273              		.loc 1 121 2 view .LVU38
 122:Src/adjust.c  ****     double side_sensor_l_diff_ave = 0; 		//å·¦å‰ã‚»ãƒ³ã‚µå€¤å¹³å‡
 274              		.loc 1 122 5 view .LVU39
 123:Src/adjust.c  **** 
 124:Src/adjust.c  ****     typedef struct {
 275              		.loc 1 124 5 view .LVU40
 125:Src/adjust.c  **** 	double	right;			
 126:Src/adjust.c  **** 	double  left;			
 127:Src/adjust.c  ****     } ave_temp;
 128:Src/adjust.c  **** 
 129:Src/adjust.c  **** 	static ave_temp ave_store[ir_diff_ave_num];  // ãƒ‡ãƒ¼ã‚¿æ ¼ç´ç”¨ã®æ§‹é€ ä½“
 276              		.loc 1 129 2 view .LVU41
 130:Src/adjust.c  **** 	static uint16_t ave_counter = 0;
 277              		.loc 1 130 2 view .LVU42
 131:Src/adjust.c  **** 	uint16_t i = 0;
 278              		.loc 1 131 2 view .LVU43
 132:Src/adjust.c  **** 	uint16_t j = 0;
 279              		.loc 1 132 2 view .LVU44
 133:Src/adjust.c  **** 
ARM GAS  C:\Temp\ccFcJnVM.s 			page 8


 134:Src/adjust.c  **** 	//ã‚»ãƒ³ã‚µå€¤å–å¾—
 135:Src/adjust.c  **** 	side_sensor_l = SensorValue2length(1);
 280              		.loc 1 135 2 view .LVU45
 281              		.loc 1 135 18 is_stmt 0 view .LVU46
 282 000a 0120     		movs	r0, #1
 283 000c FFF7FEFF 		bl	SensorValue2length
 284              	.LVL3:
 285 0010 55EC104B 		vmov	r4, r5, d0
 286 0014 8DED000B 		vstr.64	d0, [sp]
 287              	.LVL4:
 136:Src/adjust.c  **** 	side_sensor_r = SensorValue2length(2);
 288              		.loc 1 136 2 is_stmt 1 view .LVU47
 289              		.loc 1 136 18 is_stmt 0 view .LVU48
 290 0018 0220     		movs	r0, #2
 291 001a FFF7FEFF 		bl	SensorValue2length
 292              	.LVL5:
 293 001e B0EE408A 		vmov.f32	s16, s0
 294 0022 F0EE608A 		vmov.f32	s17, s1
 295              	.LVL6:
 137:Src/adjust.c  **** 
 138:Src/adjust.c  **** 	//ã‚»ãƒ³ã‚µå¤‰åŒ–é‡å–å¾—
 139:Src/adjust.c  **** 	side_sensor_l_diff = ABS(side_sensor_l - side_sensor_l_old);
 296              		.loc 1 139 2 is_stmt 1 view .LVU49
 297              		.loc 1 139 23 is_stmt 0 view .LVU50
 298 0026 6E4B     		ldr	r3, .L59+24
 299 0028 D3E90023 		ldrd	r2, [r3]
 300 002c 2046     		mov	r0, r4
 301 002e 2946     		mov	r1, r5
 302 0030 FFF7FEFF 		bl	__aeabi_dsub
 303              	.LVL7:
 304              		.loc 1 139 23 view .LVU51
 305 0034 0446     		mov	r4, r0
 306              	.LVL8:
 307              		.loc 1 139 23 view .LVU52
 308 0036 0D46     		mov	r5, r1
 309 0038 0022     		movs	r2, #0
 310 003a 0023     		movs	r3, #0
 311 003c FFF7FEFF 		bl	__aeabi_dcmplt
 312              	.LVL9:
 313 0040 0028     		cmp	r0, #0
 314 0042 3ED1     		bne	.L56
 315              	.L23:
 316              	.LVL10:
 140:Src/adjust.c  **** 	side_sensor_r_diff = ABS(side_sensor_r - side_sensor_r_old);
 317              		.loc 1 140 2 is_stmt 1 discriminator 4 view .LVU53
 318              		.loc 1 140 23 is_stmt 0 discriminator 4 view .LVU54
 319 0044 674B     		ldr	r3, .L59+28
 320 0046 D3E90023 		ldrd	r2, [r3]
 321 004a 51EC180B 		vmov	r0, r1, d8
 322 004e FFF7FEFF 		bl	__aeabi_dsub
 323              	.LVL11:
 324 0052 0646     		mov	r6, r0
 325 0054 0F46     		mov	r7, r1
 326 0056 0022     		movs	r2, #0
 327 0058 0023     		movs	r3, #0
 328 005a FFF7FEFF 		bl	__aeabi_dcmplt
 329              	.LVL12:
ARM GAS  C:\Temp\ccFcJnVM.s 			page 9


 330 005e 0028     		cmp	r0, #0
 331 0060 33D1     		bne	.L57
 332              	.L25:
 333              	.LVL13:
 141:Src/adjust.c  **** 
 142:Src/adjust.c  **** 	i = ave_counter % ir_diff_ave_num;
 334              		.loc 1 142 2 is_stmt 1 discriminator 4 view .LVU55
 335              		.loc 1 142 4 is_stmt 0 discriminator 4 view .LVU56
 336 0062 614B     		ldr	r3, .L59+32
 337 0064 B3F800A0 		ldrh	r10, [r3]
 338 0068 604B     		ldr	r3, .L59+36
 339 006a A3FB0A23 		umull	r2, r3, r3, r10
 340 006e DB08     		lsrs	r3, r3, #3
 341 0070 03EB8303 		add	r3, r3, r3, lsl #2
 342 0074 AAEB4303 		sub	r3, r10, r3, lsl #1
 343 0078 9BB2     		uxth	r3, r3
 344              	.LVL14:
 143:Src/adjust.c  **** 	ave_store[i].right = side_sensor_r_diff;
 345              		.loc 1 143 2 is_stmt 1 discriminator 4 view .LVU57
 346              		.loc 1 143 21 is_stmt 0 discriminator 4 view .LVU58
 347 007a 5D4A     		ldr	r2, .L59+40
 348 007c 02EB0313 		add	r3, r2, r3, lsl #4
 349              	.LVL15:
 350              		.loc 1 143 21 discriminator 4 view .LVU59
 351 0080 C3E90067 		strd	r6, [r3]
 144:Src/adjust.c  **** 	ave_store[i].left = side_sensor_l_diff;
 352              		.loc 1 144 2 is_stmt 1 discriminator 4 view .LVU60
 353              		.loc 1 144 20 is_stmt 0 discriminator 4 view .LVU61
 354 0084 C3E90245 		strd	r4, [r3, #8]
 145:Src/adjust.c  **** 
 146:Src/adjust.c  **** 	//ç§»å‹•å¹³å‡å‡¦ç†
 147:Src/adjust.c  **** 	for(j=0; j < ir_diff_ave_num; j++)
 355              		.loc 1 147 2 is_stmt 1 discriminator 4 view .LVU62
 356              		.loc 1 147 7 is_stmt 0 discriminator 4 view .LVU63
 357 0088 0024     		movs	r4, #0
 358              	.LVL16:
 120:Src/adjust.c  **** 	double side_sensor_r_diff_ave = 0;		//å³å‰ã‚»ãƒ³ã‚µå€¤å¹³å‡
 359              		.loc 1 120 12 discriminator 4 view .LVU64
 360 008a 0026     		movs	r6, #0
 361              	.LVL17:
 120:Src/adjust.c  **** 	double side_sensor_r_diff_ave = 0;		//å³å‰ã‚»ãƒ³ã‚µå€¤å¹³å‡
 362              		.loc 1 120 12 discriminator 4 view .LVU65
 363 008c 0027     		movs	r7, #0
 119:Src/adjust.c  ****     double side_sensor_l_diff_sum = 0; 		//å·¦å‰ã‚»ãƒ³ã‚µå€¤å¤‰åŒ–é‡åˆè¨ˆ
 364              		.loc 1 119 9 discriminator 4 view .LVU66
 365 008e B046     		mov	r8, r6
 366 0090 B946     		mov	r9, r7
 367              	.LVL18:
 368              	.L27:
 369              		.loc 1 147 11 is_stmt 1 discriminator 1 view .LVU67
 370              		.loc 1 147 2 is_stmt 0 discriminator 1 view .LVU68
 371 0092 092C     		cmp	r4, #9
 372 0094 1DD8     		bhi	.L58
 148:Src/adjust.c  **** 	{
 149:Src/adjust.c  **** 		side_sensor_r_diff_sum += ave_store[j].right;
 373              		.loc 1 149 3 is_stmt 1 discriminator 3 view .LVU69
 374              		.loc 1 149 41 is_stmt 0 discriminator 3 view .LVU70
ARM GAS  C:\Temp\ccFcJnVM.s 			page 10


 375 0096 564D     		ldr	r5, .L59+40
 376 0098 05EB0415 		add	r5, r5, r4, lsl #4
 377              		.loc 1 149 26 discriminator 3 view .LVU71
 378 009c D5E90023 		ldrd	r2, [r5]
 379 00a0 4046     		mov	r0, r8
 380 00a2 4946     		mov	r1, r9
 381 00a4 FFF7FEFF 		bl	__aeabi_dadd
 382              	.LVL19:
 383 00a8 8046     		mov	r8, r0
 384              	.LVL20:
 385              		.loc 1 149 26 discriminator 3 view .LVU72
 386 00aa 8946     		mov	r9, r1
 387              	.LVL21:
 150:Src/adjust.c  **** 		side_sensor_l_diff_sum += ave_store[j].left;
 388              		.loc 1 150 3 is_stmt 1 discriminator 3 view .LVU73
 389              		.loc 1 150 26 is_stmt 0 discriminator 3 view .LVU74
 390 00ac D5E90223 		ldrd	r2, [r5, #8]
 391 00b0 3046     		mov	r0, r6
 392 00b2 3946     		mov	r1, r7
 393 00b4 FFF7FEFF 		bl	__aeabi_dadd
 394              	.LVL22:
 395 00b8 0646     		mov	r6, r0
 396              	.LVL23:
 397              		.loc 1 150 26 discriminator 3 view .LVU75
 398 00ba 0F46     		mov	r7, r1
 399              	.LVL24:
 147:Src/adjust.c  **** 	{
 400              		.loc 1 147 32 is_stmt 1 discriminator 3 view .LVU76
 147:Src/adjust.c  **** 	{
 401              		.loc 1 147 33 is_stmt 0 discriminator 3 view .LVU77
 402 00bc 0134     		adds	r4, r4, #1
 403              	.LVL25:
 147:Src/adjust.c  **** 	{
 404              		.loc 1 147 33 discriminator 3 view .LVU78
 405 00be A4B2     		uxth	r4, r4
 406              	.LVL26:
 147:Src/adjust.c  **** 	{
 407              		.loc 1 147 33 discriminator 3 view .LVU79
 408 00c0 E7E7     		b	.L27
 409              	.LVL27:
 410              	.L56:
 139:Src/adjust.c  **** 	side_sensor_r_diff = ABS(side_sensor_r - side_sensor_r_old);
 411              		.loc 1 139 23 discriminator 1 view .LVU80
 412 00c2 05F10043 		add	r3, r5, #-2147483648
 413 00c6 1D46     		mov	r5, r3
 414 00c8 BCE7     		b	.L23
 415              	.LVL28:
 416              	.L57:
 140:Src/adjust.c  **** 
 417              		.loc 1 140 23 discriminator 1 view .LVU81
 418 00ca 07F10043 		add	r3, r7, #-2147483648
 419 00ce 1F46     		mov	r7, r3
 420 00d0 C7E7     		b	.L25
 421              	.LVL29:
 422              	.L58:
 151:Src/adjust.c  **** 	}
 152:Src/adjust.c  **** 
ARM GAS  C:\Temp\ccFcJnVM.s 			page 11


 153:Src/adjust.c  **** 	side_sensor_r_diff_ave = side_sensor_r_diff_sum / ir_diff_ave_num;
 423              		.loc 1 153 2 is_stmt 1 view .LVU82
 424              		.loc 1 153 25 is_stmt 0 view .LVU83
 425 00d2 0022     		movs	r2, #0
 426 00d4 474B     		ldr	r3, .L59+44
 427 00d6 4046     		mov	r0, r8
 428 00d8 4946     		mov	r1, r9
 429 00da FFF7FEFF 		bl	__aeabi_ddiv
 430              	.LVL30:
 431 00de 0446     		mov	r4, r0
 432              	.LVL31:
 433              		.loc 1 153 25 view .LVU84
 434 00e0 0D46     		mov	r5, r1
 435              	.LVL32:
 154:Src/adjust.c  **** 	side_sensor_l_diff_ave = side_sensor_l_diff_sum / ir_diff_ave_num;
 436              		.loc 1 154 2 is_stmt 1 view .LVU85
 437              		.loc 1 154 25 is_stmt 0 view .LVU86
 438 00e2 0022     		movs	r2, #0
 439 00e4 434B     		ldr	r3, .L59+44
 440 00e6 3046     		mov	r0, r6
 441 00e8 3946     		mov	r1, r7
 442 00ea FFF7FEFF 		bl	__aeabi_ddiv
 443              	.LVL33:
 155:Src/adjust.c  **** 	
 156:Src/adjust.c  **** 	ave_counter += 1 ;
 444              		.loc 1 156 2 is_stmt 1 view .LVU87
 445              		.loc 1 156 14 is_stmt 0 view .LVU88
 446 00ee 0AF1010A 		add	r10, r10, #1
 447              	.LVL34:
 448              		.loc 1 156 14 view .LVU89
 449 00f2 3D4B     		ldr	r3, .L59+32
 450 00f4 A3F800A0 		strh	r10, [r3]	@ movhi
 157:Src/adjust.c  **** 
 158:Src/adjust.c  **** 
 159:Src/adjust.c  **** 	//å¤‰åŒ–é‡ã«å¿œã˜ã¦ã€å£åˆ¶å¾¡ã®é–¾å€¤ã‚’å¤‰åŒ–
 160:Src/adjust.c  **** 	if(side_sensor_l_diff_ave > side_sensor_diff_th){
 451              		.loc 1 160 2 is_stmt 1 view .LVU90
 452              		.loc 1 160 4 is_stmt 0 view .LVU91
 453 00f8 33A3     		adr	r3, .L59
 454 00fa D3E90023 		ldrd	r2, [r3]
 455 00fe FFF7FEFF 		bl	__aeabi_dcmpgt
 456              	.LVL35:
 457              		.loc 1 160 4 view .LVU92
 458 0102 48B3     		cbz	r0, .L51
 161:Src/adjust.c  **** 		side_sensor_l_th = side_sensor_th - side_sensor_th_add;
 459              		.loc 1 161 3 is_stmt 1 view .LVU93
 460              		.loc 1 161 20 is_stmt 0 view .LVU94
 461 0104 3C4B     		ldr	r3, .L59+48
 462 0106 32A1     		adr	r1, .L59+8
 463 0108 D1E90001 		ldrd	r0, [r1]
 464 010c C3E90001 		strd	r0, [r3]
 465              	.L31:
 162:Src/adjust.c  **** 	}else{
 163:Src/adjust.c  **** 		side_sensor_l_th = side_sensor_th;
 164:Src/adjust.c  **** 	}
 165:Src/adjust.c  **** 
 166:Src/adjust.c  **** 	if(side_sensor_r_diff_ave > side_sensor_diff_th){
ARM GAS  C:\Temp\ccFcJnVM.s 			page 12


 466              		.loc 1 166 2 is_stmt 1 view .LVU95
 467              		.loc 1 166 4 is_stmt 0 view .LVU96
 468 0110 2DA3     		adr	r3, .L59
 469 0112 D3E90023 		ldrd	r2, [r3]
 470 0116 2046     		mov	r0, r4
 471 0118 2946     		mov	r1, r5
 472 011a FFF7FEFF 		bl	__aeabi_dcmpgt
 473              	.LVL36:
 474 011e 10B3     		cbz	r0, .L52
 167:Src/adjust.c  **** 		side_sensor_r_th = side_sensor_th - side_sensor_th_add;
 475              		.loc 1 167 3 is_stmt 1 view .LVU97
 476              		.loc 1 167 20 is_stmt 0 view .LVU98
 477 0120 364B     		ldr	r3, .L59+52
 478 0122 2BA1     		adr	r1, .L59+8
 479 0124 D1E90001 		ldrd	r0, [r1]
 480 0128 C3E90001 		strd	r0, [r3]
 481              	.L34:
 168:Src/adjust.c  **** 	}else{
 169:Src/adjust.c  **** 		side_sensor_r_th = side_sensor_th;
 170:Src/adjust.c  **** 	}
 171:Src/adjust.c  **** 
 172:Src/adjust.c  **** 	//é–¾å€¤ã«å¿œã˜ã¦ã€æ¨ªå£åˆ¶å¾¡ãƒ¢ãƒ¼ãƒ‰ã‚’è¨­å®š
 173:Src/adjust.c  **** 	if( (side_sensor_l_th > side_sensor_l) && (side_sensor_r_th > side_sensor_r))
 482              		.loc 1 173 2 is_stmt 1 view .LVU99
 483              		.loc 1 173 24 is_stmt 0 view .LVU100
 484 012c 324B     		ldr	r3, .L59+48
 485 012e D3E90045 		ldrd	r4, [r3]
 486              	.LVL37:
 487              		.loc 1 173 4 view .LVU101
 488 0132 DDE90023 		ldrd	r2, [sp]
 489 0136 2046     		mov	r0, r4
 490 0138 2946     		mov	r1, r5
 491 013a FFF7FEFF 		bl	__aeabi_dcmpgt
 492              	.LVL38:
 493 013e C8B1     		cbz	r0, .L35
 494              		.loc 1 173 41 discriminator 1 view .LVU102
 495 0140 53EC182B 		vmov	r2, r3, d8
 496 0144 2D49     		ldr	r1, .L59+52
 497 0146 D1E90001 		ldrd	r0, [r1]
 498 014a FFF7FEFF 		bl	__aeabi_dcmpgt
 499              	.LVL39:
 500 014e 88B1     		cbz	r0, .L35
 174:Src/adjust.c  **** 	{
 175:Src/adjust.c  **** 		side_wall_ctrl_mode = both_side;
 501              		.loc 1 175 3 is_stmt 1 view .LVU103
 502              		.loc 1 175 23 is_stmt 0 view .LVU104
 503 0150 2B4B     		ldr	r3, .L59+56
 504 0152 0222     		movs	r2, #2
 505 0154 1A70     		strb	r2, [r3]
 506 0156 17E0     		b	.L38
 507              	.LVL40:
 508              	.L51:
 163:Src/adjust.c  **** 	}
 509              		.loc 1 163 3 is_stmt 1 view .LVU105
 163:Src/adjust.c  **** 	}
 510              		.loc 1 163 20 is_stmt 0 view .LVU106
 511 0158 274B     		ldr	r3, .L59+48
ARM GAS  C:\Temp\ccFcJnVM.s 			page 13


 512 015a 1FA1     		adr	r1, .L59+16
 513 015c D1E90001 		ldrd	r0, [r1]
 514 0160 C3E90001 		strd	r0, [r3]
 515 0164 D4E7     		b	.L31
 516              	.L52:
 169:Src/adjust.c  **** 	}
 517              		.loc 1 169 3 is_stmt 1 view .LVU107
 169:Src/adjust.c  **** 	}
 518              		.loc 1 169 20 is_stmt 0 view .LVU108
 519 0166 254B     		ldr	r3, .L59+52
 520 0168 1BA1     		adr	r1, .L59+16
 521 016a D1E90001 		ldrd	r0, [r1]
 522 016e C3E90001 		strd	r0, [r3]
 523 0172 DBE7     		b	.L34
 524              	.LVL41:
 525              	.L35:
 176:Src/adjust.c  **** 	}
 177:Src/adjust.c  **** 	else if((side_sensor_l_th > side_sensor_l))
 526              		.loc 1 177 7 is_stmt 1 view .LVU109
 527              		.loc 1 177 9 is_stmt 0 view .LVU110
 528 0174 DDE90023 		ldrd	r2, [sp]
 529 0178 2046     		mov	r0, r4
 530 017a 2946     		mov	r1, r5
 531 017c FFF7FEFF 		bl	__aeabi_dcmpgt
 532              	.LVL42:
 533 0180 78B1     		cbz	r0, .L53
 178:Src/adjust.c  **** 	{
 179:Src/adjust.c  **** 		side_wall_ctrl_mode = left;
 534              		.loc 1 179 3 is_stmt 1 view .LVU111
 535              		.loc 1 179 23 is_stmt 0 view .LVU112
 536 0182 1F4B     		ldr	r3, .L59+56
 537 0184 0122     		movs	r2, #1
 538 0186 1A70     		strb	r2, [r3]
 539              	.L38:
 180:Src/adjust.c  **** 	}
 181:Src/adjust.c  **** 	else if((side_sensor_r_th > side_sensor_r))
 182:Src/adjust.c  **** 	{
 183:Src/adjust.c  **** 		side_wall_ctrl_mode = right;
 184:Src/adjust.c  **** 	}
 185:Src/adjust.c  **** 	else{
 186:Src/adjust.c  **** 		side_wall_ctrl_mode = none;
 187:Src/adjust.c  **** 	}
 188:Src/adjust.c  **** 
 189:Src/adjust.c  **** 	//ã‚»ãƒ³ã‚µå€¤æ›´æ–°
 190:Src/adjust.c  **** 	side_sensor_l_old = side_sensor_l;
 540              		.loc 1 190 2 is_stmt 1 view .LVU113
 541              		.loc 1 190 20 is_stmt 0 view .LVU114
 542 0188 154B     		ldr	r3, .L59+24
 543 018a 9DED007B 		vldr.64	d7, [sp]
 544 018e 83ED007B 		vstr.64	d7, [r3]
 191:Src/adjust.c  **** 	side_sensor_r_old = side_sensor_r;
 545              		.loc 1 191 2 is_stmt 1 view .LVU115
 546              		.loc 1 191 20 is_stmt 0 view .LVU116
 547 0192 144B     		ldr	r3, .L59+28
 548 0194 83ED008B 		vstr.64	d8, [r3]
 192:Src/adjust.c  **** 
 193:Src/adjust.c  **** }
ARM GAS  C:\Temp\ccFcJnVM.s 			page 14


 549              		.loc 1 193 1 view .LVU117
 550 0198 02B0     		add	sp, sp, #8
 551              	.LCFI5:
 552              		.cfi_remember_state
 553              		.cfi_def_cfa_offset 40
 554              	.LVL43:
 555              		.loc 1 193 1 view .LVU118
 556              		@ sp needed
 557 019a BDEC028B 		vldm	sp!, {d8}
 558              	.LCFI6:
 559              		.cfi_restore 80
 560              		.cfi_restore 81
 561              		.cfi_def_cfa_offset 32
 562              	.LVL44:
 563              		.loc 1 193 1 view .LVU119
 564 019e BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 565              	.LVL45:
 566              	.L53:
 567              	.LCFI7:
 568              		.cfi_restore_state
 181:Src/adjust.c  **** 	{
 569              		.loc 1 181 7 is_stmt 1 view .LVU120
 181:Src/adjust.c  **** 	{
 570              		.loc 1 181 9 is_stmt 0 view .LVU121
 571 01a2 53EC182B 		vmov	r2, r3, d8
 572 01a6 1549     		ldr	r1, .L59+52
 573 01a8 D1E90001 		ldrd	r0, [r1]
 574 01ac FFF7FEFF 		bl	__aeabi_dcmpgt
 575              	.LVL46:
 576 01b0 18B1     		cbz	r0, .L54
 183:Src/adjust.c  **** 	}
 577              		.loc 1 183 3 is_stmt 1 view .LVU122
 183:Src/adjust.c  **** 	}
 578              		.loc 1 183 23 is_stmt 0 view .LVU123
 579 01b2 134B     		ldr	r3, .L59+56
 580 01b4 0022     		movs	r2, #0
 581 01b6 1A70     		strb	r2, [r3]
 582 01b8 E6E7     		b	.L38
 583              	.L54:
 186:Src/adjust.c  **** 	}
 584              		.loc 1 186 3 is_stmt 1 view .LVU124
 186:Src/adjust.c  **** 	}
 585              		.loc 1 186 23 is_stmt 0 view .LVU125
 586 01ba 114B     		ldr	r3, .L59+56
 587 01bc 0322     		movs	r2, #3
 588 01be 1A70     		strb	r2, [r3]
 589 01c0 E2E7     		b	.L38
 590              	.L60:
 591 01c2 00BFAFF3 		.align	3
 591      0080
 592              	.L59:
 593 01c8 D2FBC6D7 		.word	-674825262
 594 01cc 9E59123F 		.word	1058167198
 595 01d0 BA1E85EB 		.word	-343597382
 596 01d4 51B88E3F 		.word	1066317905
 597 01d8 EC51B81E 		.word	515396076
 598 01dc 85EBA13F 		.word	1067576197
ARM GAS  C:\Temp\ccFcJnVM.s 			page 15


 599 01e0 00000000 		.word	.LANCHOR6
 600 01e4 00000000 		.word	.LANCHOR7
 601 01e8 00000000 		.word	.LANCHOR8
 602 01ec CDCCCCCC 		.word	-858993459
 603 01f0 00000000 		.word	.LANCHOR9
 604 01f4 00002440 		.word	1076101120
 605 01f8 00000000 		.word	.LANCHOR3
 606 01fc 00000000 		.word	.LANCHOR4
 607 0200 00000000 		.word	.LANCHOR5
 608              		.cfi_endproc
 609              	.LFE10:
 611              		.global	__aeabi_dmul
 612              		.section	.text.get_side_wall_err,"ax",%progbits
 613              		.align	1
 614              		.global	get_side_wall_err
 615              		.syntax unified
 616              		.thumb
 617              		.thumb_func
 618              		.fpu fpv4-sp-d16
 620              	get_side_wall_err:
 621              	.LFB11:
 194:Src/adjust.c  **** 
 195:Src/adjust.c  **** //æ©Ÿèƒ½	: å„æ¨ªå£åˆ¶å¾¡ãƒ¢ãƒ¼ãƒ‰ã«ãŠã‘ã‚‹åå·®ã‚’ç®—å‡ºã€å–å¾—ã™ã‚‹
 196:Src/adjust.c  **** //å¼•æ•°	: ãªã—
 197:Src/adjust.c  **** //è¿”ã‚Šå€¤	: ä¸­å¿ƒä½ç½®ã‹ã‚‰ã®åå·®
 198:Src/adjust.c  **** //å‚™è€ƒ 	:1msã‚¿ã‚¹ã‚¯
 199:Src/adjust.c  **** double get_side_wall_err(void)
 200:Src/adjust.c  **** {
 622              		.loc 1 200 1 is_stmt 1 view -0
 623              		.cfi_startproc
 624              		@ args = 0, pretend = 0, frame = 0
 625              		@ frame_needed = 0, uses_anonymous_args = 0
 626 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 627              	.LCFI8:
 628              		.cfi_def_cfa_offset 24
 629              		.cfi_offset 3, -24
 630              		.cfi_offset 4, -20
 631              		.cfi_offset 5, -16
 632              		.cfi_offset 6, -12
 633              		.cfi_offset 7, -8
 634              		.cfi_offset 14, -4
 201:Src/adjust.c  **** 	double side_wall_err_tmp = 0;
 635              		.loc 1 201 2 view .LVU127
 636              	.LVL47:
 202:Src/adjust.c  **** 	
 203:Src/adjust.c  **** 	switch(side_wall_ctrl_mode){
 637              		.loc 1 203 2 view .LVU128
 638 0002 2D4B     		ldr	r3, .L67+8
 639 0004 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 640 0006 012B     		cmp	r3, #1
 641 0008 05D0     		beq	.L62
 642 000a 022B     		cmp	r3, #2
 643 000c 2AD0     		beq	.L63
 644 000e B3B1     		cbz	r3, .L64
 645 0010 9FED270B 		vldr.64	d0, .L67
 646              	.LVL48:
 647              	.L61:
ARM GAS  C:\Temp\ccFcJnVM.s 			page 16


 204:Src/adjust.c  **** 		case left:
 205:Src/adjust.c  **** 			side_wall_err_tmp = -2 * (target_sensor_sl - SensorValue2length(1));
 206:Src/adjust.c  **** 			break;
 207:Src/adjust.c  **** 		
 208:Src/adjust.c  **** 		case right:
 209:Src/adjust.c  **** 			side_wall_err_tmp = 2 * (target_sensor_sr - SensorValue2length(2));
 210:Src/adjust.c  **** 			break;
 211:Src/adjust.c  **** 		
 212:Src/adjust.c  **** 		case both_side:
 213:Src/adjust.c  **** 			side_wall_err_tmp = (target_sensor_sr - SensorValue2length(2)) - (target_sensor_sl - SensorValue
 214:Src/adjust.c  **** 			break;
 215:Src/adjust.c  **** 		
 216:Src/adjust.c  **** 		case none:
 217:Src/adjust.c  **** 			side_wall_err_tmp = 0;
 218:Src/adjust.c  **** 			break;						
 219:Src/adjust.c  **** 	}
 220:Src/adjust.c  **** 
 221:Src/adjust.c  **** 	return side_wall_err_tmp;
 222:Src/adjust.c  **** }
 648              		.loc 1 222 1 is_stmt 0 view .LVU129
 649 0014 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 650              	.LVL49:
 651              	.L62:
 205:Src/adjust.c  **** 			break;
 652              		.loc 1 205 4 is_stmt 1 view .LVU130
 205:Src/adjust.c  **** 			break;
 653              		.loc 1 205 47 is_stmt 0 view .LVU131
 654 0016 294B     		ldr	r3, .L67+12
 655 0018 D3E90045 		ldrd	r4, [r3]
 205:Src/adjust.c  **** 			break;
 656              		.loc 1 205 49 view .LVU132
 657 001c 0120     		movs	r0, #1
 658 001e FFF7FEFF 		bl	SensorValue2length
 659              	.LVL50:
 660 0022 53EC102B 		vmov	r2, r3, d0
 205:Src/adjust.c  **** 			break;
 661              		.loc 1 205 47 view .LVU133
 662 0026 2046     		mov	r0, r4
 663 0028 2946     		mov	r1, r5
 664 002a FFF7FEFF 		bl	__aeabi_dsub
 665              	.LVL51:
 205:Src/adjust.c  **** 			break;
 666              		.loc 1 205 22 view .LVU134
 667 002e 0022     		movs	r2, #0
 668 0030 4FF04043 		mov	r3, #-1073741824
 669 0034 FFF7FEFF 		bl	__aeabi_dmul
 670              	.LVL52:
 671 0038 41EC100B 		vmov	d0, r0, r1
 672              	.LVL53:
 206:Src/adjust.c  **** 		
 673              		.loc 1 206 4 is_stmt 1 view .LVU135
 674 003c EAE7     		b	.L61
 675              	.LVL54:
 676              	.L64:
 209:Src/adjust.c  **** 			break;
 677              		.loc 1 209 4 view .LVU136
 209:Src/adjust.c  **** 			break;
ARM GAS  C:\Temp\ccFcJnVM.s 			page 17


 678              		.loc 1 209 46 is_stmt 0 view .LVU137
 679 003e 204B     		ldr	r3, .L67+16
 680 0040 D3E90045 		ldrd	r4, [r3]
 209:Src/adjust.c  **** 			break;
 681              		.loc 1 209 48 view .LVU138
 682 0044 0220     		movs	r0, #2
 683 0046 FFF7FEFF 		bl	SensorValue2length
 684              	.LVL55:
 685 004a 53EC102B 		vmov	r2, r3, d0
 209:Src/adjust.c  **** 			break;
 686              		.loc 1 209 46 view .LVU139
 687 004e 2046     		mov	r0, r4
 688 0050 2946     		mov	r1, r5
 689 0052 FFF7FEFF 		bl	__aeabi_dsub
 690              	.LVL56:
 691 0056 0246     		mov	r2, r0
 692 0058 0B46     		mov	r3, r1
 209:Src/adjust.c  **** 			break;
 693              		.loc 1 209 22 view .LVU140
 694 005a FFF7FEFF 		bl	__aeabi_dadd
 695              	.LVL57:
 696 005e 41EC100B 		vmov	d0, r0, r1
 697              	.LVL58:
 210:Src/adjust.c  **** 		
 698              		.loc 1 210 4 is_stmt 1 view .LVU141
 699 0062 D7E7     		b	.L61
 700              	.LVL59:
 701              	.L63:
 213:Src/adjust.c  **** 			break;
 702              		.loc 1 213 4 view .LVU142
 213:Src/adjust.c  **** 			break;
 703              		.loc 1 213 42 is_stmt 0 view .LVU143
 704 0064 164B     		ldr	r3, .L67+16
 705 0066 D3E90045 		ldrd	r4, [r3]
 213:Src/adjust.c  **** 			break;
 706              		.loc 1 213 44 view .LVU144
 707 006a 0220     		movs	r0, #2
 708 006c FFF7FEFF 		bl	SensorValue2length
 709              	.LVL60:
 710 0070 53EC102B 		vmov	r2, r3, d0
 213:Src/adjust.c  **** 			break;
 711              		.loc 1 213 42 view .LVU145
 712 0074 2046     		mov	r0, r4
 713 0076 2946     		mov	r1, r5
 714 0078 FFF7FEFF 		bl	__aeabi_dsub
 715              	.LVL61:
 716 007c 0446     		mov	r4, r0
 717 007e 0D46     		mov	r5, r1
 213:Src/adjust.c  **** 			break;
 718              		.loc 1 213 87 view .LVU146
 719 0080 0E4B     		ldr	r3, .L67+12
 720 0082 D3E90067 		ldrd	r6, [r3]
 213:Src/adjust.c  **** 			break;
 721              		.loc 1 213 89 view .LVU147
 722 0086 0120     		movs	r0, #1
 723 0088 FFF7FEFF 		bl	SensorValue2length
 724              	.LVL62:
ARM GAS  C:\Temp\ccFcJnVM.s 			page 18


 725 008c 53EC102B 		vmov	r2, r3, d0
 213:Src/adjust.c  **** 			break;
 726              		.loc 1 213 87 view .LVU148
 727 0090 3046     		mov	r0, r6
 728 0092 3946     		mov	r1, r7
 729 0094 FFF7FEFF 		bl	__aeabi_dsub
 730              	.LVL63:
 731 0098 0246     		mov	r2, r0
 732 009a 0B46     		mov	r3, r1
 213:Src/adjust.c  **** 			break;
 733              		.loc 1 213 22 view .LVU149
 734 009c 2046     		mov	r0, r4
 735 009e 2946     		mov	r1, r5
 736 00a0 FFF7FEFF 		bl	__aeabi_dsub
 737              	.LVL64:
 738 00a4 41EC100B 		vmov	d0, r0, r1
 739              	.LVL65:
 214:Src/adjust.c  **** 		
 740              		.loc 1 214 4 is_stmt 1 view .LVU150
 221:Src/adjust.c  **** }
 741              		.loc 1 221 2 view .LVU151
 221:Src/adjust.c  **** }
 742              		.loc 1 221 9 is_stmt 0 view .LVU152
 743 00a8 B4E7     		b	.L61
 744              	.L68:
 745 00aa 00BFAFF3 		.align	3
 745      0080
 746              	.L67:
 747 00b0 00000000 		.word	0
 748 00b4 00000000 		.word	0
 749 00b8 00000000 		.word	.LANCHOR5
 750 00bc 00000000 		.word	.LANCHOR1
 751 00c0 00000000 		.word	.LANCHOR2
 752              		.cfi_endproc
 753              	.LFE11:
 755              		.section	.text.adjust_theta_side_wall,"ax",%progbits
 756              		.align	1
 757              		.global	adjust_theta_side_wall
 758              		.syntax unified
 759              		.thumb
 760              		.thumb_func
 761              		.fpu fpv4-sp-d16
 763              	adjust_theta_side_wall:
 764              	.LFB12:
 223:Src/adjust.c  **** 
 224:Src/adjust.c  **** //æ©Ÿèƒ½	: å„æ¨ªå£åˆ¶å¾¡ãƒ¢ãƒ¼ãƒ‰ã«ãŠã‘ã‚‹è§’åº¦è£œæ­£å‡¦ç†ã‚’å…¥ã‚Œã‚‹
 225:Src/adjust.c  **** //å¼•æ•°	: ãªã—
 226:Src/adjust.c  **** //è¿”ã‚Šå€¤	: ãªã—
 227:Src/adjust.c  **** //å‚™è€ƒ 	:1msã‚¿ã‚¹ã‚¯
 228:Src/adjust.c  **** void adjust_theta_side_wall(void)
 229:Src/adjust.c  **** {
 765              		.loc 1 229 1 is_stmt 1 view -0
 766              		.cfi_startproc
 767              		@ args = 0, pretend = 0, frame = 0
 768              		@ frame_needed = 0, uses_anonymous_args = 0
 769              		@ link register save eliminated.
 230:Src/adjust.c  **** 	switch(side_wall_ctrl_mode){
ARM GAS  C:\Temp\ccFcJnVM.s 			page 19


 770              		.loc 1 230 2 view .LVU154
 231:Src/adjust.c  **** 		case left:
 232:Src/adjust.c  **** 			break;
 233:Src/adjust.c  **** 		case right:
 234:Src/adjust.c  **** 			break;
 235:Src/adjust.c  **** 		case both_side:
 236:Src/adjust.c  **** 			break;
 237:Src/adjust.c  **** 		case none:
 238:Src/adjust.c  **** 			break;						
 239:Src/adjust.c  **** 	}
 240:Src/adjust.c  **** 	//è»Œè·¡åˆ¶å¾¡ã®Ié …ã«ãƒ•ã‚£ãƒ«ã‚¿ã‚’ã‹ã‘ã‚‹ã€‚å„ãƒ¢ãƒ¼ãƒ‰ã«å¿œã˜ãŸæ„Ÿã˜ã§ã€‚
 241:Src/adjust.c  **** }
 771              		.loc 1 241 1 is_stmt 0 view .LVU155
 772 0000 7047     		bx	lr
 773              		.cfi_endproc
 774              	.LFE12:
 776              		.global	__aeabi_f2d
 777              		.section	.text.calc_motor_vol_side_wall,"ax",%progbits
 778              		.align	1
 779              		.global	calc_motor_vol_side_wall
 780              		.syntax unified
 781              		.thumb
 782              		.thumb_func
 783              		.fpu fpv4-sp-d16
 785              	calc_motor_vol_side_wall:
 786              	.LFB13:
 242:Src/adjust.c  **** 
 243:Src/adjust.c  **** //æ©Ÿèƒ½	: åå·®ã‹ã‚‰æ¨ªå£åˆ¶å¾¡ã®ãƒ¢ãƒ¼ã‚¿å°åŠ é›»åœ§ã‚’è¨ˆç®—ã™ã‚‹ã€‚
 244:Src/adjust.c  **** //å¼•æ•°	: ãªã—
 245:Src/adjust.c  **** //è¿”ã‚Šå€¤	: ãªã—
 246:Src/adjust.c  **** //å‚™è€ƒ 	:1msã‚¿ã‚¹ã‚¯
 247:Src/adjust.c  **** void calc_motor_vol_side_wall(void)
 248:Src/adjust.c  **** {
 787              		.loc 1 248 1 is_stmt 1 view -0
 788              		.cfi_startproc
 789              		@ args = 0, pretend = 0, frame = 0
 790              		@ frame_needed = 0, uses_anonymous_args = 0
 791 0000 38B5     		push	{r3, r4, r5, lr}
 792              	.LCFI9:
 793              		.cfi_def_cfa_offset 16
 794              		.cfi_offset 3, -16
 795              		.cfi_offset 4, -12
 796              		.cfi_offset 5, -8
 797              		.cfi_offset 14, -4
 798 0002 2DED028B 		vpush.64	{d8}
 799              	.LCFI10:
 800              		.cfi_def_cfa_offset 24
 801              		.cfi_offset 80, -24
 802              		.cfi_offset 81, -20
 249:Src/adjust.c  **** 	double side_wall_err = 0;
 803              		.loc 1 249 2 view .LVU157
 804              	.LVL66:
 250:Src/adjust.c  **** 	double side_wall_err_P = 0;
 805              		.loc 1 250 2 view .LVU158
 251:Src/adjust.c  **** 	double side_wall_err_D = 0;
 806              		.loc 1 251 2 view .LVU159
 252:Src/adjust.c  **** 	double side_wall_err_PD = 0;
ARM GAS  C:\Temp\ccFcJnVM.s 			page 20


 807              		.loc 1 252 2 view .LVU160
 253:Src/adjust.c  **** 	static double side_wall_err_prev = 0;
 808              		.loc 1 253 2 view .LVU161
 254:Src/adjust.c  **** 	static double side_wall_err_D_prev = 0;
 809              		.loc 1 254 2 view .LVU162
 255:Src/adjust.c  **** 
 256:Src/adjust.c  **** 	//åå·®å–å¾—
 257:Src/adjust.c  **** 	side_wall_err = get_side_wall_err();
 810              		.loc 1 257 2 view .LVU163
 811              		.loc 1 257 18 is_stmt 0 view .LVU164
 812 0006 FFF7FEFF 		bl	get_side_wall_err
 813              	.LVL67:
 814 000a 51EC100B 		vmov	r0, r1, d0
 815              	.LVL68:
 258:Src/adjust.c  **** 
 259:Src/adjust.c  **** 	//Pé …
 260:Src/adjust.c  **** 	side_wall_err_P = side_wall_P * side_wall_err;
 816              		.loc 1 260 2 is_stmt 1 view .LVU165
 817              		.loc 1 260 18 is_stmt 0 view .LVU166
 818 000e 0022     		movs	r2, #0
 819 0010 114B     		ldr	r3, .L72
 820 0012 FFF7FEFF 		bl	__aeabi_dmul
 821              	.LVL69:
 822              		.loc 1 260 18 view .LVU167
 823 0016 0446     		mov	r4, r0
 824 0018 0D46     		mov	r5, r1
 825              	.LVL70:
 261:Src/adjust.c  **** 	
 262:Src/adjust.c  **** 	//Dé …
 263:Src/adjust.c  **** 	//side_wall_err_D = (side_wall_err_D_prev + side_wall_D * side_wall_fil * (side_wall_err - side_wa
 264:Src/adjust.c  **** 	//							/(1+side_wall_fil*0.001);
 265:Src/adjust.c  **** 
 266:Src/adjust.c  **** 	//Dé …
 267:Src/adjust.c  **** 	//yæ–¹å‘ã®é€Ÿåº¦
 268:Src/adjust.c  **** 	//é€Ÿåº¦*ç›®æ¨™è§’åº¦ã¨å®Ÿè§’åº¦ã®ã‚¨ãƒ©ãƒ¼
 269:Src/adjust.c  **** 	side_wall_err_D = -1 * side_wall_D * get_move_speed() * (get_rotation_angle() - get_ideal_angle())
 826              		.loc 1 269 2 is_stmt 1 view .LVU168
 827              		.loc 1 269 39 is_stmt 0 view .LVU169
 828 001a FFF7FEFF 		bl	get_move_speed
 829              	.LVL71:
 830              		.loc 1 269 37 view .LVU170
 831 001e F1EE408A 		vneg.f32	s17, s0
 832              		.loc 1 269 59 view .LVU171
 833 0022 FFF7FEFF 		bl	get_rotation_angle
 834              	.LVL72:
 835 0026 B0EE408A 		vmov.f32	s16, s0
 836              		.loc 1 269 82 view .LVU172
 837 002a FFF7FEFF 		bl	get_ideal_angle
 838              	.LVL73:
 839              		.loc 1 269 80 view .LVU173
 840 002e 38EE408A 		vsub.f32	s16, s16, s0
 841              		.loc 1 269 18 view .LVU174
 842 0032 68EE887A 		vmul.f32	s15, s17, s16
 843 0036 17EE900A 		vmov	r0, s15
 844 003a FFF7FEFF 		bl	__aeabi_f2d
 845              	.LVL74:
 846 003e 0246     		mov	r2, r0
ARM GAS  C:\Temp\ccFcJnVM.s 			page 21


 847 0040 0B46     		mov	r3, r1
 848              	.LVL75:
 270:Src/adjust.c  **** 
 271:Src/adjust.c  **** 	//åˆç®—
 272:Src/adjust.c  **** 	side_wall_err_PD = side_wall_err_P + side_wall_err_D;
 849              		.loc 1 272 2 is_stmt 1 view .LVU175
 850              		.loc 1 272 19 is_stmt 0 view .LVU176
 851 0042 2046     		mov	r0, r4
 852 0044 2946     		mov	r1, r5
 853 0046 FFF7FEFF 		bl	__aeabi_dadd
 854              	.LVL76:
 273:Src/adjust.c  **** 
 274:Src/adjust.c  **** 	/*å°åŠ é›»åœ§ç®—å‡º*/
 275:Src/adjust.c  **** 	target_vol_diff_sidewall = (float)side_wall_err_PD;
 855              		.loc 1 275 2 is_stmt 1 view .LVU177
 856              		.loc 1 275 29 is_stmt 0 view .LVU178
 857 004a FFF7FEFF 		bl	__aeabi_d2f
 858              	.LVL77:
 859              		.loc 1 275 27 view .LVU179
 860 004e 034B     		ldr	r3, .L72+4
 861 0050 1860     		str	r0, [r3]	@ float
 276:Src/adjust.c  **** 
 277:Src/adjust.c  **** 	/*ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿æ›´æ–°*/
 278:Src/adjust.c  **** 	side_wall_err_prev = side_wall_err;
 862              		.loc 1 278 2 is_stmt 1 view .LVU180
 279:Src/adjust.c  **** 	side_wall_err_D_prev = side_wall_err_D;
 863              		.loc 1 279 2 view .LVU181
 280:Src/adjust.c  **** 
 281:Src/adjust.c  **** }
 864              		.loc 1 281 1 is_stmt 0 view .LVU182
 865 0052 BDEC028B 		vldm	sp!, {d8}
 866              	.LCFI11:
 867              		.cfi_restore 80
 868              		.cfi_restore 81
 869              		.cfi_def_cfa_offset 16
 870 0056 38BD     		pop	{r3, r4, r5, pc}
 871              	.LVL78:
 872              	.L73:
 873              		.loc 1 281 1 view .LVU183
 874              		.align	2
 875              	.L72:
 876 0058 00006940 		.word	1080623104
 877 005c 00000000 		.word	.LANCHOR10
 878              		.cfi_endproc
 879              	.LFE13:
 881              		.section	.text.get_target_vol_diff_sidewall,"ax",%progbits
 882              		.align	1
 883              		.global	get_target_vol_diff_sidewall
 884              		.syntax unified
 885              		.thumb
 886              		.thumb_func
 887              		.fpu fpv4-sp-d16
 889              	get_target_vol_diff_sidewall:
 890              	.LFB14:
 282:Src/adjust.c  **** 
 283:Src/adjust.c  **** //æ©Ÿèƒ½	: æ¨ªå£è£œæ­£ã«ã‚ˆã‚‹ãƒ¢ãƒ¼ã‚¿å°åŠ é›»åœ§ã®å·®ã‚’å–å¾—ã™ã‚‹
 284:Src/adjust.c  **** //å¼•æ•°	: ãªã—
ARM GAS  C:\Temp\ccFcJnVM.s 			page 22


 285:Src/adjust.c  **** //è¿”ã‚Šå€¤	: æ¨ªå£è£œæ­£ã«ã‚ˆã‚‹å³ãƒ¢ãƒ¼ã‚¿å°åŠ é›»åœ§
 286:Src/adjust.c  **** float get_target_vol_diff_sidewall ( void )
 287:Src/adjust.c  **** {
 891              		.loc 1 287 1 is_stmt 1 view -0
 892              		.cfi_startproc
 893              		@ args = 0, pretend = 0, frame = 0
 894              		@ frame_needed = 0, uses_anonymous_args = 0
 895              		@ link register save eliminated.
 288:Src/adjust.c  **** 	return target_vol_diff_sidewall;
 896              		.loc 1 288 2 view .LVU185
 289:Src/adjust.c  **** }
 897              		.loc 1 289 1 is_stmt 0 view .LVU186
 898 0000 014B     		ldr	r3, .L75
 899 0002 93ED000A 		vldr.32	s0, [r3]
 900 0006 7047     		bx	lr
 901              	.L76:
 902              		.align	2
 903              	.L75:
 904 0008 00000000 		.word	.LANCHOR10
 905              		.cfi_endproc
 906              	.LFE14:
 908              		.section	.text.calc_motor_vol_front_wall,"ax",%progbits
 909              		.align	1
 910              		.global	calc_motor_vol_front_wall
 911              		.syntax unified
 912              		.thumb
 913              		.thumb_func
 914              		.fpu fpv4-sp-d16
 916              	calc_motor_vol_front_wall:
 917              	.LFB15:
 290:Src/adjust.c  **** 
 291:Src/adjust.c  **** 
 292:Src/adjust.c  **** //æ©Ÿèƒ½	: å‰å£åˆ¶å¾¡ã«ãŠã‘ã‚‹ãƒ¢ãƒ¼ã‚¿å°åŠ é›»åœ§ã‚’è¨ˆç®—ã™ã‚‹ã€‚
 293:Src/adjust.c  **** //å¼•æ•°	: ãªã—
 294:Src/adjust.c  **** //è¿”ã‚Šå€¤	: ãªã—
 295:Src/adjust.c  **** //å‚™è€ƒ	:1msã‚¿ã‚¹ã‚¯
 296:Src/adjust.c  **** void calc_motor_vol_front_wall ( void )
 297:Src/adjust.c  **** {
 918              		.loc 1 297 1 is_stmt 1 view -0
 919              		.cfi_startproc
 920              		@ args = 0, pretend = 0, frame = 24
 921              		@ frame_needed = 0, uses_anonymous_args = 0
 922 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 923              	.LCFI12:
 924              		.cfi_def_cfa_offset 36
 925              		.cfi_offset 4, -36
 926              		.cfi_offset 5, -32
 927              		.cfi_offset 6, -28
 928              		.cfi_offset 7, -24
 929              		.cfi_offset 8, -20
 930              		.cfi_offset 9, -16
 931              		.cfi_offset 10, -12
 932              		.cfi_offset 11, -8
 933              		.cfi_offset 14, -4
 934 0004 2DED088B 		vpush.64	{d8, d9, d10, d11}
 935              	.LCFI13:
 936              		.cfi_def_cfa_offset 68
ARM GAS  C:\Temp\ccFcJnVM.s 			page 23


 937              		.cfi_offset 80, -68
 938              		.cfi_offset 81, -64
 939              		.cfi_offset 82, -60
 940              		.cfi_offset 83, -56
 941              		.cfi_offset 84, -52
 942              		.cfi_offset 85, -48
 943              		.cfi_offset 86, -44
 944              		.cfi_offset 87, -40
 945 0008 87B0     		sub	sp, sp, #28
 946              	.LCFI14:
 947              		.cfi_def_cfa_offset 96
 298:Src/adjust.c  **** 	double front_sensor_r = 0; 				//å³å‰ã‚»ãƒ³ã‚µå€¤
 948              		.loc 1 298 2 view .LVU188
 949              	.LVL79:
 299:Src/adjust.c  ****     double front_sensor_l = 0; 				//å·¦å‰ã‚»ãƒ³ã‚µå€¤
 950              		.loc 1 299 5 view .LVU189
 300:Src/adjust.c  ****     double front_sensor_r_err = 0;   		//å³å‰ã‚»ãƒ³ã‚µã®åå·®
 951              		.loc 1 300 5 view .LVU190
 301:Src/adjust.c  ****     double front_sensor_l_err = 0;			//å·¦å‰ã‚»ãƒ³ã‚µã®åå·®
 952              		.loc 1 301 5 view .LVU191
 302:Src/adjust.c  ****     double front_sensor_move_err = 0;   	//ã‚»ãƒ³ã‚µã®åå·®ã®å’Œ
 953              		.loc 1 302 5 view .LVU192
 303:Src/adjust.c  ****     double front_sensor_rotate_err = 0;		//ã‚»ãƒ³ã‚µã®åå·®ã®å·®
 954              		.loc 1 303 5 view .LVU193
 304:Src/adjust.c  **** 
 305:Src/adjust.c  ****     double front_sensor_move_err_P = 0;   	//åå·®å’Œã®Pé …
 955              		.loc 1 305 5 view .LVU194
 306:Src/adjust.c  ****     double front_sensor_rotate_err_P = 0;   //åå·®å·®ã®Pé …
 956              		.loc 1 306 5 view .LVU195
 307:Src/adjust.c  ****     double front_sensor_move_err_D = 0;   	//åå·®å’Œã®Dé …
 957              		.loc 1 307 5 view .LVU196
 308:Src/adjust.c  ****     double front_sensor_rotate_err_D = 0;   //åå·®å·®ã®Dé …
 958              		.loc 1 308 5 view .LVU197
 309:Src/adjust.c  ****     double front_sensor_move_PID = 0;  		//
 959              		.loc 1 309 5 view .LVU198
 310:Src/adjust.c  ****     double front_sensor_rotate_PID = 0;   		//
 960              		.loc 1 310 5 view .LVU199
 311:Src/adjust.c  **** 
 312:Src/adjust.c  **** 
 313:Src/adjust.c  **** 	//ã‚»ãƒ³ã‚µå€¤å–å¾—
 314:Src/adjust.c  **** 	front_sensor_l = SensorValue2length(0);
 961              		.loc 1 314 2 view .LVU200
 962              		.loc 1 314 19 is_stmt 0 view .LVU201
 963 000a 0020     		movs	r0, #0
 964 000c FFF7FEFF 		bl	SensorValue2length
 965              	.LVL80:
 966 0010 57EC106B 		vmov	r6, r7, d0
 967              	.LVL81:
 315:Src/adjust.c  **** 	front_sensor_r = SensorValue2length(3);
 968              		.loc 1 315 2 is_stmt 1 view .LVU202
 969              		.loc 1 315 19 is_stmt 0 view .LVU203
 970 0014 0320     		movs	r0, #3
 971 0016 FFF7FEFF 		bl	SensorValue2length
 972              	.LVL82:
 973 001a 55EC104B 		vmov	r4, r5, d0
 974              	.LVL83:
 316:Src/adjust.c  **** 
ARM GAS  C:\Temp\ccFcJnVM.s 			page 24


 317:Src/adjust.c  **** 	//åå·®å–å¾—
 318:Src/adjust.c  **** 	front_sensor_l_err = front_sensor_l - front_sensor_l_ref ;
 975              		.loc 1 318 2 is_stmt 1 view .LVU204
 976              		.loc 1 318 21 is_stmt 0 view .LVU205
 977 001e 74A3     		adr	r3, .L79+72
 978 0020 D3E90023 		ldrd	r2, [r3]
 979 0024 3046     		mov	r0, r6
 980 0026 3946     		mov	r1, r7
 981 0028 FFF7FEFF 		bl	__aeabi_dsub
 982              	.LVL84:
 983 002c 0646     		mov	r6, r0
 984              	.LVL85:
 985              		.loc 1 318 21 view .LVU206
 986 002e 0F46     		mov	r7, r1
 987              	.LVL86:
 319:Src/adjust.c  **** 	front_sensor_r_err = front_sensor_r - front_sensor_r_ref ;
 988              		.loc 1 319 2 is_stmt 1 view .LVU207
 989              		.loc 1 319 21 is_stmt 0 view .LVU208
 990 0030 71A3     		adr	r3, .L79+80
 991 0032 D3E90023 		ldrd	r2, [r3]
 992 0036 2046     		mov	r0, r4
 993 0038 2946     		mov	r1, r5
 994 003a FFF7FEFF 		bl	__aeabi_dsub
 995              	.LVL87:
 996 003e 0446     		mov	r4, r0
 997              	.LVL88:
 998              		.loc 1 319 21 view .LVU209
 999 0040 0D46     		mov	r5, r1
 1000              	.LVL89:
 320:Src/adjust.c  **** 
 321:Src/adjust.c  **** 	/* åå·®å¤‰æ›*/
 322:Src/adjust.c  **** 	front_sensor_move_err = front_sensor_r_err + front_sensor_l_err;
 1001              		.loc 1 322 2 is_stmt 1 view .LVU210
 1002              		.loc 1 322 24 is_stmt 0 view .LVU211
 1003 0042 0246     		mov	r2, r0
 1004 0044 0B46     		mov	r3, r1
 1005 0046 3046     		mov	r0, r6
 1006 0048 3946     		mov	r1, r7
 1007 004a FFF7FEFF 		bl	__aeabi_dadd
 1008              	.LVL90:
 1009 004e 8046     		mov	r8, r0
 1010 0050 8946     		mov	r9, r1
 1011              	.LVL91:
 323:Src/adjust.c  **** 	front_sensor_rotate_err = (front_sensor_r_err - front_sensor_l_err)/chassis_width; //è§’åº¦ã«å¤‰æ
 1012              		.loc 1 323 2 is_stmt 1 view .LVU212
 1013              		.loc 1 323 48 is_stmt 0 view .LVU213
 1014 0052 3246     		mov	r2, r6
 1015 0054 3B46     		mov	r3, r7
 1016 0056 2046     		mov	r0, r4
 1017 0058 2946     		mov	r1, r5
 1018 005a FFF7FEFF 		bl	__aeabi_dsub
 1019              	.LVL92:
 1020              		.loc 1 323 26 view .LVU214
 1021 005e 68A3     		adr	r3, .L79+88
 1022 0060 D3E90023 		ldrd	r2, [r3]
 1023 0064 FFF7FEFF 		bl	__aeabi_ddiv
 1024              	.LVL93:
ARM GAS  C:\Temp\ccFcJnVM.s 			page 25


 1025 0068 0646     		mov	r6, r0
 1026              	.LVL94:
 1027              		.loc 1 323 26 view .LVU215
 1028 006a 0F46     		mov	r7, r1
 1029              	.LVL95:
 324:Src/adjust.c  **** 
 325:Src/adjust.c  **** 	/*åå·®ç©åˆ†(Ié …)*/
 326:Src/adjust.c  **** 	front_sensor_move_err_I  += front_sensor_move_KI * 0.001 * front_sensor_move_err;
 1030              		.loc 1 326 2 is_stmt 1 view .LVU216
 1031              		.loc 1 326 59 is_stmt 0 view .LVU217
 1032 006c 66A3     		adr	r3, .L79+96
 1033 006e D3E90023 		ldrd	r2, [r3]
 1034 0072 4046     		mov	r0, r8
 1035 0074 4946     		mov	r1, r9
 1036 0076 FFF7FEFF 		bl	__aeabi_dmul
 1037              	.LVL96:
 1038              		.loc 1 326 27 view .LVU218
 1039 007a 594C     		ldr	r4, .L79+56
 1040              	.LVL97:
 1041              		.loc 1 326 27 view .LVU219
 1042 007c D4E90023 		ldrd	r2, [r4]
 1043 0080 FFF7FEFF 		bl	__aeabi_dadd
 1044              	.LVL98:
 1045 0084 41EC1B0B 		vmov	d11, r0, r1
 1046 0088 C4E90001 		strd	r0, [r4]
 327:Src/adjust.c  **** 	front_sensor_rotate_err_I  += front_sensor_rotate_KI * 0.001 * front_sensor_rotate_err;
 1047              		.loc 1 327 2 is_stmt 1 view .LVU220
 1048              		.loc 1 327 63 is_stmt 0 view .LVU221
 1049 008c 46A3     		adr	r3, .L79
 1050 008e D3E90023 		ldrd	r2, [r3]
 1051 0092 3046     		mov	r0, r6
 1052 0094 3946     		mov	r1, r7
 1053 0096 FFF7FEFF 		bl	__aeabi_dmul
 1054              	.LVL99:
 1055              		.loc 1 327 29 view .LVU222
 1056 009a 524C     		ldr	r4, .L79+60
 1057 009c D4E90023 		ldrd	r2, [r4]
 1058 00a0 FFF7FEFF 		bl	__aeabi_dadd
 1059              	.LVL100:
 1060 00a4 41EC1A0B 		vmov	d10, r0, r1
 1061 00a8 C4E90001 		strd	r0, [r4]
 328:Src/adjust.c  **** 	/*Pé …*/
 329:Src/adjust.c  **** 	front_sensor_move_err_P = front_sensor_move_KP * front_sensor_move_err;
 1062              		.loc 1 329 2 is_stmt 1 view .LVU223
 1063              		.loc 1 329 26 is_stmt 0 view .LVU224
 1064 00ac 40A3     		adr	r3, .L79+8
 1065 00ae D3E90023 		ldrd	r2, [r3]
 1066 00b2 4046     		mov	r0, r8
 1067 00b4 4946     		mov	r1, r9
 1068 00b6 FFF7FEFF 		bl	__aeabi_dmul
 1069              	.LVL101:
 1070 00ba 0446     		mov	r4, r0
 1071 00bc 0D46     		mov	r5, r1
 1072              	.LVL102:
 330:Src/adjust.c  **** 	front_sensor_rotate_err_P = front_sensor_rotate_KP * front_sensor_rotate_err;
 1073              		.loc 1 330 2 is_stmt 1 view .LVU225
 1074              		.loc 1 330 28 is_stmt 0 view .LVU226
ARM GAS  C:\Temp\ccFcJnVM.s 			page 26


 1075 00be 3EA3     		adr	r3, .L79+16
 1076 00c0 D3E90023 		ldrd	r2, [r3]
 1077 00c4 3046     		mov	r0, r6
 1078 00c6 3946     		mov	r1, r7
 1079 00c8 FFF7FEFF 		bl	__aeabi_dmul
 1080              	.LVL103:
 1081 00cc CDE90201 		strd	r0, [sp, #8]
 1082              	.LVL104:
 331:Src/adjust.c  **** 	/*Dé …*/
 332:Src/adjust.c  **** 	front_sensor_move_err_D = (front_sensor_move_D_prev + front_sensor_move_KD * front_sensor_move_fil
 1083              		.loc 1 332 2 is_stmt 1 view .LVU227
 1084              		.loc 1 332 126 is_stmt 0 view .LVU228
 1085 00d0 DFF83CB1 		ldr	fp, .L79+104
 1086 00d4 DBE90023 		ldrd	r2, [fp]
 1087 00d8 CDE90089 		strd	r8, [sp]
 1088 00dc 4046     		mov	r0, r8
 1089              	.LVL105:
 1090              		.loc 1 332 126 view .LVU229
 1091 00de 4946     		mov	r1, r9
 1092 00e0 FFF7FEFF 		bl	__aeabi_dsub
 1093              	.LVL106:
 1094              		.loc 1 332 101 view .LVU230
 1095 00e4 36A3     		adr	r3, .L79+24
 1096 00e6 D3E90023 		ldrd	r2, [r3]
 1097 00ea FFF7FEFF 		bl	__aeabi_dmul
 1098              	.LVL107:
 1099              		.loc 1 332 54 view .LVU231
 1100 00ee DFF82491 		ldr	r9, .L79+108
 1101 00f2 D9E90023 		ldrd	r2, [r9]
 1102 00f6 FFF7FEFF 		bl	__aeabi_dadd
 1103              	.LVL108:
 1104              		.loc 1 332 26 view .LVU232
 1105 00fa 33A3     		adr	r3, .L79+32
 1106 00fc D3E90023 		ldrd	r2, [r3]
 1107 0100 FFF7FEFF 		bl	__aeabi_ddiv
 1108              	.LVL109:
 1109 0104 41EC190B 		vmov	d9, r0, r1
 1110              	.LVL110:
 333:Src/adjust.c  **** 								/(1+front_sensor_move_fil*0.001);
 334:Src/adjust.c  **** 	front_sensor_rotate_err_D = (front_sensor_rotate_D_prev + front_sensor_rotate_KD * front_sensor_ro
 1111              		.loc 1 334 2 is_stmt 1 view .LVU233
 1112              		.loc 1 334 136 is_stmt 0 view .LVU234
 1113 0108 DFF80CA1 		ldr	r10, .L79+112
 1114 010c DAE90023 		ldrd	r2, [r10]
 1115 0110 3046     		mov	r0, r6
 1116              	.LVL111:
 1117              		.loc 1 334 136 view .LVU235
 1118 0112 3946     		mov	r1, r7
 1119 0114 FFF7FEFF 		bl	__aeabi_dsub
 1120              	.LVL112:
 1121              		.loc 1 334 109 view .LVU236
 1122 0118 2DA3     		adr	r3, .L79+40
 1123 011a D3E90023 		ldrd	r2, [r3]
 1124 011e FFF7FEFF 		bl	__aeabi_dmul
 1125              	.LVL113:
 1126              		.loc 1 334 58 view .LVU237
 1127 0122 DFF8F880 		ldr	r8, .L79+116
ARM GAS  C:\Temp\ccFcJnVM.s 			page 27


 1128              	.LVL114:
 1129              		.loc 1 334 58 view .LVU238
 1130 0126 D8E90023 		ldrd	r2, [r8]
 1131 012a FFF7FEFF 		bl	__aeabi_dadd
 1132              	.LVL115:
 1133              		.loc 1 334 28 view .LVU239
 1134 012e 2AA3     		adr	r3, .L79+48
 1135 0130 D3E90023 		ldrd	r2, [r3]
 1136 0134 FFF7FEFF 		bl	__aeabi_ddiv
 1137              	.LVL116:
 1138 0138 41EC180B 		vmov	d8, r0, r1
 1139              	.LVL117:
 335:Src/adjust.c  **** 								/(1+front_sensor_rotate_fil*0.001);
 336:Src/adjust.c  **** 	/*PID*/
 337:Src/adjust.c  **** 	front_sensor_move_PID = front_sensor_move_err_P + front_sensor_move_err_I + front_sensor_move_err_
 1140              		.loc 1 337 2 is_stmt 1 view .LVU240
 1141              		.loc 1 337 50 is_stmt 0 view .LVU241
 1142 013c 2246     		mov	r2, r4
 1143 013e 2B46     		mov	r3, r5
 1144 0140 51EC1B0B 		vmov	r0, r1, d11
 1145              	.LVL118:
 1146              		.loc 1 337 50 view .LVU242
 1147 0144 FFF7FEFF 		bl	__aeabi_dadd
 1148              	.LVL119:
 1149              		.loc 1 337 24 view .LVU243
 1150 0148 53EC192B 		vmov	r2, r3, d9
 1151 014c FFF7FEFF 		bl	__aeabi_dadd
 1152              	.LVL120:
 1153 0150 CDE90401 		strd	r0, [sp, #16]
 1154              	.LVL121:
 338:Src/adjust.c  ****     front_sensor_rotate_PID = front_sensor_rotate_err_P + front_sensor_rotate_err_I + front_sensor_
 1155              		.loc 1 338 5 is_stmt 1 view .LVU244
 1156              		.loc 1 338 57 is_stmt 0 view .LVU245
 1157 0154 DDE90223 		ldrd	r2, [sp, #8]
 1158 0158 51EC1A0B 		vmov	r0, r1, d10
 1159              	.LVL122:
 1160              		.loc 1 338 57 view .LVU246
 1161 015c FFF7FEFF 		bl	__aeabi_dadd
 1162              	.LVL123:
 1163              		.loc 1 338 29 view .LVU247
 1164 0160 53EC182B 		vmov	r2, r3, d8
 1165 0164 FFF7FEFF 		bl	__aeabi_dadd
 1166              	.LVL124:
 1167 0168 0446     		mov	r4, r0
 1168              	.LVL125:
 1169              		.loc 1 338 29 view .LVU248
 1170 016a 0D46     		mov	r5, r1
 1171              	.LVL126:
 339:Src/adjust.c  **** 
 340:Src/adjust.c  ****     /*å°åŠ é›»åœ§ç®—å‡º*/
 341:Src/adjust.c  **** 	target_vol_sum_frontwall = front_sensor_move_PID;
 1172              		.loc 1 341 2 is_stmt 1 view .LVU249
 1173              		.loc 1 341 27 is_stmt 0 view .LVU250
 1174 016c DDE90401 		ldrd	r0, [sp, #16]
 1175 0170 FFF7FEFF 		bl	__aeabi_d2f
 1176              	.LVL127:
 1177 0174 1C4B     		ldr	r3, .L79+64
ARM GAS  C:\Temp\ccFcJnVM.s 			page 28


 1178 0176 1860     		str	r0, [r3]	@ float
 342:Src/adjust.c  **** 	target_vol_diff_frontwall = front_sensor_rotate_PID;
 1179              		.loc 1 342 2 is_stmt 1 view .LVU251
 1180              		.loc 1 342 28 is_stmt 0 view .LVU252
 1181 0178 2046     		mov	r0, r4
 1182 017a 2946     		mov	r1, r5
 1183 017c FFF7FEFF 		bl	__aeabi_d2f
 1184              	.LVL128:
 1185 0180 1A4B     		ldr	r3, .L79+68
 1186 0182 1860     		str	r0, [r3]	@ float
 343:Src/adjust.c  **** 
 344:Src/adjust.c  **** 	/*ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿æ›´æ–°*/
 345:Src/adjust.c  ****     front_sensor_move_err_prev = front_sensor_move_err;   	
 1187              		.loc 1 345 5 is_stmt 1 view .LVU253
 1188              		.loc 1 345 32 is_stmt 0 view .LVU254
 1189 0184 9DED007B 		vldr.64	d7, [sp]
 1190 0188 8BED007B 		vstr.64	d7, [fp]
 346:Src/adjust.c  **** 	front_sensor_rotate_err_prev = front_sensor_rotate_err; 
 1191              		.loc 1 346 2 is_stmt 1 view .LVU255
 1192              		.loc 1 346 31 is_stmt 0 view .LVU256
 1193 018c CAE90067 		strd	r6, [r10]
 347:Src/adjust.c  ****     front_sensor_move_D_prev = front_sensor_move_err_D;		
 1194              		.loc 1 347 5 is_stmt 1 view .LVU257
 1195              		.loc 1 347 30 is_stmt 0 view .LVU258
 1196 0190 89ED009B 		vstr.64	d9, [r9]
 348:Src/adjust.c  ****     front_sensor_rotate_D_prev = front_sensor_rotate_err_D;
 1197              		.loc 1 348 5 is_stmt 1 view .LVU259
 1198              		.loc 1 348 32 is_stmt 0 view .LVU260
 1199 0194 88ED008B 		vstr.64	d8, [r8]
 349:Src/adjust.c  **** 
 350:Src/adjust.c  **** }
 1200              		.loc 1 350 1 view .LVU261
 1201 0198 07B0     		add	sp, sp, #28
 1202              	.LCFI15:
 1203              		.cfi_def_cfa_offset 68
 1204              	.LVL129:
 1205              		.loc 1 350 1 view .LVU262
 1206              		@ sp needed
 1207 019a BDEC088B 		vldm	sp!, {d8-d11}
 1208              	.LCFI16:
 1209              		.cfi_restore 86
 1210              		.cfi_restore 87
 1211              		.cfi_restore 84
 1212              		.cfi_restore 85
 1213              		.cfi_restore 82
 1214              		.cfi_restore 83
 1215              		.cfi_restore 80
 1216              		.cfi_restore 81
 1217              		.cfi_def_cfa_offset 36
 1218              	.LVL130:
 1219              		.loc 1 350 1 view .LVU263
 1220 019e BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 1221              	.LVL131:
 1222              	.L80:
 1223              		.loc 1 350 1 view .LVU264
 1224 01a2 00BFAFF3 		.align	3
 1224      0080
ARM GAS  C:\Temp\ccFcJnVM.s 			page 29


 1225              	.L79:
 1226 01a8 60E5D022 		.word	584115552
 1227 01ac 9BA5643F 		.word	1063560603
 1228 01b0 00000000 		.word	0
 1229 01b4 631A5F40 		.word	1079974499
 1230 01b8 000000E0 		.word	-536870912
 1231 01bc 8A9E1940 		.word	1075420810
 1232 01c0 00000060 		.word	1610612736
 1233 01c4 A2AB5340 		.word	1079225250
 1234 01c8 C1CAA185 		.word	-2052994367
 1235 01cc 2062F03F 		.word	1072718368
 1236 01d0 00000000 		.word	0
 1237 01d4 236C2240 		.word	1075997731
 1238 01d8 7368916D 		.word	1838246003
 1239 01dc 81B6F03F 		.word	1072739969
 1240 01e0 00000000 		.word	.LANCHOR11
 1241 01e4 00000000 		.word	.LANCHOR12
 1242 01e8 00000000 		.word	.LANCHOR17
 1243 01ec 00000000 		.word	.LANCHOR18
 1244 01f0 00000060 		.word	1610612736
 1245 01f4 BC74833F 		.word	1065579708
 1246 01f8 000000E0 		.word	-536870912
 1247 01fc 4F8D873F 		.word	1065848143
 1248 0200 000000E0 		.word	-536870912
 1249 0204 BED5A23F 		.word	1067636158
 1250 0208 08AC1C5A 		.word	1511828488
 1251 020c D4DF9A3F 		.word	1067114452
 1252 0210 00000000 		.word	.LANCHOR13
 1253 0214 00000000 		.word	.LANCHOR14
 1254 0218 00000000 		.word	.LANCHOR15
 1255 021c 00000000 		.word	.LANCHOR16
 1256              		.cfi_endproc
 1257              	.LFE15:
 1259              		.section	.text.get_target_vol_sum_frontwall,"ax",%progbits
 1260              		.align	1
 1261              		.global	get_target_vol_sum_frontwall
 1262              		.syntax unified
 1263              		.thumb
 1264              		.thumb_func
 1265              		.fpu fpv4-sp-d16
 1267              	get_target_vol_sum_frontwall:
 1268              	.LFB16:
 351:Src/adjust.c  **** 
 352:Src/adjust.c  **** //æ©Ÿèƒ½	: å‰å£è£œæ­£ã«ã‚ˆã‚‹ãƒ¢ãƒ¼ã‚¿å°åŠ é›»åœ§ã®å’Œã‚’å–å¾—ã™ã‚‹
 353:Src/adjust.c  **** //å¼•æ•°	: ãªã—
 354:Src/adjust.c  **** //è¿”ã‚Šå€¤	: å‰å£è£œæ­£ã«ã‚ˆã‚‹å³ãƒ¢ãƒ¼ã‚¿å°åŠ é›»åœ§
 355:Src/adjust.c  **** float get_target_vol_sum_frontwall ( void )
 356:Src/adjust.c  **** {
 1269              		.loc 1 356 1 is_stmt 1 view -0
 1270              		.cfi_startproc
 1271              		@ args = 0, pretend = 0, frame = 0
 1272              		@ frame_needed = 0, uses_anonymous_args = 0
 1273              		@ link register save eliminated.
 357:Src/adjust.c  **** 	return target_vol_sum_frontwall;
 1274              		.loc 1 357 2 view .LVU266
 358:Src/adjust.c  **** }
 1275              		.loc 1 358 1 is_stmt 0 view .LVU267
ARM GAS  C:\Temp\ccFcJnVM.s 			page 30


 1276 0000 014B     		ldr	r3, .L82
 1277 0002 93ED000A 		vldr.32	s0, [r3]
 1278 0006 7047     		bx	lr
 1279              	.L83:
 1280              		.align	2
 1281              	.L82:
 1282 0008 00000000 		.word	.LANCHOR17
 1283              		.cfi_endproc
 1284              	.LFE16:
 1286              		.section	.text.get_target_vol_diff_frontwall,"ax",%progbits
 1287              		.align	1
 1288              		.global	get_target_vol_diff_frontwall
 1289              		.syntax unified
 1290              		.thumb
 1291              		.thumb_func
 1292              		.fpu fpv4-sp-d16
 1294              	get_target_vol_diff_frontwall:
 1295              	.LFB17:
 359:Src/adjust.c  **** 
 360:Src/adjust.c  **** //æ©Ÿèƒ½	: å‰å£è£œæ­£ã«ã‚ˆã‚‹ãƒ¢ãƒ¼ã‚¿å°åŠ é›»åœ§ã®å·®ã‚’å–å¾—ã™ã‚‹
 361:Src/adjust.c  **** //å¼•æ•°	: ãªã—
 362:Src/adjust.c  **** //è¿”ã‚Šå€¤	: å‰å£è£œæ­£ã«ã‚ˆã‚‹å³ãƒ¢ãƒ¼ã‚¿å°åŠ é›»åœ§
 363:Src/adjust.c  **** float get_target_vol_diff_frontwall ( void )
 364:Src/adjust.c  **** {
 1296              		.loc 1 364 1 is_stmt 1 view -0
 1297              		.cfi_startproc
 1298              		@ args = 0, pretend = 0, frame = 0
 1299              		@ frame_needed = 0, uses_anonymous_args = 0
 1300              		@ link register save eliminated.
 365:Src/adjust.c  **** 	return target_vol_diff_frontwall;
 1301              		.loc 1 365 2 view .LVU269
 366:Src/adjust.c  **** }
 1302              		.loc 1 366 1 is_stmt 0 view .LVU270
 1303 0000 014B     		ldr	r3, .L85
 1304 0002 93ED000A 		vldr.32	s0, [r3]
 1305 0006 7047     		bx	lr
 1306              	.L86:
 1307              		.align	2
 1308              	.L85:
 1309 0008 00000000 		.word	.LANCHOR18
 1310              		.cfi_endproc
 1311              	.LFE17:
 1313              		.section	.text.clr_frontwall_operate_history,"ax",%progbits
 1314              		.align	1
 1315              		.global	clr_frontwall_operate_history
 1316              		.syntax unified
 1317              		.thumb
 1318              		.thumb_func
 1319              		.fpu fpv4-sp-d16
 1321              	clr_frontwall_operate_history:
 1322              	.LFB18:
 367:Src/adjust.c  **** 
 368:Src/adjust.c  **** //æ©Ÿèƒ½	: å‰å£åˆ¶å¾¡ã®æ“ä½œå±¥æ­´ã‚’æ¶ˆã™
 369:Src/adjust.c  **** //å¼•æ•°	: ãªã—
 370:Src/adjust.c  **** //è¿”ã‚Šå€¤	: ãªã—
 371:Src/adjust.c  **** void clr_frontwall_operate_history ( void )
 372:Src/adjust.c  **** {
ARM GAS  C:\Temp\ccFcJnVM.s 			page 31


 1323              		.loc 1 372 1 is_stmt 1 view -0
 1324              		.cfi_startproc
 1325              		@ args = 0, pretend = 0, frame = 0
 1326              		@ frame_needed = 0, uses_anonymous_args = 0
 1327              		@ link register save eliminated.
 373:Src/adjust.c  **** 	front_sensor_move_err_I = 0;   		
 1328              		.loc 1 373 2 view .LVU272
 1329              		.loc 1 373 26 is_stmt 0 view .LVU273
 1330 0000 0022     		movs	r2, #0
 1331 0002 0023     		movs	r3, #0
 1332 0004 0949     		ldr	r1, .L88
 1333 0006 C1E90023 		strd	r2, [r1]
 374:Src/adjust.c  **** 	front_sensor_rotate_err_I = 0; 	  	
 1334              		.loc 1 374 2 is_stmt 1 view .LVU274
 1335              		.loc 1 374 28 is_stmt 0 view .LVU275
 1336 000a 0949     		ldr	r1, .L88+4
 1337 000c C1E90023 		strd	r2, [r1]
 375:Src/adjust.c  **** 	front_sensor_move_err_prev = 0;	   	
 1338              		.loc 1 375 2 is_stmt 1 view .LVU276
 1339              		.loc 1 375 29 is_stmt 0 view .LVU277
 1340 0010 0849     		ldr	r1, .L88+8
 1341 0012 C1E90023 		strd	r2, [r1]
 376:Src/adjust.c  **** 	front_sensor_rotate_err_prev = 0; 	
 1342              		.loc 1 376 2 is_stmt 1 view .LVU278
 1343              		.loc 1 376 31 is_stmt 0 view .LVU279
 1344 0016 0849     		ldr	r1, .L88+12
 1345 0018 C1E90023 		strd	r2, [r1]
 377:Src/adjust.c  **** 	front_sensor_move_D_prev = 0; 		
 1346              		.loc 1 377 2 is_stmt 1 view .LVU280
 1347              		.loc 1 377 27 is_stmt 0 view .LVU281
 1348 001c 0749     		ldr	r1, .L88+16
 1349 001e C1E90023 		strd	r2, [r1]
 378:Src/adjust.c  **** 	front_sensor_rotate_D_prev = 0;	   	
 1350              		.loc 1 378 2 is_stmt 1 view .LVU282
 1351              		.loc 1 378 29 is_stmt 0 view .LVU283
 1352 0022 0749     		ldr	r1, .L88+20
 1353 0024 C1E90023 		strd	r2, [r1]
 379:Src/adjust.c  **** }
 1354              		.loc 1 379 1 view .LVU284
 1355 0028 7047     		bx	lr
 1356              	.L89:
 1357 002a 00BF     		.align	2
 1358              	.L88:
 1359 002c 00000000 		.word	.LANCHOR11
 1360 0030 00000000 		.word	.LANCHOR12
 1361 0034 00000000 		.word	.LANCHOR13
 1362 0038 00000000 		.word	.LANCHOR15
 1363 003c 00000000 		.word	.LANCHOR14
 1364 0040 00000000 		.word	.LANCHOR16
 1365              		.cfi_endproc
 1366              	.LFE18:
 1368              		.section	.text.fornt_wall_calibrate,"ax",%progbits
 1369              		.align	1
 1370              		.global	fornt_wall_calibrate
 1371              		.syntax unified
 1372              		.thumb
 1373              		.thumb_func
ARM GAS  C:\Temp\ccFcJnVM.s 			page 32


 1374              		.fpu fpv4-sp-d16
 1376              	fornt_wall_calibrate:
 1377              	.LFB19:
 380:Src/adjust.c  **** 
 381:Src/adjust.c  **** 
 382:Src/adjust.c  **** ////////////////////////////////////////
 383:Src/adjust.c  **** /* ãƒã‚¦ã‚¹ä½ç½®è£œæ­£é–¢æ•°		ã€€			*/
 384:Src/adjust.c  **** /* å£ã‚’ä½¿ã£ãŸä½ç½®ã®è£œæ­£ç”¨é–¢æ•°			*/
 385:Src/adjust.c  **** ////////////////////////////////////////
 386:Src/adjust.c  **** 
 387:Src/adjust.c  **** /* memo:å‰å£è£œæ­£
 388:Src/adjust.c  ****  * param:
 389:Src/adjust.c  ****  *  * */
 390:Src/adjust.c  **** void fornt_wall_calibrate (void)
 391:Src/adjust.c  **** {
 1378              		.loc 1 391 1 is_stmt 1 view -0
 1379              		.cfi_startproc
 1380              		@ args = 0, pretend = 0, frame = 0
 1381              		@ frame_needed = 0, uses_anonymous_args = 0
 1382 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 1383              	.LCFI17:
 1384              		.cfi_def_cfa_offset 24
 1385              		.cfi_offset 3, -24
 1386              		.cfi_offset 4, -20
 1387              		.cfi_offset 5, -16
 1388              		.cfi_offset 6, -12
 1389              		.cfi_offset 7, -8
 1390              		.cfi_offset 14, -4
 392:Src/adjust.c  **** 	double temp_r;
 1391              		.loc 1 392 2 view .LVU286
 393:Src/adjust.c  **** 	double temp_l;
 1392              		.loc 1 393 2 view .LVU287
 394:Src/adjust.c  **** 	double temp;
 1393              		.loc 1 394 2 view .LVU288
 395:Src/adjust.c  **** 
 396:Src/adjust.c  **** 	set_mode_ctrl(front_wall); 		//åˆ¶å¾¡ãƒ¢ãƒ¼ãƒ‰ã‚’å‰å£è£œæ­£ãƒ¢ãƒ¼ãƒ‰ã«
 1394              		.loc 1 396 2 view .LVU289
 1395 0002 0120     		movs	r0, #1
 1396 0004 FFF7FEFF 		bl	set_mode_ctrl
 1397              	.LVL132:
 397:Src/adjust.c  **** 	fornt_wall_calibrate_tim = 0; 	//å‰å£åˆ¶å¾¡ç”¨ã‚¿ã‚¤ãƒã‚’åˆæœŸåŒ–
 1398              		.loc 1 397 2 view .LVU290
 1399              		.loc 1 397 27 is_stmt 0 view .LVU291
 1400 0008 454B     		ldr	r3, .L113+24
 1401 000a 0022     		movs	r2, #0
 1402 000c 1A80     		strh	r2, [r3]	@ movhi
 1403 000e 22E0     		b	.L101
 1404              	.L110:
 398:Src/adjust.c  **** 
 399:Src/adjust.c  **** 	while(1)
 400:Src/adjust.c  **** 	{
 401:Src/adjust.c  **** 		//åå·®å–å¾—
 402:Src/adjust.c  **** 		temp_r = ABS(front_sensor_r_ref - SensorValue2length(3));
 1405              		.loc 1 402 12 discriminator 1 view .LVU292
 1406 0010 0320     		movs	r0, #3
 1407 0012 FFF7FEFF 		bl	SensorValue2length
 1408              	.LVL133:
ARM GAS  C:\Temp\ccFcJnVM.s 			page 33


 1409 0016 53EC102B 		vmov	r2, r3, d0
 1410 001a 3BA1     		adr	r1, .L113
 1411 001c D1E90001 		ldrd	r0, [r1]
 1412 0020 FFF7FEFF 		bl	__aeabi_dsub
 1413              	.LVL134:
 1414 0024 0646     		mov	r6, r0
 1415 0026 01F10047 		add	r7, r1, #-2147483648
 1416 002a 30E0     		b	.L93
 1417              	.LVL135:
 1418              	.L111:
 403:Src/adjust.c  **** 		temp_l = ABS(front_sensor_l_ref - SensorValue2length(0));
 1419              		.loc 1 403 12 discriminator 1 view .LVU293
 1420 002c 0020     		movs	r0, #0
 1421 002e FFF7FEFF 		bl	SensorValue2length
 1422              	.LVL136:
 1423 0032 53EC102B 		vmov	r2, r3, d0
 1424 0036 36A1     		adr	r1, .L113+8
 1425 0038 D1E90001 		ldrd	r0, [r1]
 1426 003c FFF7FEFF 		bl	__aeabi_dsub
 1427              	.LVL137:
 1428 0040 0446     		mov	r4, r0
 1429 0042 01F10045 		add	r5, r1, #-2147483648
 1430 0046 3EE0     		b	.L96
 1431              	.LVL138:
 1432              	.L112:
 404:Src/adjust.c  **** 		//åå·®ã®æœ€å¤§å€¤å–å¾—
 405:Src/adjust.c  **** 		temp = MAX(temp_r,temp_l);
 406:Src/adjust.c  **** 		//ã‚»ãƒ³ã‚µå€¤ãŒåŸºæº–ã‚ˆã‚Šå·®ã‚’æŒã¤ã¨ãã€ã‚¿ã‚¤ãƒã‚’ãƒªã‚»ãƒƒãƒˆ
 407:Src/adjust.c  **** 		if(temp > front_sensor_th)
 408:Src/adjust.c  **** 		{
 409:Src/adjust.c  **** 		 fornt_wall_calibrate_tim = 0;
 1433              		.loc 1 409 4 is_stmt 1 view .LVU294
 1434              		.loc 1 409 29 is_stmt 0 view .LVU295
 1435 0048 354B     		ldr	r3, .L113+24
 1436 004a 0022     		movs	r2, #0
 1437 004c 1A80     		strh	r2, [r3]	@ movhi
 1438              	.L99:
 410:Src/adjust.c  **** 		}
 411:Src/adjust.c  **** 		//ã‚­ãƒ£ãƒªãƒ–ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³æ™‚é–“ã‚’è¶…ãˆã‚‹ã¨ãã€ãƒ–ãƒ¬ã‚¤ã‚¯
 412:Src/adjust.c  **** 		if(fornt_wall_calibrate_tim >= calib_tim )
 1439              		.loc 1 412 3 is_stmt 1 view .LVU296
 1440              		.loc 1 412 31 is_stmt 0 view .LVU297
 1441 004e 344B     		ldr	r3, .L113+24
 1442 0050 1B88     		ldrh	r3, [r3]
 1443              		.loc 1 412 5 view .LVU298
 1444 0052 632B     		cmp	r3, #99
 1445 0054 4AD8     		bhi	.L109
 1446              	.LVL139:
 1447              	.L101:
 399:Src/adjust.c  **** 	{
 1448              		.loc 1 399 2 is_stmt 1 view .LVU299
 402:Src/adjust.c  **** 		temp_l = ABS(front_sensor_l_ref - SensorValue2length(0));
 1449              		.loc 1 402 3 view .LVU300
 402:Src/adjust.c  **** 		temp_l = ABS(front_sensor_l_ref - SensorValue2length(0));
 1450              		.loc 1 402 12 is_stmt 0 view .LVU301
 1451 0056 0320     		movs	r0, #3
 1452 0058 FFF7FEFF 		bl	SensorValue2length
ARM GAS  C:\Temp\ccFcJnVM.s 			page 34


 1453              	.LVL140:
 1454 005c 53EC102B 		vmov	r2, r3, d0
 1455 0060 29A1     		adr	r1, .L113
 1456 0062 D1E90001 		ldrd	r0, [r1]
 1457 0066 FFF7FEFF 		bl	__aeabi_dsub
 1458              	.LVL141:
 1459 006a 0022     		movs	r2, #0
 1460 006c 0023     		movs	r3, #0
 1461 006e FFF7FEFF 		bl	__aeabi_dcmplt
 1462              	.LVL142:
 1463 0072 0028     		cmp	r0, #0
 1464 0074 CCD1     		bne	.L110
 402:Src/adjust.c  **** 		temp_l = ABS(front_sensor_l_ref - SensorValue2length(0));
 1465              		.loc 1 402 12 discriminator 2 view .LVU302
 1466 0076 0320     		movs	r0, #3
 1467 0078 FFF7FEFF 		bl	SensorValue2length
 1468              	.LVL143:
 1469 007c 53EC102B 		vmov	r2, r3, d0
 1470 0080 21A1     		adr	r1, .L113
 1471 0082 D1E90001 		ldrd	r0, [r1]
 1472 0086 FFF7FEFF 		bl	__aeabi_dsub
 1473              	.LVL144:
 1474 008a 0646     		mov	r6, r0
 1475 008c 0F46     		mov	r7, r1
 1476              	.L93:
 1477              	.LVL145:
 403:Src/adjust.c  **** 		//åå·®ã®æœ€å¤§å€¤å–å¾—
 1478              		.loc 1 403 3 is_stmt 1 discriminator 4 view .LVU303
 403:Src/adjust.c  **** 		//åå·®ã®æœ€å¤§å€¤å–å¾—
 1479              		.loc 1 403 12 is_stmt 0 discriminator 4 view .LVU304
 1480 008e 0020     		movs	r0, #0
 1481 0090 FFF7FEFF 		bl	SensorValue2length
 1482              	.LVL146:
 1483 0094 53EC102B 		vmov	r2, r3, d0
 1484 0098 1DA1     		adr	r1, .L113+8
 1485 009a D1E90001 		ldrd	r0, [r1]
 1486 009e FFF7FEFF 		bl	__aeabi_dsub
 1487              	.LVL147:
 1488 00a2 0022     		movs	r2, #0
 1489 00a4 0023     		movs	r3, #0
 1490 00a6 FFF7FEFF 		bl	__aeabi_dcmplt
 1491              	.LVL148:
 1492 00aa 0028     		cmp	r0, #0
 1493 00ac BED1     		bne	.L111
 403:Src/adjust.c  **** 		//åå·®ã®æœ€å¤§å€¤å–å¾—
 1494              		.loc 1 403 12 discriminator 2 view .LVU305
 1495 00ae 0020     		movs	r0, #0
 1496 00b0 FFF7FEFF 		bl	SensorValue2length
 1497              	.LVL149:
 1498 00b4 53EC102B 		vmov	r2, r3, d0
 1499 00b8 15A1     		adr	r1, .L113+8
 1500 00ba D1E90001 		ldrd	r0, [r1]
 1501 00be FFF7FEFF 		bl	__aeabi_dsub
 1502              	.LVL150:
 1503 00c2 0446     		mov	r4, r0
 1504 00c4 0D46     		mov	r5, r1
 1505              	.L96:
ARM GAS  C:\Temp\ccFcJnVM.s 			page 35


 1506              	.LVL151:
 405:Src/adjust.c  **** 		//ã‚»ãƒ³ã‚µå€¤ãŒåŸºæº–ã‚ˆã‚Šå·®ã‚’æŒã¤ã¨ãã€ã‚¿ã‚¤ãƒã‚’ãƒªã‚»ãƒƒãƒˆ
 1507              		.loc 1 405 3 is_stmt 1 discriminator 4 view .LVU306
 405:Src/adjust.c  **** 		//ã‚»ãƒ³ã‚µå€¤ãŒåŸºæº–ã‚ˆã‚Šå·®ã‚’æŒã¤ã¨ãã€ã‚¿ã‚¤ãƒã‚’ãƒªã‚»ãƒƒãƒˆ
 1508              		.loc 1 405 10 is_stmt 0 discriminator 4 view .LVU307
 1509 00c6 2246     		mov	r2, r4
 1510 00c8 2B46     		mov	r3, r5
 1511 00ca 3046     		mov	r0, r6
 1512 00cc 3946     		mov	r1, r7
 1513 00ce FFF7FEFF 		bl	__aeabi_dcmpgt
 1514              	.LVL152:
 1515 00d2 08B1     		cbz	r0, .L97
 405:Src/adjust.c  **** 		//ã‚»ãƒ³ã‚µå€¤ãŒåŸºæº–ã‚ˆã‚Šå·®ã‚’æŒã¤ã¨ãã€ã‚¿ã‚¤ãƒã‚’ãƒªã‚»ãƒƒãƒˆ
 1516              		.loc 1 405 10 view .LVU308
 1517 00d4 3446     		mov	r4, r6
 1518              	.LVL153:
 405:Src/adjust.c  **** 		//ã‚»ãƒ³ã‚µå€¤ãŒåŸºæº–ã‚ˆã‚Šå·®ã‚’æŒã¤ã¨ãã€ã‚¿ã‚¤ãƒã‚’ãƒªã‚»ãƒƒãƒˆ
 1519              		.loc 1 405 10 view .LVU309
 1520 00d6 3D46     		mov	r5, r7
 1521              	.L97:
 1522              	.LVL154:
 407:Src/adjust.c  **** 		{
 1523              		.loc 1 407 3 is_stmt 1 discriminator 4 view .LVU310
 407:Src/adjust.c  **** 		{
 1524              		.loc 1 407 5 is_stmt 0 discriminator 4 view .LVU311
 1525 00d8 0FA3     		adr	r3, .L113+16
 1526 00da D3E90023 		ldrd	r2, [r3]
 1527 00de 2046     		mov	r0, r4
 1528 00e0 2946     		mov	r1, r5
 1529 00e2 FFF7FEFF 		bl	__aeabi_dcmpgt
 1530              	.LVL155:
 1531 00e6 0028     		cmp	r0, #0
 1532 00e8 B1D0     		beq	.L99
 1533 00ea ADE7     		b	.L112
 1534              	.L109:
 413:Src/adjust.c  **** 		{
 414:Src/adjust.c  **** 		 break;
 415:Src/adjust.c  **** 		}
 416:Src/adjust.c  **** 	}
 417:Src/adjust.c  **** 	//è£œæ­£çµ‚äº†æ™‚ã€ç§»å‹•è·é›¢ã€è§’åº¦ã«ç†æƒ³å€¤ã‚’ä»£å…¥
 418:Src/adjust.c  **** 	set_move_length(get_ideal_length());
 1535              		.loc 1 418 2 is_stmt 1 view .LVU312
 1536 00ec FFF7FEFF 		bl	get_ideal_length
 1537              	.LVL156:
 1538 00f0 FFF7FEFF 		bl	set_move_length
 1539              	.LVL157:
 419:Src/adjust.c  **** 	set_rotation_angle(get_ideal_angle());
 1540              		.loc 1 419 2 view .LVU313
 1541 00f4 FFF7FEFF 		bl	get_ideal_angle
 1542              	.LVL158:
 1543 00f8 FFF7FEFF 		bl	set_rotation_angle
 1544              	.LVL159:
 420:Src/adjust.c  **** 	
 421:Src/adjust.c  **** 	//åˆ¶å¾¡ãƒ¢ãƒ¼ãƒ‰ã‚’è»Œè·¡åˆ¶å¾¡ã«å¤‰æ›´
 422:Src/adjust.c  **** 	set_mode_ctrl(trace);
 1545              		.loc 1 422 2 view .LVU314
 1546 00fc 0020     		movs	r0, #0
ARM GAS  C:\Temp\ccFcJnVM.s 			page 36


 1547 00fe FFF7FEFF 		bl	set_mode_ctrl
 1548              	.LVL160:
 423:Src/adjust.c  **** }
 1549              		.loc 1 423 1 is_stmt 0 view .LVU315
 1550 0102 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1551              	.LVL161:
 1552              	.L114:
 1553              		.loc 1 423 1 view .LVU316
 1554 0104 AFF30080 		.align	3
 1555              	.L113:
 1556 0108 000000E0 		.word	-536870912
 1557 010c 4F8D873F 		.word	1065848143
 1558 0110 00000060 		.word	1610612736
 1559 0114 BC74833F 		.word	1065579708
 1560 0118 61325530 		.word	810889825
 1561 011c 2AA9333F 		.word	1060350250
 1562 0120 00000000 		.word	.LANCHOR19
 1563              		.cfi_endproc
 1564              	.LFE19:
 1566              		.section	.text.calibrate_tim,"ax",%progbits
 1567              		.align	1
 1568              		.global	calibrate_tim
 1569              		.syntax unified
 1570              		.thumb
 1571              		.thumb_func
 1572              		.fpu fpv4-sp-d16
 1574              	calibrate_tim:
 1575              	.LFB20:
 424:Src/adjust.c  **** 
 425:Src/adjust.c  **** /* memo:å‰å£è£œæ­£ç”¨ã‚¿ã‚¤ãƒ
 426:Src/adjust.c  ****  * param:
 427:Src/adjust.c  ****  *  * */
 428:Src/adjust.c  **** void calibrate_tim (void){
 1576              		.loc 1 428 26 is_stmt 1 view -0
 1577              		.cfi_startproc
 1578              		@ args = 0, pretend = 0, frame = 0
 1579              		@ frame_needed = 0, uses_anonymous_args = 0
 1580              		@ link register save eliminated.
 429:Src/adjust.c  **** 
 430:Src/adjust.c  **** 	fornt_wall_calibrate_tim += 1;
 1581              		.loc 1 430 2 view .LVU318
 1582              		.loc 1 430 27 is_stmt 0 view .LVU319
 1583 0000 054A     		ldr	r2, .L117
 1584 0002 1388     		ldrh	r3, [r2]
 1585 0004 0133     		adds	r3, r3, #1
 1586 0006 9BB2     		uxth	r3, r3
 1587 0008 1380     		strh	r3, [r2]	@ movhi
 431:Src/adjust.c  **** 
 432:Src/adjust.c  **** 	if(fornt_wall_calibrate_tim > calib_tim){
 1588              		.loc 1 432 2 is_stmt 1 view .LVU320
 1589              		.loc 1 432 4 is_stmt 0 view .LVU321
 1590 000a 642B     		cmp	r3, #100
 1591 000c 02D9     		bls	.L115
 433:Src/adjust.c  **** 		fornt_wall_calibrate_tim = calib_tim;
 1592              		.loc 1 433 3 is_stmt 1 view .LVU322
 1593              		.loc 1 433 28 is_stmt 0 view .LVU323
 1594 000e 1346     		mov	r3, r2
ARM GAS  C:\Temp\ccFcJnVM.s 			page 37


 1595 0010 6422     		movs	r2, #100
 1596 0012 1A80     		strh	r2, [r3]	@ movhi
 1597              	.L115:
 434:Src/adjust.c  **** 	}
 435:Src/adjust.c  **** }
 1598              		.loc 1 435 1 view .LVU324
 1599 0014 7047     		bx	lr
 1600              	.L118:
 1601 0016 00BF     		.align	2
 1602              	.L117:
 1603 0018 00000000 		.word	.LANCHOR19
 1604              		.cfi_endproc
 1605              	.LFE20:
 1607              		.section	.text.adjust_1ms,"ax",%progbits
 1608              		.align	1
 1609              		.global	adjust_1ms
 1610              		.syntax unified
 1611              		.thumb
 1612              		.thumb_func
 1613              		.fpu fpv4-sp-d16
 1615              	adjust_1ms:
 1616              	.LFB3:
  38:Src/adjust.c  **** 	set_target_side_sensor();		//åˆæœŸä½ç½®ã®ã‚»ãƒ³ã‚µå€¤ã‚’æ¨ªå£åˆ¶å¾¡ç›®æ¨™å€¤ã«ã‚»ãƒƒãƒˆ
 1617              		.loc 1 38 1 is_stmt 1 view -0
 1618              		.cfi_startproc
 1619              		@ args = 0, pretend = 0, frame = 0
 1620              		@ frame_needed = 0, uses_anonymous_args = 0
 1621 0000 08B5     		push	{r3, lr}
 1622              	.LCFI18:
 1623              		.cfi_def_cfa_offset 8
 1624              		.cfi_offset 3, -8
 1625              		.cfi_offset 14, -4
  39:Src/adjust.c  **** 	calc_side_wall_ctrl_mode();		//æ¨ªå£è£œæ­£ã®ãƒ¢ãƒ¼ãƒ‰ã‚’æ±ºå®š
 1626              		.loc 1 39 2 view .LVU326
 1627 0002 FFF7FEFF 		bl	set_target_side_sensor
 1628              	.LVL162:
  40:Src/adjust.c  **** 	adjust_theta_side_wall();		//æ¨ªå£è£œæ­£ã®ãƒ¢ãƒ¼ãƒ‰ã«å¿œã˜ã€è»Œè·¡åˆ¶å¾¡ã«ãŠã‘ã‚‹è§’åº¦ã‚’
 1629              		.loc 1 40 2 view .LVU327
 1630 0006 FFF7FEFF 		bl	calc_side_wall_ctrl_mode
 1631              	.LVL163:
  41:Src/adjust.c  **** 	calc_motor_vol_side_wall();		//æ¨ªå£è£œæ­£ã«ãŠã‘ã‚‹å°åŠ é›»åœ§è¨ˆç®—
 1632              		.loc 1 41 2 view .LVU328
  42:Src/adjust.c  **** 	calc_motor_vol_front_wall();	//å‰å£åˆ¶å¾¡ã«ãŠã‘ã‚‹å°åŠ é›»åœ§è¨ˆç®—
 1633              		.loc 1 42 2 view .LVU329
 1634 000a FFF7FEFF 		bl	calc_motor_vol_side_wall
 1635              	.LVL164:
  43:Src/adjust.c  **** 	calibrate_tim();				//å‰å£åˆ¶å¾¡ç”¨ã‚¿ã‚¤ãƒ
 1636              		.loc 1 43 2 view .LVU330
 1637 000e FFF7FEFF 		bl	calc_motor_vol_front_wall
 1638              	.LVL165:
  44:Src/adjust.c  **** }
 1639              		.loc 1 44 2 view .LVU331
 1640 0012 FFF7FEFF 		bl	calibrate_tim
 1641              	.LVL166:
  45:Src/adjust.c  **** 
 1642              		.loc 1 45 1 is_stmt 0 view .LVU332
 1643 0016 08BD     		pop	{r3, pc}
ARM GAS  C:\Temp\ccFcJnVM.s 			page 38


 1644              		.cfi_endproc
 1645              	.LFE3:
 1647              		.section	.bss.ave_counter.7300,"aw",%nobits
 1648              		.align	1
 1649              		.set	.LANCHOR8,. + 0
 1652              	ave_counter.7300:
 1653 0000 0000     		.space	2
 1654              		.section	.bss.ave_store.7299,"aw",%nobits
 1655              		.align	3
 1656              		.set	.LANCHOR9,. + 0
 1659              	ave_store.7299:
 1660 0000 00000000 		.space	160
 1660      00000000 
 1660      00000000 
 1660      00000000 
 1660      00000000 
 1661              		.section	.bss.fornt_wall_calibrate_tim,"aw",%nobits
 1662              		.align	1
 1663              		.set	.LANCHOR19,. + 0
 1666              	fornt_wall_calibrate_tim:
 1667 0000 0000     		.space	2
 1668              		.section	.bss.front_sensor_move_D_prev,"aw",%nobits
 1669              		.align	3
 1670              		.set	.LANCHOR14,. + 0
 1673              	front_sensor_move_D_prev:
 1674 0000 00000000 		.space	8
 1674      00000000 
 1675              		.section	.bss.front_sensor_move_err_I,"aw",%nobits
 1676              		.align	3
 1677              		.set	.LANCHOR11,. + 0
 1680              	front_sensor_move_err_I:
 1681 0000 00000000 		.space	8
 1681      00000000 
 1682              		.section	.bss.front_sensor_move_err_prev,"aw",%nobits
 1683              		.align	3
 1684              		.set	.LANCHOR13,. + 0
 1687              	front_sensor_move_err_prev:
 1688 0000 00000000 		.space	8
 1688      00000000 
 1689              		.section	.bss.front_sensor_rotate_D_prev,"aw",%nobits
 1690              		.align	3
 1691              		.set	.LANCHOR16,. + 0
 1694              	front_sensor_rotate_D_prev:
 1695 0000 00000000 		.space	8
 1695      00000000 
 1696              		.section	.bss.front_sensor_rotate_err_I,"aw",%nobits
 1697              		.align	3
 1698              		.set	.LANCHOR12,. + 0
 1701              	front_sensor_rotate_err_I:
 1702 0000 00000000 		.space	8
 1702      00000000 
 1703              		.section	.bss.front_sensor_rotate_err_prev,"aw",%nobits
 1704              		.align	3
 1705              		.set	.LANCHOR15,. + 0
 1708              	front_sensor_rotate_err_prev:
 1709 0000 00000000 		.space	8
 1709      00000000 
ARM GAS  C:\Temp\ccFcJnVM.s 			page 39


 1710              		.section	.bss.side_sensor_l_old.7288,"aw",%nobits
 1711              		.align	3
 1712              		.set	.LANCHOR6,. + 0
 1715              	side_sensor_l_old.7288:
 1716 0000 00000000 		.space	8
 1716      00000000 
 1717              		.section	.bss.side_sensor_l_th,"aw",%nobits
 1718              		.align	3
 1719              		.set	.LANCHOR3,. + 0
 1722              	side_sensor_l_th:
 1723 0000 00000000 		.space	8
 1723      00000000 
 1724              		.section	.bss.side_sensor_r_old.7287,"aw",%nobits
 1725              		.align	3
 1726              		.set	.LANCHOR7,. + 0
 1729              	side_sensor_r_old.7287:
 1730 0000 00000000 		.space	8
 1730      00000000 
 1731              		.section	.bss.side_sensor_r_th,"aw",%nobits
 1732              		.align	3
 1733              		.set	.LANCHOR4,. + 0
 1736              	side_sensor_r_th:
 1737 0000 00000000 		.space	8
 1737      00000000 
 1738              		.section	.bss.target_sensor_sl,"aw",%nobits
 1739              		.align	3
 1740              		.set	.LANCHOR1,. + 0
 1743              	target_sensor_sl:
 1744 0000 00000000 		.space	8
 1744      00000000 
 1745              		.section	.bss.target_sensor_sr,"aw",%nobits
 1746              		.align	3
 1747              		.set	.LANCHOR2,. + 0
 1750              	target_sensor_sr:
 1751 0000 00000000 		.space	8
 1751      00000000 
 1752              		.section	.bss.target_set_flg.7266,"aw",%nobits
 1753              		.set	.LANCHOR0,. + 0
 1756              	target_set_flg.7266:
 1757 0000 00       		.space	1
 1758              		.section	.bss.target_vol_diff_frontwall,"aw",%nobits
 1759              		.align	2
 1760              		.set	.LANCHOR18,. + 0
 1763              	target_vol_diff_frontwall:
 1764 0000 00000000 		.space	4
 1765              		.section	.bss.target_vol_diff_sidewall,"aw",%nobits
 1766              		.align	2
 1767              		.set	.LANCHOR10,. + 0
 1770              	target_vol_diff_sidewall:
 1771 0000 00000000 		.space	4
 1772              		.section	.bss.target_vol_sum_frontwall,"aw",%nobits
 1773              		.align	2
 1774              		.set	.LANCHOR17,. + 0
 1777              	target_vol_sum_frontwall:
 1778 0000 00000000 		.space	4
 1779              		.section	.data.side_wall_ctrl_mode,"aw"
 1780              		.set	.LANCHOR5,. + 0
ARM GAS  C:\Temp\ccFcJnVM.s 			page 40


 1783              	side_wall_ctrl_mode:
 1784 0000 03       		.byte	3
 1785              		.text
 1786              	.Letext0:
 1787              		.file 2 "c:\\tools\\gcc-arm-none-eabi-9-2019-q4-major\\arm-none-eabi\\include\\machine\\_default_t
 1788              		.file 3 "c:\\tools\\gcc-arm-none-eabi-9-2019-q4-major\\arm-none-eabi\\include\\sys\\lock.h"
 1789              		.file 4 "c:\\tools\\gcc-arm-none-eabi-9-2019-q4-major\\arm-none-eabi\\include\\sys\\_types.h"
 1790              		.file 5 "c:\\tools\\gcc-arm-none-eabi-9-2019-q4-major\\lib\\gcc\\arm-none-eabi\\9.2.1\\include\\st
 1791              		.file 6 "c:\\tools\\gcc-arm-none-eabi-9-2019-q4-major\\arm-none-eabi\\include\\sys\\reent.h"
 1792              		.file 7 "c:\\tools\\gcc-arm-none-eabi-9-2019-q4-major\\arm-none-eabi\\include\\sys\\_stdint.h"
 1793              		.file 8 "c:\\tools\\gcc-arm-none-eabi-9-2019-q4-major\\arm-none-eabi\\include\\math.h"
 1794              		.file 9 "Inc/adjust.h"
 1795              		.file 10 "Inc/exvol.h"
 1796              		.file 11 "Inc/ir_sensor.h"
 1797              		.file 12 "Inc/target.h"
 1798              		.file 13 "Inc/mouse_state.h"
ARM GAS  C:\Temp\ccFcJnVM.s 			page 41


DEFINED SYMBOLS
                            *ABS*:00000000 adjust.c
  C:\Temp\ccFcJnVM.s:18     .text.set_target_side_sensor:00000000 $t
  C:\Temp\ccFcJnVM.s:26     .text.set_target_side_sensor:00000000 set_target_side_sensor
  C:\Temp\ccFcJnVM.s:64     .text.set_target_side_sensor:00000028 $d
  C:\Temp\ccFcJnVM.s:76     .text.get_target_sensor_sr:00000000 $t
  C:\Temp\ccFcJnVM.s:83     .text.get_target_sensor_sr:00000000 get_target_sensor_sr
  C:\Temp\ccFcJnVM.s:106    .text.get_target_sensor_sr:00000014 $d
  C:\Temp\ccFcJnVM.s:111    .text.get_target_sensor_sl:00000000 $t
  C:\Temp\ccFcJnVM.s:118    .text.get_target_sensor_sl:00000000 get_target_sensor_sl
  C:\Temp\ccFcJnVM.s:141    .text.get_target_sensor_sl:00000014 $d
  C:\Temp\ccFcJnVM.s:146    .text.get_side_sensor_l_th:00000000 $t
  C:\Temp\ccFcJnVM.s:153    .text.get_side_sensor_l_th:00000000 get_side_sensor_l_th
  C:\Temp\ccFcJnVM.s:168    .text.get_side_sensor_l_th:00000008 $d
  C:\Temp\ccFcJnVM.s:173    .text.get_side_sensor_r_th:00000000 $t
  C:\Temp\ccFcJnVM.s:180    .text.get_side_sensor_r_th:00000000 get_side_sensor_r_th
  C:\Temp\ccFcJnVM.s:195    .text.get_side_sensor_r_th:00000008 $d
  C:\Temp\ccFcJnVM.s:200    .text.get_side_wall_ctrl_mode:00000000 $t
  C:\Temp\ccFcJnVM.s:207    .text.get_side_wall_ctrl_mode:00000000 get_side_wall_ctrl_mode
  C:\Temp\ccFcJnVM.s:222    .text.get_side_wall_ctrl_mode:00000008 $d
  C:\Temp\ccFcJnVM.s:232    .text.calc_side_wall_ctrl_mode:00000000 $t
  C:\Temp\ccFcJnVM.s:239    .text.calc_side_wall_ctrl_mode:00000000 calc_side_wall_ctrl_mode
  C:\Temp\ccFcJnVM.s:593    .text.calc_side_wall_ctrl_mode:000001c8 $d
  C:\Temp\ccFcJnVM.s:613    .text.get_side_wall_err:00000000 $t
  C:\Temp\ccFcJnVM.s:620    .text.get_side_wall_err:00000000 get_side_wall_err
  C:\Temp\ccFcJnVM.s:747    .text.get_side_wall_err:000000b0 $d
  C:\Temp\ccFcJnVM.s:756    .text.adjust_theta_side_wall:00000000 $t
  C:\Temp\ccFcJnVM.s:763    .text.adjust_theta_side_wall:00000000 adjust_theta_side_wall
  C:\Temp\ccFcJnVM.s:778    .text.calc_motor_vol_side_wall:00000000 $t
  C:\Temp\ccFcJnVM.s:785    .text.calc_motor_vol_side_wall:00000000 calc_motor_vol_side_wall
  C:\Temp\ccFcJnVM.s:876    .text.calc_motor_vol_side_wall:00000058 $d
  C:\Temp\ccFcJnVM.s:882    .text.get_target_vol_diff_sidewall:00000000 $t
  C:\Temp\ccFcJnVM.s:889    .text.get_target_vol_diff_sidewall:00000000 get_target_vol_diff_sidewall
  C:\Temp\ccFcJnVM.s:904    .text.get_target_vol_diff_sidewall:00000008 $d
  C:\Temp\ccFcJnVM.s:909    .text.calc_motor_vol_front_wall:00000000 $t
  C:\Temp\ccFcJnVM.s:916    .text.calc_motor_vol_front_wall:00000000 calc_motor_vol_front_wall
  C:\Temp\ccFcJnVM.s:1226   .text.calc_motor_vol_front_wall:000001a8 $d
  C:\Temp\ccFcJnVM.s:1260   .text.get_target_vol_sum_frontwall:00000000 $t
  C:\Temp\ccFcJnVM.s:1267   .text.get_target_vol_sum_frontwall:00000000 get_target_vol_sum_frontwall
  C:\Temp\ccFcJnVM.s:1282   .text.get_target_vol_sum_frontwall:00000008 $d
  C:\Temp\ccFcJnVM.s:1287   .text.get_target_vol_diff_frontwall:00000000 $t
  C:\Temp\ccFcJnVM.s:1294   .text.get_target_vol_diff_frontwall:00000000 get_target_vol_diff_frontwall
  C:\Temp\ccFcJnVM.s:1309   .text.get_target_vol_diff_frontwall:00000008 $d
  C:\Temp\ccFcJnVM.s:1314   .text.clr_frontwall_operate_history:00000000 $t
  C:\Temp\ccFcJnVM.s:1321   .text.clr_frontwall_operate_history:00000000 clr_frontwall_operate_history
  C:\Temp\ccFcJnVM.s:1359   .text.clr_frontwall_operate_history:0000002c $d
  C:\Temp\ccFcJnVM.s:1369   .text.fornt_wall_calibrate:00000000 $t
  C:\Temp\ccFcJnVM.s:1376   .text.fornt_wall_calibrate:00000000 fornt_wall_calibrate
  C:\Temp\ccFcJnVM.s:1556   .text.fornt_wall_calibrate:00000108 $d
  C:\Temp\ccFcJnVM.s:1567   .text.calibrate_tim:00000000 $t
  C:\Temp\ccFcJnVM.s:1574   .text.calibrate_tim:00000000 calibrate_tim
  C:\Temp\ccFcJnVM.s:1603   .text.calibrate_tim:00000018 $d
  C:\Temp\ccFcJnVM.s:1608   .text.adjust_1ms:00000000 $t
  C:\Temp\ccFcJnVM.s:1615   .text.adjust_1ms:00000000 adjust_1ms
  C:\Temp\ccFcJnVM.s:1648   .bss.ave_counter.7300:00000000 $d
  C:\Temp\ccFcJnVM.s:1652   .bss.ave_counter.7300:00000000 ave_counter.7300
  C:\Temp\ccFcJnVM.s:1655   .bss.ave_store.7299:00000000 $d
ARM GAS  C:\Temp\ccFcJnVM.s 			page 42


  C:\Temp\ccFcJnVM.s:1659   .bss.ave_store.7299:00000000 ave_store.7299
  C:\Temp\ccFcJnVM.s:1662   .bss.fornt_wall_calibrate_tim:00000000 $d
  C:\Temp\ccFcJnVM.s:1666   .bss.fornt_wall_calibrate_tim:00000000 fornt_wall_calibrate_tim
  C:\Temp\ccFcJnVM.s:1669   .bss.front_sensor_move_D_prev:00000000 $d
  C:\Temp\ccFcJnVM.s:1673   .bss.front_sensor_move_D_prev:00000000 front_sensor_move_D_prev
  C:\Temp\ccFcJnVM.s:1676   .bss.front_sensor_move_err_I:00000000 $d
  C:\Temp\ccFcJnVM.s:1680   .bss.front_sensor_move_err_I:00000000 front_sensor_move_err_I
  C:\Temp\ccFcJnVM.s:1683   .bss.front_sensor_move_err_prev:00000000 $d
  C:\Temp\ccFcJnVM.s:1687   .bss.front_sensor_move_err_prev:00000000 front_sensor_move_err_prev
  C:\Temp\ccFcJnVM.s:1690   .bss.front_sensor_rotate_D_prev:00000000 $d
  C:\Temp\ccFcJnVM.s:1694   .bss.front_sensor_rotate_D_prev:00000000 front_sensor_rotate_D_prev
  C:\Temp\ccFcJnVM.s:1697   .bss.front_sensor_rotate_err_I:00000000 $d
  C:\Temp\ccFcJnVM.s:1701   .bss.front_sensor_rotate_err_I:00000000 front_sensor_rotate_err_I
  C:\Temp\ccFcJnVM.s:1704   .bss.front_sensor_rotate_err_prev:00000000 $d
  C:\Temp\ccFcJnVM.s:1708   .bss.front_sensor_rotate_err_prev:00000000 front_sensor_rotate_err_prev
  C:\Temp\ccFcJnVM.s:1711   .bss.side_sensor_l_old.7288:00000000 $d
  C:\Temp\ccFcJnVM.s:1715   .bss.side_sensor_l_old.7288:00000000 side_sensor_l_old.7288
  C:\Temp\ccFcJnVM.s:1718   .bss.side_sensor_l_th:00000000 $d
  C:\Temp\ccFcJnVM.s:1722   .bss.side_sensor_l_th:00000000 side_sensor_l_th
  C:\Temp\ccFcJnVM.s:1725   .bss.side_sensor_r_old.7287:00000000 $d
  C:\Temp\ccFcJnVM.s:1729   .bss.side_sensor_r_old.7287:00000000 side_sensor_r_old.7287
  C:\Temp\ccFcJnVM.s:1732   .bss.side_sensor_r_th:00000000 $d
  C:\Temp\ccFcJnVM.s:1736   .bss.side_sensor_r_th:00000000 side_sensor_r_th
  C:\Temp\ccFcJnVM.s:1739   .bss.target_sensor_sl:00000000 $d
  C:\Temp\ccFcJnVM.s:1743   .bss.target_sensor_sl:00000000 target_sensor_sl
  C:\Temp\ccFcJnVM.s:1746   .bss.target_sensor_sr:00000000 $d
  C:\Temp\ccFcJnVM.s:1750   .bss.target_sensor_sr:00000000 target_sensor_sr
  C:\Temp\ccFcJnVM.s:1756   .bss.target_set_flg.7266:00000000 target_set_flg.7266
  C:\Temp\ccFcJnVM.s:1757   .bss.target_set_flg.7266:00000000 $d
  C:\Temp\ccFcJnVM.s:1759   .bss.target_vol_diff_frontwall:00000000 $d
  C:\Temp\ccFcJnVM.s:1763   .bss.target_vol_diff_frontwall:00000000 target_vol_diff_frontwall
  C:\Temp\ccFcJnVM.s:1766   .bss.target_vol_diff_sidewall:00000000 $d
  C:\Temp\ccFcJnVM.s:1770   .bss.target_vol_diff_sidewall:00000000 target_vol_diff_sidewall
  C:\Temp\ccFcJnVM.s:1773   .bss.target_vol_sum_frontwall:00000000 $d
  C:\Temp\ccFcJnVM.s:1777   .bss.target_vol_sum_frontwall:00000000 target_vol_sum_frontwall
  C:\Temp\ccFcJnVM.s:1783   .data.side_wall_ctrl_mode:00000000 side_wall_ctrl_mode

UNDEFINED SYMBOLS
__aeabi_d2f
__aeabi_dsub
__aeabi_dcmplt
__aeabi_dadd
__aeabi_ddiv
__aeabi_dcmpgt
SensorValue2length
__aeabi_dmul
__aeabi_f2d
get_move_speed
get_rotation_angle
get_ideal_angle
set_mode_ctrl
get_ideal_length
set_move_length
set_rotation_angle
