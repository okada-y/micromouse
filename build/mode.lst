ARM GAS  C:\Temp\ccXxZtj5.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"mode.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.get_mode_state,"ax",%progbits
  18              		.align	1
  19              		.global	get_mode_state
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv4-sp-d16
  26              	get_mode_state:
  27              	.LFB134:
  28              		.file 1 "Src/mode.c"
   1:Src/mode.c    **** /*
   2:Src/mode.c    ****  * mode.c
   3:Src/mode.c    ****  *
   4:Src/mode.c    ****  *  Created on: 2019/08/22
   5:Src/mode.c    ****  *      Author: Â≤°Áî∞ Ê≥∞Ë£ï
   6:Src/mode.c    ****  */
   7:Src/mode.c    **** #include "main.h"
   8:Src/mode.c    **** #include "param.h"
   9:Src/mode.c    **** #include "mouse_state.h"
  10:Src/mode.c    **** #include "mode.h"
  11:Src/mode.c    **** #include "ir_sensor.h"
  12:Src/mode.c    **** 
  13:Src/mode.c    **** typedef enum{
  14:Src/mode.c    **** 	before, //„É¢„Éº„ÉâÈÅ∏Êäû‰∏≠
  15:Src/mode.c    **** 	after	//„É¢„Éº„ÉâÂÆüË°åÊ∫ñÂÇôÂÆå‰∫Ü
  16:Src/mode.c    **** }MODE_DECIDE;
  17:Src/mode.c    **** 
  18:Src/mode.c    **** static uint8_t mode_count = 0;	  //modeÈÅ∏ÊäûÁî®„Ç´„Ç¶„É≥„Çø
  19:Src/mode.c    **** static uint8_t mode_number = 0;   //modeÁï™Âè∑
  20:Src/mode.c    **** static MODE_DECIDE ready_mode = before;
  21:Src/mode.c    **** static MODE_STATE mode_state = preparation;
  22:Src/mode.c    **** 
  23:Src/mode.c    **** //Ê©üËÉΩ 	:„É°„Ç§„É≥„É¢„Éº„ÉâÂá¶ÁêÜ
  24:Src/mode.c    **** //ÂºïÊï∞ 	:„Å™„Åó
  25:Src/mode.c    **** //Ëøî„ÇäÂÄ§:„Å™„Åó
  26:Src/mode.c    **** void mode_main(void)
  27:Src/mode.c    **** {
  28:Src/mode.c    **** 	//ÂàùÊúüÂá¶ÁêÜ
  29:Src/mode.c    **** 	ready_mode = before; 		//„É¢„Éº„ÉâÊ±∫ÂÆöÁä∂ÊÖã„ÇíÊ±∫ÂÆöÂâç„Å´
  30:Src/mode.c    **** 	mode_state = preparation;	//„É¢„Éº„ÉâÈñãÂßãÁä∂ÊÖã„ÇíÈñãÂßãÂâç„Å´
ARM GAS  C:\Temp\ccXxZtj5.s 			page 2


  31:Src/mode.c    **** 	mode_count = 0;				//mode„Ç´„Ç¶„É≥„ÇøÂàùÊúüÂåñ
  32:Src/mode.c    **** 	
  33:Src/mode.c    **** 	Sensor_StopADC();	//IR„Çª„É≥„ÇµÂÅúÊ≠¢
  34:Src/mode.c    **** 	
  35:Src/mode.c    **** 	while(ready_mode == before) //„É¢„Éº„ÉâÈÅ∏Êäû„É¢„Éº„Éâ„ÅÆ„Å®„Åç
  36:Src/mode.c    **** 	{	
  37:Src/mode.c    **** 		mode_select();
  38:Src/mode.c    **** 		ready_mode = mode_decide_jud();
  39:Src/mode.c    **** 		printf("jud is %d",mode_decide_jud());
  40:Src/mode.c    **** 		printf("ready_mode is %d",ready_mode);
  41:Src/mode.c    **** 	}
  42:Src/mode.c    **** 	
  43:Src/mode.c    **** 	//„É¢„Éº„ÉâÈñãÂßãÂèØËÉΩÁä∂ÊÖã„Å´ÈÅ∑Áßª„Åó„Åü„Å®„Åç„ÄÅ2ÂõûLED„ÇíÁÇπÊªÖ„Åï„Åõ„Çã„ÄÇ
  44:Src/mode.c    **** 	for(int i=0; i<2; i++)
  45:Src/mode.c    **** 	{ 
  46:Src/mode.c    **** 		HAL_GPIO_WritePin(GPIOA,LED2_Pin|LED3_Pin|LED4_Pin|LED5_Pin, GPIO_PIN_SET);
  47:Src/mode.c    **** 		HAL_Delay(700);
  48:Src/mode.c    **** 		HAL_GPIO_WritePin(GPIOA,LED2_Pin|LED3_Pin|LED4_Pin|LED5_Pin, GPIO_PIN_RESET);
  49:Src/mode.c    **** 		HAL_Delay(300);
  50:Src/mode.c    **** 	}
  51:Src/mode.c    **** 
  52:Src/mode.c    **** 	//IR„Çª„É≥„Çµ„ÇíÁ®ºÂÉç„Åï„Åõ„Çã„ÄÇ
  53:Src/mode.c    **** 	Sensor_Initialize( );	
  54:Src/mode.c    **** 
  55:Src/mode.c    **** 	//„É¢„Éº„ÉâÈñãÂßã„ÇíÂæÖÊ©ü
  56:Src/mode.c    **** 	mode_start();
  57:Src/mode.c    **** }
  58:Src/mode.c    **** 
  59:Src/mode.c    **** 
  60:Src/mode.c    **** //Ê©üËÉΩ 	:„É¢„Éº„ÉâÂÆüË°åÁä∂ÊÖã„ÇíËøî„Åô
  61:Src/mode.c    **** //ÂºïÊï∞ 	:„Å™„Åó
  62:Src/mode.c    **** //Ëøî„ÇäÂÄ§	:„É¢„Éº„ÉâÂÆüË°åÁä∂ÊÖã
  63:Src/mode.c    **** uint8_t get_mode_state(void)
  64:Src/mode.c    **** {
  29              		.loc 1 64 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		@ link register save eliminated.
  65:Src/mode.c    **** 	return mode_state;
  34              		.loc 1 65 2 view .LVU1
  66:Src/mode.c    **** }
  35              		.loc 1 66 1 is_stmt 0 view .LVU2
  36 0000 014B     		ldr	r3, .L2
  37 0002 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
  38 0004 7047     		bx	lr
  39              	.L3:
  40 0006 00BF     		.align	2
  41              	.L2:
  42 0008 00000000 		.word	.LANCHOR0
  43              		.cfi_endproc
  44              	.LFE134:
  46              		.section	.text.get_mode_number,"ax",%progbits
  47              		.align	1
  48              		.global	get_mode_number
  49              		.syntax unified
  50              		.thumb
ARM GAS  C:\Temp\ccXxZtj5.s 			page 3


  51              		.thumb_func
  52              		.fpu fpv4-sp-d16
  54              	get_mode_number:
  55              	.LFB135:
  67:Src/mode.c    **** 
  68:Src/mode.c    **** 
  69:Src/mode.c    **** //Ê©üËÉΩ 	:„É¢„Éº„ÉâÁï™Âè∑„ÇíËøî„Åô
  70:Src/mode.c    **** //ÂºïÊï∞ 	:„Å™„Åó
  71:Src/mode.c    **** //Ëøî„ÇäÂÄ§:„É¢„Éº„ÉâÁï™Âè∑
  72:Src/mode.c    **** uint8_t get_mode_number(void)
  73:Src/mode.c    **** {
  56              		.loc 1 73 1 is_stmt 1 view -0
  57              		.cfi_startproc
  58              		@ args = 0, pretend = 0, frame = 0
  59              		@ frame_needed = 0, uses_anonymous_args = 0
  60              		@ link register save eliminated.
  74:Src/mode.c    **** 	return mode_number;
  61              		.loc 1 74 2 view .LVU4
  75:Src/mode.c    **** }
  62              		.loc 1 75 1 is_stmt 0 view .LVU5
  63 0000 014B     		ldr	r3, .L5
  64 0002 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
  65 0004 7047     		bx	lr
  66              	.L6:
  67 0006 00BF     		.align	2
  68              	.L5:
  69 0008 00000000 		.word	.LANCHOR1
  70              		.cfi_endproc
  71              	.LFE135:
  73              		.section	.text.set_mode_number,"ax",%progbits
  74              		.align	1
  75              		.global	set_mode_number
  76              		.syntax unified
  77              		.thumb
  78              		.thumb_func
  79              		.fpu fpv4-sp-d16
  81              	set_mode_number:
  82              	.LVL0:
  83              	.LFB136:
  76:Src/mode.c    **** 
  77:Src/mode.c    **** //Ê©üËÉΩ 	:„É¢„Éº„ÉâÁï™Âè∑„Çí„Çª„ÉÉ„Éà„Åô„Çã
  78:Src/mode.c    **** //ÂºïÊï∞ 	:Êñ∞Ë¶è„ÅÆ„É¢„Éº„ÉâÁï™Âè∑
  79:Src/mode.c    **** //Ëøî„ÇäÂÄ§	:„Å™„Åó
  80:Src/mode.c    **** void set_mode_number(uint8_t mn)
  81:Src/mode.c    **** {
  84              		.loc 1 81 1 is_stmt 1 view -0
  85              		.cfi_startproc
  86              		@ args = 0, pretend = 0, frame = 0
  87              		@ frame_needed = 0, uses_anonymous_args = 0
  88              		@ link register save eliminated.
  82:Src/mode.c    **** 	mode_number = mn;
  89              		.loc 1 82 2 view .LVU7
  90              		.loc 1 82 14 is_stmt 0 view .LVU8
  91 0000 014B     		ldr	r3, .L8
  92 0002 1870     		strb	r0, [r3]
  83:Src/mode.c    **** }
  93              		.loc 1 83 1 view .LVU9
ARM GAS  C:\Temp\ccXxZtj5.s 			page 4


  94 0004 7047     		bx	lr
  95              	.L9:
  96 0006 00BF     		.align	2
  97              	.L8:
  98 0008 00000000 		.word	.LANCHOR1
  99              		.cfi_endproc
 100              	.LFE136:
 102              		.section	.text.mode_select,"ax",%progbits
 103              		.align	1
 104              		.global	mode_select
 105              		.syntax unified
 106              		.thumb
 107              		.thumb_func
 108              		.fpu fpv4-sp-d16
 110              	mode_select:
 111              	.LFB137:
  84:Src/mode.c    **** 
  85:Src/mode.c    **** //Ê©üËÉΩ	:Âè≥„Çø„Ç§„É§„ÅÆÈÄüÂ∫¶„ÇíÂÖ•Âäõ„Å´„ÄÅ„É¢„Éº„ÉâÁï™Âè∑„ÇíÂ§âÊõ¥„ÄÅLED„Å´Âá∫Âäõ
  86:Src/mode.c    **** //ÂºïÊï∞	:„Å™„Åó
  87:Src/mode.c    **** //Ëøî„ÇäÂÄ§	:„Å™„Åó
  88:Src/mode.c    **** void mode_select (void)
  89:Src/mode.c    **** {
 112              		.loc 1 89 1 is_stmt 1 view -0
 113              		.cfi_startproc
 114              		@ args = 0, pretend = 0, frame = 0
 115              		@ frame_needed = 0, uses_anonymous_args = 0
 116 0000 10B5     		push	{r4, lr}
 117              	.LCFI0:
 118              		.cfi_def_cfa_offset 8
 119              		.cfi_offset 4, -8
 120              		.cfi_offset 14, -4
 121              	.L11:
  90:Src/mode.c    **** 	static uint8_t mode_number_old = 0;
  91:Src/mode.c    **** 
  92:Src/mode.c    **** 	while(get_tire_r_speed() != 0); //„ÅÑ„Å£„Åü„Çì„Çø„Ç§„É§ÂÅúÊ≠¢„Åô„Çã„Åæ„ÅßÂæÖ„Å°
 122              		.loc 1 92 32 discriminator 1 view .LVU11
 123              		.loc 1 92 7 discriminator 1 view .LVU12
 124              		.loc 1 92 8 is_stmt 0 discriminator 1 view .LVU13
 125 0002 FFF7FEFF 		bl	get_tire_r_speed
 126              	.LVL1:
 127              		.loc 1 92 7 discriminator 1 view .LVU14
 128 0006 B5EE400A 		vcmp.f32	s0, #0
 129 000a F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 130 000e F8D1     		bne	.L11
  93:Src/mode.c    **** 
  94:Src/mode.c    **** 	init_tire_speed(); //„Çø„Ç§„É§„ÅÆÊúÄÂ§ß„ÄÅÊúÄ‰ΩéÈÄüÂ∫¶ÂàùÊúüÂåñ
 131              		.loc 1 94 2 is_stmt 1 view .LVU15
 132 0010 FFF7FEFF 		bl	init_tire_speed
 133              	.LVL2:
  95:Src/mode.c    **** 
  96:Src/mode.c    **** 	HAL_Delay(200);	//„Çø„Ç§„É§ÊúÄÂ§ßÂÄ§Êõ¥Êñ∞ÊôÇÈñì
 134              		.loc 1 96 2 view .LVU16
 135 0014 C820     		movs	r0, #200
 136 0016 FFF7FEFF 		bl	HAL_Delay
 137              	.LVL3:
  97:Src/mode.c    **** 
  98:Src/mode.c    **** 	if (get_tire_r_speed_max() > mode_count_up_th) //mÂè≥„Çø„Ç§„É§ÈÄüÂ∫¶ÔºûÊ≠£„ÅÆÈñæÂÄ§„ÅÆÊôÇ„ÅÆÂá¶ÁêÜ
ARM GAS  C:\Temp\ccXxZtj5.s 			page 5


 138              		.loc 1 98 2 view .LVU17
 139              		.loc 1 98 6 is_stmt 0 view .LVU18
 140 001a FFF7FEFF 		bl	get_tire_r_speed_max
 141              	.LVL4:
 142              		.loc 1 98 5 view .LVU19
 143 001e DFED827A 		vldr.32	s15, .L37
 144 0022 B4EEE70A 		vcmpe.f32	s0, s15
 145 0026 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 146 002a 03DD     		ble	.L12
  99:Src/mode.c    **** 	{
 100:Src/mode.c    **** 		mode_count	+= 1;
 147              		.loc 1 100 3 is_stmt 1 view .LVU20
 148              		.loc 1 100 14 is_stmt 0 view .LVU21
 149 002c 7F4A     		ldr	r2, .L37+4
 150 002e 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 151 0030 0133     		adds	r3, r3, #1
 152 0032 1370     		strb	r3, [r2]
 153              	.L12:
 101:Src/mode.c    **** 	}
 102:Src/mode.c    **** 
 103:Src/mode.c    **** 	if (get_tire_r_speed_min() < mode_count_down_th) //mÂè≥„Çø„Ç§„É§ÈÄüÂ∫¶ÔºúË≤†„ÅÆÈñæÂÄ§„ÅÆÊôÇ„ÅÆÂá¶Á
 154              		.loc 1 103 2 is_stmt 1 view .LVU22
 155              		.loc 1 103 6 is_stmt 0 view .LVU23
 156 0034 FFF7FEFF 		bl	get_tire_r_speed_min
 157              	.LVL5:
 158              		.loc 1 103 5 view .LVU24
 159 0038 DFED7D7A 		vldr.32	s15, .L37+8
 160 003c B4EEE70A 		vcmpe.f32	s0, s15
 161 0040 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 162 0044 03D5     		bpl	.L14
 104:Src/mode.c    **** 	{
 105:Src/mode.c    **** 		mode_count -= 1;
 163              		.loc 1 105 3 is_stmt 1 view .LVU25
 164              		.loc 1 105 14 is_stmt 0 view .LVU26
 165 0046 794A     		ldr	r2, .L37+4
 166 0048 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 167 004a 013B     		subs	r3, r3, #1
 168 004c 1370     		strb	r3, [r2]
 169              	.L14:
 106:Src/mode.c    **** 	}
 107:Src/mode.c    **** 
 108:Src/mode.c    **** 	mode_count &= 0b00001111;	//8bit->4bit
 170              		.loc 1 108 2 is_stmt 1 view .LVU27
 171              		.loc 1 108 13 is_stmt 0 view .LVU28
 172 004e 774A     		ldr	r2, .L37+4
 173 0050 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 174 0052 03F00F03 		and	r3, r3, #15
 175 0056 1370     		strb	r3, [r2]
 109:Src/mode.c    **** 
 110:Src/mode.c    **** 	if (mode_count != mode_number_old){
 176              		.loc 1 110 2 is_stmt 1 view .LVU29
 177              		.loc 1 110 17 is_stmt 0 view .LVU30
 178 0058 764A     		ldr	r2, .L37+12
 179 005a 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 180              		.loc 1 110 5 view .LVU31
 181 005c 9342     		cmp	r3, r2
 182 005e 11D0     		beq	.L16
ARM GAS  C:\Temp\ccXxZtj5.s 			page 6


 111:Src/mode.c    **** 		switch(mode_count){
 183              		.loc 1 111 3 is_stmt 1 view .LVU32
 184 0060 0F2B     		cmp	r3, #15
 185 0062 0FD8     		bhi	.L16
 186 0064 DFE803F0 		tbb	[pc, r3]
 187              	.L18:
 188 0068 08       		.byte	(.L33-.L18)/2
 189 0069 15       		.byte	(.L32-.L18)/2
 190 006a 23       		.byte	(.L31-.L18)/2
 191 006b 31       		.byte	(.L30-.L18)/2
 192 006c 3F       		.byte	(.L29-.L18)/2
 193 006d 4D       		.byte	(.L28-.L18)/2
 194 006e 5B       		.byte	(.L27-.L18)/2
 195 006f 69       		.byte	(.L26-.L18)/2
 196 0070 77       		.byte	(.L25-.L18)/2
 197 0071 85       		.byte	(.L24-.L18)/2
 198 0072 93       		.byte	(.L23-.L18)/2
 199 0073 A1       		.byte	(.L22-.L18)/2
 200 0074 AF       		.byte	(.L21-.L18)/2
 201 0075 BD       		.byte	(.L20-.L18)/2
 202 0076 CB       		.byte	(.L19-.L18)/2
 203 0077 D9       		.byte	(.L17-.L18)/2
 204              		.p2align 1
 205              	.L33:
 112:Src/mode.c    **** 		/*mode_number„Å´Âøú„Åò„Å¶LEDÁÇπÁÅØÂá¶ÁêÜ*/
 113:Src/mode.c    **** 			case 0:
 114:Src/mode.c    **** 				HAL_GPIO_WritePin(GPIOA,LED2_Pin|LED3_Pin|LED4_Pin|LED5_Pin, GPIO_PIN_RESET);//m ÁÑ°ÁÇπÁÅØ
 206              		.loc 1 114 5 view .LVU33
 207 0078 0022     		movs	r2, #0
 208 007a 4FF46451 		mov	r1, #14592
 209 007e 6E48     		ldr	r0, .L37+16
 210 0080 FFF7FEFF 		bl	HAL_GPIO_WritePin
 211              	.LVL6:
 115:Src/mode.c    **** 			break;
 212              		.loc 1 115 4 view .LVU34
 213              	.L16:
 116:Src/mode.c    **** 
 117:Src/mode.c    **** 			case 1:
 118:Src/mode.c    **** 				HAL_GPIO_WritePin(GPIOA,LED3_Pin|LED4_Pin|LED5_Pin, GPIO_PIN_RESET);
 119:Src/mode.c    **** 				HAL_GPIO_WritePin(GPIOA,LED2_Pin, GPIO_PIN_SET);
 120:Src/mode.c    **** 			break;
 121:Src/mode.c    **** 
 122:Src/mode.c    **** 			case 2:
 123:Src/mode.c    **** 				HAL_GPIO_WritePin(GPIOA,LED2_Pin|LED4_Pin|LED5_Pin, GPIO_PIN_RESET);
 124:Src/mode.c    **** 				HAL_GPIO_WritePin(GPIOA,LED3_Pin, GPIO_PIN_SET);
 125:Src/mode.c    **** 			break;
 126:Src/mode.c    **** 
 127:Src/mode.c    **** 			case 3:
 128:Src/mode.c    **** 				HAL_GPIO_WritePin(GPIOA,LED4_Pin|LED5_Pin, GPIO_PIN_RESET);
 129:Src/mode.c    **** 				HAL_GPIO_WritePin(GPIOA,LED2_Pin|LED3_Pin, GPIO_PIN_SET);
 130:Src/mode.c    **** 			break;
 131:Src/mode.c    **** 
 132:Src/mode.c    **** 			case 4:
 133:Src/mode.c    **** 				HAL_GPIO_WritePin(GPIOA,LED2_Pin|LED3_Pin|LED5_Pin, GPIO_PIN_RESET);
 134:Src/mode.c    **** 				HAL_GPIO_WritePin(GPIOA,LED4_Pin, GPIO_PIN_SET);
 135:Src/mode.c    **** 			break;
 136:Src/mode.c    **** 
ARM GAS  C:\Temp\ccXxZtj5.s 			page 7


 137:Src/mode.c    **** 			case 5:
 138:Src/mode.c    **** 				HAL_GPIO_WritePin(GPIOA,LED3_Pin|LED5_Pin, GPIO_PIN_RESET);
 139:Src/mode.c    **** 				HAL_GPIO_WritePin(GPIOA,LED2_Pin|LED4_Pin, GPIO_PIN_SET);
 140:Src/mode.c    **** 			break;
 141:Src/mode.c    **** 
 142:Src/mode.c    **** 			case 6:
 143:Src/mode.c    **** 				HAL_GPIO_WritePin(GPIOA,LED2_Pin|LED5_Pin, GPIO_PIN_RESET);
 144:Src/mode.c    **** 				HAL_GPIO_WritePin(GPIOA,LED3_Pin|LED4_Pin, GPIO_PIN_SET);
 145:Src/mode.c    **** 			break;
 146:Src/mode.c    **** 
 147:Src/mode.c    **** 			case 7:
 148:Src/mode.c    **** 				HAL_GPIO_WritePin(GPIOA,LED5_Pin, GPIO_PIN_RESET);
 149:Src/mode.c    **** 				HAL_GPIO_WritePin(GPIOA,LED2_Pin|LED3_Pin|LED4_Pin, GPIO_PIN_SET);
 150:Src/mode.c    **** 			break;
 151:Src/mode.c    **** 
 152:Src/mode.c    **** 			case 8:
 153:Src/mode.c    **** 				HAL_GPIO_WritePin(GPIOA,LED2_Pin|LED3_Pin|LED4_Pin, GPIO_PIN_RESET);
 154:Src/mode.c    **** 				HAL_GPIO_WritePin(GPIOA,LED5_Pin, GPIO_PIN_SET);
 155:Src/mode.c    **** 			break;
 156:Src/mode.c    **** 
 157:Src/mode.c    **** 			case 9:
 158:Src/mode.c    **** 				HAL_GPIO_WritePin(GPIOA,LED3_Pin|LED4_Pin, GPIO_PIN_RESET);
 159:Src/mode.c    **** 				HAL_GPIO_WritePin(GPIOA,LED2_Pin|LED5_Pin, GPIO_PIN_SET);
 160:Src/mode.c    **** 			break;
 161:Src/mode.c    **** 
 162:Src/mode.c    **** 			case 10:
 163:Src/mode.c    **** 				HAL_GPIO_WritePin(GPIOA,LED2_Pin|LED4_Pin, GPIO_PIN_RESET);
 164:Src/mode.c    **** 				HAL_GPIO_WritePin(GPIOA,LED3_Pin|LED5_Pin, GPIO_PIN_SET);
 165:Src/mode.c    **** 			break;
 166:Src/mode.c    **** 
 167:Src/mode.c    **** 			case 11:
 168:Src/mode.c    **** 				HAL_GPIO_WritePin(GPIOA,LED4_Pin, GPIO_PIN_RESET);
 169:Src/mode.c    **** 				HAL_GPIO_WritePin(GPIOA,LED2_Pin|LED3_Pin|LED5_Pin, GPIO_PIN_SET);
 170:Src/mode.c    **** 			break;
 171:Src/mode.c    **** 
 172:Src/mode.c    **** 			case 12:
 173:Src/mode.c    **** 				HAL_GPIO_WritePin(GPIOA,LED2_Pin|LED3_Pin, GPIO_PIN_RESET);
 174:Src/mode.c    **** 				HAL_GPIO_WritePin(GPIOA,LED4_Pin|LED5_Pin, GPIO_PIN_SET);
 175:Src/mode.c    **** 			break;
 176:Src/mode.c    **** 
 177:Src/mode.c    **** 			case 13:
 178:Src/mode.c    **** 				HAL_GPIO_WritePin(GPIOA,LED3_Pin, GPIO_PIN_RESET);
 179:Src/mode.c    **** 				HAL_GPIO_WritePin(GPIOA,LED2_Pin|LED4_Pin|LED5_Pin, GPIO_PIN_SET);
 180:Src/mode.c    **** 			break;
 181:Src/mode.c    **** 
 182:Src/mode.c    **** 			case 14:
 183:Src/mode.c    **** 				HAL_GPIO_WritePin(GPIOA,LED2_Pin, GPIO_PIN_RESET);
 184:Src/mode.c    **** 				HAL_GPIO_WritePin(GPIOA,LED3_Pin|LED4_Pin|LED5_Pin, GPIO_PIN_SET);
 185:Src/mode.c    **** 			break;
 186:Src/mode.c    **** 
 187:Src/mode.c    **** 			case 15:
 188:Src/mode.c    **** 				HAL_GPIO_WritePin(GPIOA,LED2_Pin|LED3_Pin|LED4_Pin|LED5_Pin, GPIO_PIN_SET);
 189:Src/mode.c    **** 			break;
 190:Src/mode.c    **** 			}
 191:Src/mode.c    **** 		}
 192:Src/mode.c    **** 
 193:Src/mode.c    **** 	mode_number_old = mode_count;
ARM GAS  C:\Temp\ccXxZtj5.s 			page 8


 214              		.loc 1 193 2 view .LVU35
 215              		.loc 1 193 18 is_stmt 0 view .LVU36
 216 0084 694B     		ldr	r3, .L37+4
 217 0086 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 218 0088 6A4B     		ldr	r3, .L37+12
 219 008a 1870     		strb	r0, [r3]
 194:Src/mode.c    **** 	set_mode_number(mode_count);//„É¢„Éº„ÉâÁï™Âè∑„Å´„Çª„ÉÉ„Éà
 220              		.loc 1 194 2 is_stmt 1 view .LVU37
 221 008c FFF7FEFF 		bl	set_mode_number
 222              	.LVL7:
 195:Src/mode.c    **** }
 223              		.loc 1 195 1 is_stmt 0 view .LVU38
 224 0090 10BD     		pop	{r4, pc}
 225              	.L32:
 118:Src/mode.c    **** 				HAL_GPIO_WritePin(GPIOA,LED2_Pin, GPIO_PIN_SET);
 226              		.loc 1 118 5 is_stmt 1 view .LVU39
 227 0092 694C     		ldr	r4, .L37+16
 228 0094 0022     		movs	r2, #0
 229 0096 4FF4C851 		mov	r1, #6400
 230 009a 2046     		mov	r0, r4
 231 009c FFF7FEFF 		bl	HAL_GPIO_WritePin
 232              	.LVL8:
 119:Src/mode.c    **** 			break;
 233              		.loc 1 119 5 view .LVU40
 234 00a0 0122     		movs	r2, #1
 235 00a2 4FF40051 		mov	r1, #8192
 236 00a6 2046     		mov	r0, r4
 237 00a8 FFF7FEFF 		bl	HAL_GPIO_WritePin
 238              	.LVL9:
 120:Src/mode.c    **** 
 239              		.loc 1 120 4 view .LVU41
 240 00ac EAE7     		b	.L16
 241              	.L31:
 123:Src/mode.c    **** 				HAL_GPIO_WritePin(GPIOA,LED3_Pin, GPIO_PIN_SET);
 242              		.loc 1 123 5 view .LVU42
 243 00ae 624C     		ldr	r4, .L37+16
 244 00b0 0022     		movs	r2, #0
 245 00b2 4FF42451 		mov	r1, #10496
 246 00b6 2046     		mov	r0, r4
 247 00b8 FFF7FEFF 		bl	HAL_GPIO_WritePin
 248              	.LVL10:
 124:Src/mode.c    **** 			break;
 249              		.loc 1 124 5 view .LVU43
 250 00bc 0122     		movs	r2, #1
 251 00be 4FF48051 		mov	r1, #4096
 252 00c2 2046     		mov	r0, r4
 253 00c4 FFF7FEFF 		bl	HAL_GPIO_WritePin
 254              	.LVL11:
 125:Src/mode.c    **** 
 255              		.loc 1 125 4 view .LVU44
 256 00c8 DCE7     		b	.L16
 257              	.L30:
 128:Src/mode.c    **** 				HAL_GPIO_WritePin(GPIOA,LED2_Pin|LED3_Pin, GPIO_PIN_SET);
 258              		.loc 1 128 5 view .LVU45
 259 00ca 5B4C     		ldr	r4, .L37+16
 260 00cc 0022     		movs	r2, #0
 261 00ce 4FF41061 		mov	r1, #2304
ARM GAS  C:\Temp\ccXxZtj5.s 			page 9


 262 00d2 2046     		mov	r0, r4
 263 00d4 FFF7FEFF 		bl	HAL_GPIO_WritePin
 264              	.LVL12:
 129:Src/mode.c    **** 			break;
 265              		.loc 1 129 5 view .LVU46
 266 00d8 0122     		movs	r2, #1
 267 00da 4FF44051 		mov	r1, #12288
 268 00de 2046     		mov	r0, r4
 269 00e0 FFF7FEFF 		bl	HAL_GPIO_WritePin
 270              	.LVL13:
 130:Src/mode.c    **** 
 271              		.loc 1 130 4 view .LVU47
 272 00e4 CEE7     		b	.L16
 273              	.L29:
 133:Src/mode.c    **** 				HAL_GPIO_WritePin(GPIOA,LED4_Pin, GPIO_PIN_SET);
 274              		.loc 1 133 5 view .LVU48
 275 00e6 544C     		ldr	r4, .L37+16
 276 00e8 0022     		movs	r2, #0
 277 00ea 4FF44451 		mov	r1, #12544
 278 00ee 2046     		mov	r0, r4
 279 00f0 FFF7FEFF 		bl	HAL_GPIO_WritePin
 280              	.LVL14:
 134:Src/mode.c    **** 			break;
 281              		.loc 1 134 5 view .LVU49
 282 00f4 0122     		movs	r2, #1
 283 00f6 4FF40061 		mov	r1, #2048
 284 00fa 2046     		mov	r0, r4
 285 00fc FFF7FEFF 		bl	HAL_GPIO_WritePin
 286              	.LVL15:
 135:Src/mode.c    **** 
 287              		.loc 1 135 4 view .LVU50
 288 0100 C0E7     		b	.L16
 289              	.L28:
 138:Src/mode.c    **** 				HAL_GPIO_WritePin(GPIOA,LED2_Pin|LED4_Pin, GPIO_PIN_SET);
 290              		.loc 1 138 5 view .LVU51
 291 0102 4D4C     		ldr	r4, .L37+16
 292 0104 0022     		movs	r2, #0
 293 0106 4FF48851 		mov	r1, #4352
 294 010a 2046     		mov	r0, r4
 295 010c FFF7FEFF 		bl	HAL_GPIO_WritePin
 296              	.LVL16:
 139:Src/mode.c    **** 			break;
 297              		.loc 1 139 5 view .LVU52
 298 0110 0122     		movs	r2, #1
 299 0112 4FF42051 		mov	r1, #10240
 300 0116 2046     		mov	r0, r4
 301 0118 FFF7FEFF 		bl	HAL_GPIO_WritePin
 302              	.LVL17:
 140:Src/mode.c    **** 
 303              		.loc 1 140 4 view .LVU53
 304 011c B2E7     		b	.L16
 305              	.L27:
 143:Src/mode.c    **** 				HAL_GPIO_WritePin(GPIOA,LED3_Pin|LED4_Pin, GPIO_PIN_SET);
 306              		.loc 1 143 5 view .LVU54
 307 011e 464C     		ldr	r4, .L37+16
 308 0120 0022     		movs	r2, #0
 309 0122 4FF40451 		mov	r1, #8448
ARM GAS  C:\Temp\ccXxZtj5.s 			page 10


 310 0126 2046     		mov	r0, r4
 311 0128 FFF7FEFF 		bl	HAL_GPIO_WritePin
 312              	.LVL18:
 144:Src/mode.c    **** 			break;
 313              		.loc 1 144 5 view .LVU55
 314 012c 0122     		movs	r2, #1
 315 012e 4FF4C051 		mov	r1, #6144
 316 0132 2046     		mov	r0, r4
 317 0134 FFF7FEFF 		bl	HAL_GPIO_WritePin
 318              	.LVL19:
 145:Src/mode.c    **** 
 319              		.loc 1 145 4 view .LVU56
 320 0138 A4E7     		b	.L16
 321              	.L26:
 148:Src/mode.c    **** 				HAL_GPIO_WritePin(GPIOA,LED2_Pin|LED3_Pin|LED4_Pin, GPIO_PIN_SET);
 322              		.loc 1 148 5 view .LVU57
 323 013a 3F4C     		ldr	r4, .L37+16
 324 013c 0022     		movs	r2, #0
 325 013e 4FF48071 		mov	r1, #256
 326 0142 2046     		mov	r0, r4
 327 0144 FFF7FEFF 		bl	HAL_GPIO_WritePin
 328              	.LVL20:
 149:Src/mode.c    **** 			break;
 329              		.loc 1 149 5 view .LVU58
 330 0148 0122     		movs	r2, #1
 331 014a 4FF46051 		mov	r1, #14336
 332 014e 2046     		mov	r0, r4
 333 0150 FFF7FEFF 		bl	HAL_GPIO_WritePin
 334              	.LVL21:
 150:Src/mode.c    **** 
 335              		.loc 1 150 4 view .LVU59
 336 0154 96E7     		b	.L16
 337              	.L25:
 153:Src/mode.c    **** 				HAL_GPIO_WritePin(GPIOA,LED5_Pin, GPIO_PIN_SET);
 338              		.loc 1 153 5 view .LVU60
 339 0156 384C     		ldr	r4, .L37+16
 340 0158 0022     		movs	r2, #0
 341 015a 4FF46051 		mov	r1, #14336
 342 015e 2046     		mov	r0, r4
 343 0160 FFF7FEFF 		bl	HAL_GPIO_WritePin
 344              	.LVL22:
 154:Src/mode.c    **** 			break;
 345              		.loc 1 154 5 view .LVU61
 346 0164 0122     		movs	r2, #1
 347 0166 4FF48071 		mov	r1, #256
 348 016a 2046     		mov	r0, r4
 349 016c FFF7FEFF 		bl	HAL_GPIO_WritePin
 350              	.LVL23:
 155:Src/mode.c    **** 
 351              		.loc 1 155 4 view .LVU62
 352 0170 88E7     		b	.L16
 353              	.L24:
 158:Src/mode.c    **** 				HAL_GPIO_WritePin(GPIOA,LED2_Pin|LED5_Pin, GPIO_PIN_SET);
 354              		.loc 1 158 5 view .LVU63
 355 0172 314C     		ldr	r4, .L37+16
 356 0174 0022     		movs	r2, #0
 357 0176 4FF4C051 		mov	r1, #6144
ARM GAS  C:\Temp\ccXxZtj5.s 			page 11


 358 017a 2046     		mov	r0, r4
 359 017c FFF7FEFF 		bl	HAL_GPIO_WritePin
 360              	.LVL24:
 159:Src/mode.c    **** 			break;
 361              		.loc 1 159 5 view .LVU64
 362 0180 0122     		movs	r2, #1
 363 0182 4FF40451 		mov	r1, #8448
 364 0186 2046     		mov	r0, r4
 365 0188 FFF7FEFF 		bl	HAL_GPIO_WritePin
 366              	.LVL25:
 160:Src/mode.c    **** 
 367              		.loc 1 160 4 view .LVU65
 368 018c 7AE7     		b	.L16
 369              	.L23:
 163:Src/mode.c    **** 				HAL_GPIO_WritePin(GPIOA,LED3_Pin|LED5_Pin, GPIO_PIN_SET);
 370              		.loc 1 163 5 view .LVU66
 371 018e 2A4C     		ldr	r4, .L37+16
 372 0190 0022     		movs	r2, #0
 373 0192 4FF42051 		mov	r1, #10240
 374 0196 2046     		mov	r0, r4
 375 0198 FFF7FEFF 		bl	HAL_GPIO_WritePin
 376              	.LVL26:
 164:Src/mode.c    **** 			break;
 377              		.loc 1 164 5 view .LVU67
 378 019c 0122     		movs	r2, #1
 379 019e 4FF48851 		mov	r1, #4352
 380 01a2 2046     		mov	r0, r4
 381 01a4 FFF7FEFF 		bl	HAL_GPIO_WritePin
 382              	.LVL27:
 165:Src/mode.c    **** 
 383              		.loc 1 165 4 view .LVU68
 384 01a8 6CE7     		b	.L16
 385              	.L22:
 168:Src/mode.c    **** 				HAL_GPIO_WritePin(GPIOA,LED2_Pin|LED3_Pin|LED5_Pin, GPIO_PIN_SET);
 386              		.loc 1 168 5 view .LVU69
 387 01aa 234C     		ldr	r4, .L37+16
 388 01ac 0022     		movs	r2, #0
 389 01ae 4FF40061 		mov	r1, #2048
 390 01b2 2046     		mov	r0, r4
 391 01b4 FFF7FEFF 		bl	HAL_GPIO_WritePin
 392              	.LVL28:
 169:Src/mode.c    **** 			break;
 393              		.loc 1 169 5 view .LVU70
 394 01b8 0122     		movs	r2, #1
 395 01ba 4FF44451 		mov	r1, #12544
 396 01be 2046     		mov	r0, r4
 397 01c0 FFF7FEFF 		bl	HAL_GPIO_WritePin
 398              	.LVL29:
 170:Src/mode.c    **** 
 399              		.loc 1 170 4 view .LVU71
 400 01c4 5EE7     		b	.L16
 401              	.L21:
 173:Src/mode.c    **** 				HAL_GPIO_WritePin(GPIOA,LED4_Pin|LED5_Pin, GPIO_PIN_SET);
 402              		.loc 1 173 5 view .LVU72
 403 01c6 1C4C     		ldr	r4, .L37+16
 404 01c8 0022     		movs	r2, #0
 405 01ca 4FF44051 		mov	r1, #12288
ARM GAS  C:\Temp\ccXxZtj5.s 			page 12


 406 01ce 2046     		mov	r0, r4
 407 01d0 FFF7FEFF 		bl	HAL_GPIO_WritePin
 408              	.LVL30:
 174:Src/mode.c    **** 			break;
 409              		.loc 1 174 5 view .LVU73
 410 01d4 0122     		movs	r2, #1
 411 01d6 4FF41061 		mov	r1, #2304
 412 01da 2046     		mov	r0, r4
 413 01dc FFF7FEFF 		bl	HAL_GPIO_WritePin
 414              	.LVL31:
 175:Src/mode.c    **** 
 415              		.loc 1 175 4 view .LVU74
 416 01e0 50E7     		b	.L16
 417              	.L20:
 178:Src/mode.c    **** 				HAL_GPIO_WritePin(GPIOA,LED2_Pin|LED4_Pin|LED5_Pin, GPIO_PIN_SET);
 418              		.loc 1 178 5 view .LVU75
 419 01e2 154C     		ldr	r4, .L37+16
 420 01e4 0022     		movs	r2, #0
 421 01e6 4FF48051 		mov	r1, #4096
 422 01ea 2046     		mov	r0, r4
 423 01ec FFF7FEFF 		bl	HAL_GPIO_WritePin
 424              	.LVL32:
 179:Src/mode.c    **** 			break;
 425              		.loc 1 179 5 view .LVU76
 426 01f0 0122     		movs	r2, #1
 427 01f2 4FF42451 		mov	r1, #10496
 428 01f6 2046     		mov	r0, r4
 429 01f8 FFF7FEFF 		bl	HAL_GPIO_WritePin
 430              	.LVL33:
 180:Src/mode.c    **** 
 431              		.loc 1 180 4 view .LVU77
 432 01fc 42E7     		b	.L16
 433              	.L19:
 183:Src/mode.c    **** 				HAL_GPIO_WritePin(GPIOA,LED3_Pin|LED4_Pin|LED5_Pin, GPIO_PIN_SET);
 434              		.loc 1 183 5 view .LVU78
 435 01fe 0E4C     		ldr	r4, .L37+16
 436 0200 0022     		movs	r2, #0
 437 0202 4FF40051 		mov	r1, #8192
 438 0206 2046     		mov	r0, r4
 439 0208 FFF7FEFF 		bl	HAL_GPIO_WritePin
 440              	.LVL34:
 184:Src/mode.c    **** 			break;
 441              		.loc 1 184 5 view .LVU79
 442 020c 0122     		movs	r2, #1
 443 020e 4FF4C851 		mov	r1, #6400
 444 0212 2046     		mov	r0, r4
 445 0214 FFF7FEFF 		bl	HAL_GPIO_WritePin
 446              	.LVL35:
 185:Src/mode.c    **** 
 447              		.loc 1 185 4 view .LVU80
 448 0218 34E7     		b	.L16
 449              	.L17:
 188:Src/mode.c    **** 			break;
 450              		.loc 1 188 5 view .LVU81
 451 021a 0122     		movs	r2, #1
 452 021c 4FF46451 		mov	r1, #14592
 453 0220 0548     		ldr	r0, .L37+16
ARM GAS  C:\Temp\ccXxZtj5.s 			page 13


 454 0222 FFF7FEFF 		bl	HAL_GPIO_WritePin
 455              	.LVL36:
 189:Src/mode.c    **** 			}
 456              		.loc 1 189 4 view .LVU82
 457 0226 2DE7     		b	.L16
 458              	.L38:
 459              		.align	2
 460              	.L37:
 461 0228 CDCCCC3D 		.word	1036831949
 462 022c 00000000 		.word	.LANCHOR2
 463 0230 CDCCCCBD 		.word	-1110651699
 464 0234 00000000 		.word	.LANCHOR3
 465 0238 00000240 		.word	1073872896
 466              		.cfi_endproc
 467              	.LFE137:
 469              		.section	.text.mode_decide_jud,"ax",%progbits
 470              		.align	1
 471              		.global	mode_decide_jud
 472              		.syntax unified
 473              		.thumb
 474              		.thumb_func
 475              		.fpu fpv4-sp-d16
 477              	mode_decide_jud:
 478              	.LFB138:
 196:Src/mode.c    **** 
 197:Src/mode.c    **** //Ê©üËÉΩ	:Â∑¶„Çø„Ç§„É§ÈÄüÂ∫¶„ÇíÂÖ•Âäõ„Å®„Åó„ÄÅ„É¢„Éº„Éâ„ÇíÊ±∫ÂÆö„Åô„Çã„ÄÇ
 198:Src/mode.c    **** //ÂºïÊï∞	:„Å™„Åó
 199:Src/mode.c    **** //Ëøî„ÇäÂÄ§	:„É¢„Éº„ÉâÊ±∫ÂÆöÁä∂ÊÖã
 200:Src/mode.c    **** uint8_t mode_decide_jud(void)
 201:Src/mode.c    **** {
 479              		.loc 1 201 1 view -0
 480              		.cfi_startproc
 481              		@ args = 0, pretend = 0, frame = 0
 482              		@ frame_needed = 0, uses_anonymous_args = 0
 483 0000 08B5     		push	{r3, lr}
 484              	.LCFI1:
 485              		.cfi_def_cfa_offset 8
 486              		.cfi_offset 3, -8
 487              		.cfi_offset 14, -4
 202:Src/mode.c    **** 	uint8_t temp = 0;
 488              		.loc 1 202 2 view .LVU84
 489              	.LVL37:
 203:Src/mode.c    **** 	
 204:Src/mode.c    **** 	if(mode_stanby_th < get_tire_l_speed_max() )
 490              		.loc 1 204 2 view .LVU85
 491              		.loc 1 204 22 is_stmt 0 view .LVU86
 492 0002 FFF7FEFF 		bl	get_tire_l_speed_max
 493              	.LVL38:
 494              		.loc 1 204 4 view .LVU87
 495 0006 DFED057A 		vldr.32	s15, .L46
 496 000a B4EEE70A 		vcmpe.f32	s0, s15
 497 000e F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 498 0012 01DD     		ble	.L44
 205:Src/mode.c    **** 	{
 206:Src/mode.c    **** 		temp = after;
 499              		.loc 1 206 8 view .LVU88
 500 0014 0120     		movs	r0, #1
ARM GAS  C:\Temp\ccXxZtj5.s 			page 14


 501              	.L40:
 502              	.LVL39:
 207:Src/mode.c    **** 	}
 208:Src/mode.c    **** 	else
 209:Src/mode.c    **** 	{
 210:Src/mode.c    **** 		temp = before;
 211:Src/mode.c    **** 	}
 212:Src/mode.c    **** 	return temp;
 503              		.loc 1 212 2 is_stmt 1 view .LVU89
 213:Src/mode.c    **** }
 504              		.loc 1 213 1 is_stmt 0 view .LVU90
 505 0016 08BD     		pop	{r3, pc}
 506              	.LVL40:
 507              	.L44:
 210:Src/mode.c    **** 	}
 508              		.loc 1 210 8 view .LVU91
 509 0018 0020     		movs	r0, #0
 510 001a FCE7     		b	.L40
 511              	.L47:
 512              		.align	2
 513              	.L46:
 514 001c CDCCCC3D 		.word	1036831949
 515              		.cfi_endproc
 516              	.LFE138:
 518              		.section	.text.mode_start,"ax",%progbits
 519              		.align	1
 520              		.global	mode_start
 521              		.syntax unified
 522              		.thumb
 523              		.thumb_func
 524              		.fpu fpv4-sp-d16
 526              	mode_start:
 527              	.LFB139:
 214:Src/mode.c    **** 
 215:Src/mode.c    **** //Ê©üËÉΩ	:IR„Çª„É≥„Çµ„Å´„Çà„Çã„É¢„Éº„ÉâÂãï‰ΩúÈñãÂßãSW
 216:Src/mode.c    **** //ÂºïÊï∞	:„Å™„Åó
 217:Src/mode.c    **** //Ëøî„ÇäÂÄ§	:„Å™„Åó
 218:Src/mode.c    **** void mode_start(void)
 219:Src/mode.c    **** {
 528              		.loc 1 219 1 is_stmt 1 view -0
 529              		.cfi_startproc
 530              		@ args = 0, pretend = 0, frame = 0
 531              		@ frame_needed = 0, uses_anonymous_args = 0
 532 0000 08B5     		push	{r3, lr}
 533              	.LCFI2:
 534              		.cfi_def_cfa_offset 8
 535              		.cfi_offset 3, -8
 536              		.cfi_offset 14, -4
 537              	.L49:
 220:Src/mode.c    **** 	while(1)/*mÂè≥Ââç„Çª„É≥„Çµ„Çí„É¢„Éº„ÉâÈñãÂßã„ÅÆ„Çπ„Ç§„ÉÉ„ÉÅ„Å®„Åô„Çã„ÄÇ*/
 538              		.loc 1 220 2 view .LVU93
 221:Src/mode.c    **** 	{
 222:Src/mode.c    **** 		if( Sensor_GetValue(3) >= 1500)
 539              		.loc 1 222 3 view .LVU94
 540              		.loc 1 222 7 is_stmt 0 view .LVU95
 541 0002 0320     		movs	r0, #3
 542 0004 FFF7FEFF 		bl	Sensor_GetValue
ARM GAS  C:\Temp\ccXxZtj5.s 			page 15


 543              	.LVL41:
 544              		.loc 1 222 5 view .LVU96
 545 0008 40F2DB53 		movw	r3, #1499
 546 000c 9842     		cmp	r0, r3
 547 000e F8DD     		ble	.L49
 223:Src/mode.c    **** 		{
 224:Src/mode.c    **** 			HAL_Delay(500);
 548              		.loc 1 224 4 is_stmt 1 view .LVU97
 549 0010 4FF4FA70 		mov	r0, #500
 550 0014 FFF7FEFF 		bl	HAL_Delay
 551              	.LVL42:
 225:Src/mode.c    **** 			mode_state = process;//„É¢„Éº„Éâ„ÇíÂÆüË°å‰∏≠„Å´ÈÅ∑Áßª
 552              		.loc 1 225 4 view .LVU98
 553              		.loc 1 225 15 is_stmt 0 view .LVU99
 554 0018 014B     		ldr	r3, .L51
 555 001a 0122     		movs	r2, #1
 556 001c 1A70     		strb	r2, [r3]
 226:Src/mode.c    **** 			break;
 557              		.loc 1 226 4 is_stmt 1 view .LVU100
 227:Src/mode.c    **** 		}
 228:Src/mode.c    **** 	}
 229:Src/mode.c    **** }...
 558              		.loc 1 229 1 is_stmt 0 view .LVU101
 559 001e 08BD     		pop	{r3, pc}
 560              	.L52:
 561              		.align	2
 562              	.L51:
 563 0020 00000000 		.word	.LANCHOR0
 564              		.cfi_endproc
 565              	.LFE139:
 567              		.section	.rodata.mode_main.str1.4,"aMS",%progbits,1
 568              		.align	2
 569              	.LC0:
 570 0000 6A756420 		.ascii	"jud is %d\000"
 570      69732025 
 570      6400
 571 000a 0000     		.align	2
 572              	.LC1:
 573 000c 72656164 		.ascii	"ready_mode is %d\000"
 573      795F6D6F 
 573      64652069 
 573      73202564 
 573      00
 574              		.section	.text.mode_main,"ax",%progbits
 575              		.align	1
 576              		.global	mode_main
 577              		.syntax unified
 578              		.thumb
 579              		.thumb_func
 580              		.fpu fpv4-sp-d16
 582              	mode_main:
 583              	.LFB133:
  27:Src/mode.c    **** {
 584              		.loc 1 27 1 is_stmt 1 view -0
 585              		.cfi_startproc
 586              		@ args = 0, pretend = 0, frame = 0
 587              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  C:\Temp\ccXxZtj5.s 			page 16


 588 0000 38B5     		push	{r3, r4, r5, lr}
 589              	.LCFI3:
 590              		.cfi_def_cfa_offset 16
 591              		.cfi_offset 3, -16
 592              		.cfi_offset 4, -12
 593              		.cfi_offset 5, -8
 594              		.cfi_offset 14, -4
  29:Src/mode.c    **** 	ready_mode = before; 		//„É¢„Éº„ÉâÊ±∫ÂÆöÁä∂ÊÖã„ÇíÊ±∫ÂÆöÂâç„Å´
 595              		.loc 1 29 2 view .LVU103
  29:Src/mode.c    **** 	ready_mode = before; 		//„É¢„Éº„ÉâÊ±∫ÂÆöÁä∂ÊÖã„ÇíÊ±∫ÂÆöÂâç„Å´
 596              		.loc 1 29 13 is_stmt 0 view .LVU104
 597 0002 0023     		movs	r3, #0
 598 0004 1D4A     		ldr	r2, .L60
 599 0006 1370     		strb	r3, [r2]
  30:Src/mode.c    **** 	mode_state = preparation;	//„É¢„Éº„ÉâÈñãÂßãÁä∂ÊÖã„ÇíÈñãÂßãÂâç„Å´
 600              		.loc 1 30 2 is_stmt 1 view .LVU105
  30:Src/mode.c    **** 	mode_state = preparation;	//„É¢„Éº„ÉâÈñãÂßãÁä∂ÊÖã„ÇíÈñãÂßãÂâç„Å´
 601              		.loc 1 30 13 is_stmt 0 view .LVU106
 602 0008 1D4A     		ldr	r2, .L60+4
 603 000a 1370     		strb	r3, [r2]
  31:Src/mode.c    **** 	mode_count = 0;				//mode„Ç´„Ç¶„É≥„ÇøÂàùÊúüÂåñ
 604              		.loc 1 31 2 is_stmt 1 view .LVU107
  31:Src/mode.c    **** 	mode_count = 0;				//mode„Ç´„Ç¶„É≥„ÇøÂàùÊúüÂåñ
 605              		.loc 1 31 13 is_stmt 0 view .LVU108
 606 000c 1D4A     		ldr	r2, .L60+8
 607 000e 1370     		strb	r3, [r2]
  33:Src/mode.c    **** 	Sensor_StopADC();	//IR„Çª„É≥„ÇµÂÅúÊ≠¢
 608              		.loc 1 33 2 is_stmt 1 view .LVU109
 609 0010 FFF7FEFF 		bl	Sensor_StopADC
 610              	.LVL43:
  35:Src/mode.c    **** 	while(ready_mode == before) //„É¢„Éº„ÉâÈÅ∏Êäû„É¢„Éº„Éâ„ÅÆ„Å®„Åç
 611              		.loc 1 35 2 view .LVU110
 612              	.L54:
  35:Src/mode.c    **** 	while(ready_mode == before) //„É¢„Éº„ÉâÈÅ∏Êäû„É¢„Éº„Éâ„ÅÆ„Å®„Åç
 613              		.loc 1 35 7 view .LVU111
  35:Src/mode.c    **** 	while(ready_mode == before) //„É¢„Éº„ÉâÈÅ∏Êäû„É¢„Éº„Éâ„ÅÆ„Å®„Åç
 614              		.loc 1 35 19 is_stmt 0 view .LVU112
 615 0014 194B     		ldr	r3, .L60
 616 0016 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
  35:Src/mode.c    **** 	while(ready_mode == before) //„É¢„Éº„ÉâÈÅ∏Êäû„É¢„Éº„Éâ„ÅÆ„Å®„Åç
 617              		.loc 1 35 7 view .LVU113
 618 0018 83B9     		cbnz	r3, .L59
  37:Src/mode.c    **** 		mode_select();
 619              		.loc 1 37 3 is_stmt 1 view .LVU114
 620 001a FFF7FEFF 		bl	mode_select
 621              	.LVL44:
  38:Src/mode.c    **** 		ready_mode = mode_decide_jud();
 622              		.loc 1 38 3 view .LVU115
  38:Src/mode.c    **** 		ready_mode = mode_decide_jud();
 623              		.loc 1 38 16 is_stmt 0 view .LVU116
 624 001e FFF7FEFF 		bl	mode_decide_jud
 625              	.LVL45:
  38:Src/mode.c    **** 		ready_mode = mode_decide_jud();
 626              		.loc 1 38 14 view .LVU117
 627 0022 164C     		ldr	r4, .L60
 628 0024 2070     		strb	r0, [r4]
  39:Src/mode.c    **** 		printf("jud is %d",mode_decide_jud());
ARM GAS  C:\Temp\ccXxZtj5.s 			page 17


 629              		.loc 1 39 3 is_stmt 1 view .LVU118
  39:Src/mode.c    **** 		printf("jud is %d",mode_decide_jud());
 630              		.loc 1 39 22 is_stmt 0 view .LVU119
 631 0026 FFF7FEFF 		bl	mode_decide_jud
 632              	.LVL46:
 633 002a 0146     		mov	r1, r0
  39:Src/mode.c    **** 		printf("jud is %d",mode_decide_jud());
 634              		.loc 1 39 3 view .LVU120
 635 002c 1648     		ldr	r0, .L60+12
 636 002e FFF7FEFF 		bl	printf
 637              	.LVL47:
  40:Src/mode.c    **** 		printf("ready_mode is %d",ready_mode);
 638              		.loc 1 40 3 is_stmt 1 view .LVU121
 639 0032 2178     		ldrb	r1, [r4]	@ zero_extendqisi2
 640 0034 1548     		ldr	r0, .L60+16
 641 0036 FFF7FEFF 		bl	printf
 642              	.LVL48:
 643 003a EBE7     		b	.L54
 644              	.L59:
 645              	.LBB2:
  44:Src/mode.c    **** 	for(int i=0; i<2; i++)
 646              		.loc 1 44 10 is_stmt 0 view .LVU122
 647 003c 0024     		movs	r4, #0
 648 003e 15E0     		b	.L56
 649              	.LVL49:
 650              	.L57:
  46:Src/mode.c    **** 		HAL_GPIO_WritePin(GPIOA,LED2_Pin|LED3_Pin|LED4_Pin|LED5_Pin, GPIO_PIN_SET);
 651              		.loc 1 46 3 is_stmt 1 discriminator 3 view .LVU123
 652 0040 134D     		ldr	r5, .L60+20
 653 0042 0122     		movs	r2, #1
 654 0044 4FF46451 		mov	r1, #14592
 655 0048 2846     		mov	r0, r5
 656 004a FFF7FEFF 		bl	HAL_GPIO_WritePin
 657              	.LVL50:
  47:Src/mode.c    **** 		HAL_Delay(700);
 658              		.loc 1 47 3 discriminator 3 view .LVU124
 659 004e 4FF42F70 		mov	r0, #700
 660 0052 FFF7FEFF 		bl	HAL_Delay
 661              	.LVL51:
  48:Src/mode.c    **** 		HAL_GPIO_WritePin(GPIOA,LED2_Pin|LED3_Pin|LED4_Pin|LED5_Pin, GPIO_PIN_RESET);
 662              		.loc 1 48 3 discriminator 3 view .LVU125
 663 0056 0022     		movs	r2, #0
 664 0058 4FF46451 		mov	r1, #14592
 665 005c 2846     		mov	r0, r5
 666 005e FFF7FEFF 		bl	HAL_GPIO_WritePin
 667              	.LVL52:
  49:Src/mode.c    **** 		HAL_Delay(300);
 668              		.loc 1 49 3 discriminator 3 view .LVU126
 669 0062 4FF49670 		mov	r0, #300
 670 0066 FFF7FEFF 		bl	HAL_Delay
 671              	.LVL53:
  44:Src/mode.c    **** 	for(int i=0; i<2; i++)
 672              		.loc 1 44 20 discriminator 3 view .LVU127
  44:Src/mode.c    **** 	for(int i=0; i<2; i++)
 673              		.loc 1 44 21 is_stmt 0 discriminator 3 view .LVU128
 674 006a 0134     		adds	r4, r4, #1
 675              	.LVL54:
ARM GAS  C:\Temp\ccXxZtj5.s 			page 18


 676              	.L56:
  44:Src/mode.c    **** 	for(int i=0; i<2; i++)
 677              		.loc 1 44 15 is_stmt 1 discriminator 1 view .LVU129
  44:Src/mode.c    **** 	for(int i=0; i<2; i++)
 678              		.loc 1 44 2 is_stmt 0 discriminator 1 view .LVU130
 679 006c 012C     		cmp	r4, #1
 680 006e E7DD     		ble	.L57
 681              	.LBE2:
  53:Src/mode.c    **** 	Sensor_Initialize( );	
 682              		.loc 1 53 2 is_stmt 1 view .LVU131
 683 0070 FFF7FEFF 		bl	Sensor_Initialize
 684              	.LVL55:
  56:Src/mode.c    **** 	mode_start();
 685              		.loc 1 56 2 view .LVU132
 686 0074 FFF7FEFF 		bl	mode_start
 687              	.LVL56:
  57:Src/mode.c    **** }
 688              		.loc 1 57 1 is_stmt 0 view .LVU133
 689 0078 38BD     		pop	{r3, r4, r5, pc}
 690              	.LVL57:
 691              	.L61:
  57:Src/mode.c    **** }
 692              		.loc 1 57 1 view .LVU134
 693 007a 00BF     		.align	2
 694              	.L60:
 695 007c 00000000 		.word	.LANCHOR4
 696 0080 00000000 		.word	.LANCHOR0
 697 0084 00000000 		.word	.LANCHOR2
 698 0088 00000000 		.word	.LC0
 699 008c 0C000000 		.word	.LC1
 700 0090 00000240 		.word	1073872896
 701              		.cfi_endproc
 702              	.LFE133:
 704              		.section	.bss.mode_count,"aw",%nobits
 705              		.set	.LANCHOR2,. + 0
 708              	mode_count:
 709 0000 00       		.space	1
 710              		.section	.bss.mode_number,"aw",%nobits
 711              		.set	.LANCHOR1,. + 0
 714              	mode_number:
 715 0000 00       		.space	1
 716              		.section	.bss.mode_number_old.10048,"aw",%nobits
 717              		.set	.LANCHOR3,. + 0
 720              	mode_number_old.10048:
 721 0000 00       		.space	1
 722              		.section	.bss.mode_state,"aw",%nobits
 723              		.set	.LANCHOR0,. + 0
 726              	mode_state:
 727 0000 00       		.space	1
 728              		.section	.bss.ready_mode,"aw",%nobits
 729              		.set	.LANCHOR4,. + 0
 732              	ready_mode:
 733 0000 00       		.space	1
 734              		.text
 735              	.Letext0:
 736              		.file 2 "c:\\tools\\gcc-arm-none-eabi-9-2019-q4-major\\arm-none-eabi\\include\\machine\\_default_t
 737              		.file 3 "c:\\tools\\gcc-arm-none-eabi-9-2019-q4-major\\arm-none-eabi\\include\\sys\\_stdint.h"
ARM GAS  C:\Temp\ccXxZtj5.s 			page 19


 738              		.file 4 "Drivers/CMSIS/Include/core_cm4.h"
 739              		.file 5 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/system_stm32f4xx.h"
 740              		.file 6 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f413xx.h"
 741              		.file 7 "c:\\tools\\gcc-arm-none-eabi-9-2019-q4-major\\arm-none-eabi\\include\\sys\\lock.h"
 742              		.file 8 "c:\\tools\\gcc-arm-none-eabi-9-2019-q4-major\\arm-none-eabi\\include\\sys\\_types.h"
 743              		.file 9 "c:\\tools\\gcc-arm-none-eabi-9-2019-q4-major\\lib\\gcc\\arm-none-eabi\\9.2.1\\include\\st
 744              		.file 10 "c:\\tools\\gcc-arm-none-eabi-9-2019-q4-major\\arm-none-eabi\\include\\sys\\reent.h"
 745              		.file 11 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_gpio.h"
 746              		.file 12 "Inc/mode.h"
 747              		.file 13 "c:\\tools\\gcc-arm-none-eabi-9-2019-q4-major\\arm-none-eabi\\include\\math.h"
 748              		.file 14 "Inc/ir_sensor.h"
 749              		.file 15 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
 750              		.file 16 "Inc/mouse_state.h"
 751              		.file 17 "c:\\tools\\gcc-arm-none-eabi-9-2019-q4-major\\arm-none-eabi\\include\\stdio.h"
ARM GAS  C:\Temp\ccXxZtj5.s 			page 20


DEFINED SYMBOLS
                            *ABS*:00000000 mode.c
  C:\Temp\ccXxZtj5.s:18     .text.get_mode_state:00000000 $t
  C:\Temp\ccXxZtj5.s:26     .text.get_mode_state:00000000 get_mode_state
  C:\Temp\ccXxZtj5.s:42     .text.get_mode_state:00000008 $d
  C:\Temp\ccXxZtj5.s:47     .text.get_mode_number:00000000 $t
  C:\Temp\ccXxZtj5.s:54     .text.get_mode_number:00000000 get_mode_number
  C:\Temp\ccXxZtj5.s:69     .text.get_mode_number:00000008 $d
  C:\Temp\ccXxZtj5.s:74     .text.set_mode_number:00000000 $t
  C:\Temp\ccXxZtj5.s:81     .text.set_mode_number:00000000 set_mode_number
  C:\Temp\ccXxZtj5.s:98     .text.set_mode_number:00000008 $d
  C:\Temp\ccXxZtj5.s:103    .text.mode_select:00000000 $t
  C:\Temp\ccXxZtj5.s:110    .text.mode_select:00000000 mode_select
  C:\Temp\ccXxZtj5.s:188    .text.mode_select:00000068 $d
  C:\Temp\ccXxZtj5.s:204    .text.mode_select:00000078 $t
  C:\Temp\ccXxZtj5.s:461    .text.mode_select:00000228 $d
  C:\Temp\ccXxZtj5.s:470    .text.mode_decide_jud:00000000 $t
  C:\Temp\ccXxZtj5.s:477    .text.mode_decide_jud:00000000 mode_decide_jud
  C:\Temp\ccXxZtj5.s:514    .text.mode_decide_jud:0000001c $d
  C:\Temp\ccXxZtj5.s:519    .text.mode_start:00000000 $t
  C:\Temp\ccXxZtj5.s:526    .text.mode_start:00000000 mode_start
  C:\Temp\ccXxZtj5.s:563    .text.mode_start:00000020 $d
  C:\Temp\ccXxZtj5.s:568    .rodata.mode_main.str1.4:00000000 $d
  C:\Temp\ccXxZtj5.s:575    .text.mode_main:00000000 $t
  C:\Temp\ccXxZtj5.s:582    .text.mode_main:00000000 mode_main
  C:\Temp\ccXxZtj5.s:695    .text.mode_main:0000007c $d
  C:\Temp\ccXxZtj5.s:708    .bss.mode_count:00000000 mode_count
  C:\Temp\ccXxZtj5.s:709    .bss.mode_count:00000000 $d
  C:\Temp\ccXxZtj5.s:714    .bss.mode_number:00000000 mode_number
  C:\Temp\ccXxZtj5.s:715    .bss.mode_number:00000000 $d
  C:\Temp\ccXxZtj5.s:720    .bss.mode_number_old.10048:00000000 mode_number_old.10048
  C:\Temp\ccXxZtj5.s:721    .bss.mode_number_old.10048:00000000 $d
  C:\Temp\ccXxZtj5.s:726    .bss.mode_state:00000000 mode_state
  C:\Temp\ccXxZtj5.s:727    .bss.mode_state:00000000 $d
  C:\Temp\ccXxZtj5.s:732    .bss.ready_mode:00000000 ready_mode
  C:\Temp\ccXxZtj5.s:733    .bss.ready_mode:00000000 $d

UNDEFINED SYMBOLS
get_tire_r_speed
init_tire_speed
HAL_Delay
get_tire_r_speed_max
get_tire_r_speed_min
HAL_GPIO_WritePin
get_tire_l_speed_max
Sensor_GetValue
Sensor_StopADC
printf
Sensor_Initialize
